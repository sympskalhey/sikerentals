var t1=t=>{throw TypeError(t)};var Lv=(t,e,n)=>e.has(t)||t1("Cannot "+n);var Z=(t,e,n)=>(Lv(t,e,"read from private field"),n?n.call(t):e.get(t)),vt=(t,e,n)=>e.has(t)?t1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ke=(t,e,n,r)=>(Lv(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Sn=(t,e,n)=>(Lv(t,e,"access private method"),n);var bf=(t,e,n,r)=>({set _(s){Ke(t,e,s,n)},get _(){return Z(t,e,r)}});function gL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function SC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IC={exports:{}},tg={},kC={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh=Symbol.for("react.element"),vL=Symbol.for("react.portal"),yL=Symbol.for("react.fragment"),xL=Symbol.for("react.strict_mode"),wL=Symbol.for("react.profiler"),_L=Symbol.for("react.provider"),bL=Symbol.for("react.context"),EL=Symbol.for("react.forward_ref"),NL=Symbol.for("react.suspense"),jL=Symbol.for("react.memo"),TL=Symbol.for("react.lazy"),n1=Symbol.iterator;function CL(t){return t===null||typeof t!="object"?null:(t=n1&&t[n1]||t["@@iterator"],typeof t=="function"?t:null)}var RC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PC=Object.assign,AC={};function Kc(t,e,n){this.props=t,this.context=e,this.refs=AC,this.updater=n||RC}Kc.prototype.isReactComponent={};Kc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DC(){}DC.prototype=Kc.prototype;function i0(t,e,n){this.props=t,this.context=e,this.refs=AC,this.updater=n||RC}var o0=i0.prototype=new DC;o0.constructor=i0;PC(o0,Kc.prototype);o0.isPureReactComponent=!0;var r1=Array.isArray,MC=Object.prototype.hasOwnProperty,a0={current:null},OC={key:!0,ref:!0,__self:!0,__source:!0};function LC(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)MC.call(e,r)&&!OC.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Nh,type:t,key:i,ref:a,props:s,_owner:a0.current}}function SL(t,e){return{$$typeof:Nh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function l0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nh}function IL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var s1=/\/+/g;function Vv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IL(""+t.key):e.toString(36)}function im(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Nh:case vL:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Vv(a,0):r,r1(s)?(n="",t!=null&&(n=t.replace(s1,"$&/")+"/"),im(s,e,n,"",function(u){return u})):s!=null&&(l0(s)&&(s=SL(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(s1,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",r1(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Vv(i,l);a+=im(i,e,n,c,s)}else if(c=CL(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Vv(i,l++),a+=im(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ef(t,e,n){if(t==null)return t;var r=[],s=0;return im(t,r,"","",function(i){return e.call(n,i,s++)}),r}function kL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jn={current:null},om={transition:null},RL={ReactCurrentDispatcher:Jn,ReactCurrentBatchConfig:om,ReactCurrentOwner:a0};function VC(){throw Error("act(...) is not supported in production builds of React.")}nt.Children={map:Ef,forEach:function(t,e,n){Ef(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ef(t,function(){e++}),e},toArray:function(t){return Ef(t,function(e){return e})||[]},only:function(t){if(!l0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Component=Kc;nt.Fragment=yL;nt.Profiler=wL;nt.PureComponent=i0;nt.StrictMode=xL;nt.Suspense=NL;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RL;nt.act=VC;nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PC({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=a0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)MC.call(e,c)&&!OC.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Nh,type:t.type,key:s,ref:i,props:r,_owner:a}};nt.createContext=function(t){return t={$$typeof:bL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_L,_context:t},t.Consumer=t};nt.createElement=LC;nt.createFactory=function(t){var e=LC.bind(null,t);return e.type=t,e};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:EL,render:t}};nt.isValidElement=l0;nt.lazy=function(t){return{$$typeof:TL,_payload:{_status:-1,_result:t},_init:kL}};nt.memo=function(t,e){return{$$typeof:jL,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=om.transition;om.transition={};try{t()}finally{om.transition=e}};nt.unstable_act=VC;nt.useCallback=function(t,e){return Jn.current.useCallback(t,e)};nt.useContext=function(t){return Jn.current.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t){return Jn.current.useDeferredValue(t)};nt.useEffect=function(t,e){return Jn.current.useEffect(t,e)};nt.useId=function(){return Jn.current.useId()};nt.useImperativeHandle=function(t,e,n){return Jn.current.useImperativeHandle(t,e,n)};nt.useInsertionEffect=function(t,e){return Jn.current.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return Jn.current.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return Jn.current.useMemo(t,e)};nt.useReducer=function(t,e,n){return Jn.current.useReducer(t,e,n)};nt.useRef=function(t){return Jn.current.useRef(t)};nt.useState=function(t){return Jn.current.useState(t)};nt.useSyncExternalStore=function(t,e,n){return Jn.current.useSyncExternalStore(t,e,n)};nt.useTransition=function(){return Jn.current.useTransition()};nt.version="18.3.1";kC.exports=nt;var p=kC.exports;const Y=SC(p),FC=gL({__proto__:null,default:Y},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL=p,AL=Symbol.for("react.element"),DL=Symbol.for("react.fragment"),ML=Object.prototype.hasOwnProperty,OL=PL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LL={key:!0,ref:!0,__self:!0,__source:!0};function $C(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)ML.call(e,r)&&!LL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:AL,type:t,key:i,ref:a,props:s,_owner:OL.current}}tg.Fragment=DL;tg.jsx=$C;tg.jsxs=$C;IC.exports=tg;var o=IC.exports,UC={exports:{}},Ir={},BC={exports:{}},zC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var re=M.length;M.push(U);e:for(;0<re;){var ee=re-1>>>1,ce=M[ee];if(0<s(ce,U))M[ee]=U,M[re]=ce,re=ee;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],re=M.pop();if(re!==U){M[0]=re;e:for(var ee=0,ce=M.length,ge=ce>>>1;ee<ge;){var Ue=2*(ee+1)-1,gt=M[Ue],je=Ue+1,de=M[je];if(0>s(gt,re))je<ce&&0>s(de,gt)?(M[ee]=de,M[je]=re,ee=je):(M[ee]=gt,M[Ue]=re,ee=Ue);else if(je<ce&&0>s(de,re))M[ee]=de,M[je]=re,ee=je;else break e}}return U}function s(M,U){var re=M.sortIndex-U.sortIndex;return re!==0?re:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,_=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=M)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function S(M){if(v=!1,E(M),!_)if(n(c)!==null)_=!0,ne(A);else{var U=n(u);U!==null&&q(S,U.startTime-M)}}function A(M,U){_=!1,v&&(v=!1,b(j),j=-1),g=!0;var re=m;try{for(E(U),f=n(c);f!==null&&(!(f.expirationTime>U)||M&&!D());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,m=f.priorityLevel;var ce=ee(f.expirationTime<=U);U=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(c)&&r(c),E(U)}else r(c);f=n(c)}if(f!==null)var ge=!0;else{var Ue=n(u);Ue!==null&&q(S,Ue.startTime-U),ge=!1}return ge}finally{f=null,m=re,g=!1}}var V=!1,T=null,j=-1,C=5,R=-1;function D(){return!(t.unstable_now()-R<C)}function P(){if(T!==null){var M=t.unstable_now();R=M;var U=!0;try{U=T(!0,M)}finally{U?k():(V=!1,T=null)}}else V=!1}var k;if(typeof w=="function")k=function(){w(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,le=H.port2;H.port1.onmessage=P,k=function(){le.postMessage(null)}}else k=function(){x(P,0)};function ne(M){T=M,V||(V=!0,k())}function q(M,U){j=x(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,ne(A))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var re=m;m=U;try{return M()}finally{m=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var re=m;m=M;try{return U()}finally{m=re}},t.unstable_scheduleCallback=function(M,U,re){var ee=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ee+re:ee):re=ee,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=re+ce,M={id:d++,callback:U,priorityLevel:M,startTime:re,expirationTime:ce,sortIndex:-1},re>ee?(M.sortIndex=re,e(u,M),n(c)===null&&M===n(u)&&(v?(b(j),j=-1):v=!0,q(S,re-ee))):(M.sortIndex=ce,e(c,M),_||g||(_=!0,ne(A))),M},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(M){var U=m;return function(){var re=m;m=U;try{return M.apply(this,arguments)}finally{m=re}}}})(zC);BC.exports=zC;var VL=BC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL=p,Sr=VL;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WC=new Set,bd={};function cl(t,e){Ec(t,e),Ec(t+"Capture",e)}function Ec(t,e){for(bd[t]=e,t=0;t<e.length;t++)WC.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nx=Object.prototype.hasOwnProperty,$L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i1={},o1={};function UL(t){return nx.call(o1,t)?!0:nx.call(i1,t)?!1:$L.test(t)?o1[t]=!0:(i1[t]=!0,!1)}function BL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zL(t,e,n,r){if(e===null||typeof e>"u"||BL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function er(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){En[t]=new er(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];En[e]=new er(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){En[t]=new er(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){En[t]=new er(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){En[t]=new er(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){En[t]=new er(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){En[t]=new er(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){En[t]=new er(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){En[t]=new er(t,5,!1,t.toLowerCase(),null,!1,!1)});var c0=/[\-:]([a-z])/g;function u0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(c0,u0);En[e]=new er(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(c0,u0);En[e]=new er(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(c0,u0);En[e]=new er(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){En[t]=new er(t,1,!1,t.toLowerCase(),null,!1,!1)});En.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){En[t]=new er(t,1,!1,t.toLowerCase(),null,!0,!0)});function d0(t,e,n,r){var s=En.hasOwnProperty(e)?En[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zL(e,n,s,r)&&(n=null),r||s===null?UL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hi=FL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nf=Symbol.for("react.element"),Fl=Symbol.for("react.portal"),$l=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),rx=Symbol.for("react.profiler"),HC=Symbol.for("react.provider"),qC=Symbol.for("react.context"),f0=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ix=Symbol.for("react.suspense_list"),m0=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),KC=Symbol.for("react.offscreen"),a1=Symbol.iterator;function Cu(t){return t===null||typeof t!="object"?null:(t=a1&&t[a1]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,Fv;function Bu(t){if(Fv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fv=e&&e[1]||""}return`
`+Fv+t}var $v=!1;function Uv(t,e){if(!t||$v)return"";$v=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{$v=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bu(t):""}function WL(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=Uv(t.type,!1),t;case 11:return t=Uv(t.type.render,!1),t;case 1:return t=Uv(t.type,!0),t;default:return""}}function ox(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $l:return"Fragment";case Fl:return"Portal";case rx:return"Profiler";case h0:return"StrictMode";case sx:return"Suspense";case ix:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qC:return(t.displayName||"Context")+".Consumer";case HC:return(t._context.displayName||"Context")+".Provider";case f0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case m0:return e=t.displayName||null,e!==null?e:ox(t.type)||"Memo";case fo:e=t._payload,t=t._init;try{return ox(t(e))}catch{}}return null}function HL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ox(e);case 8:return e===h0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qL(t){var e=GC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jf(t){t._valueTracker||(t._valueTracker=qL(t))}function YC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ax(t,e){var n=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QC(t,e){e=e.checked,e!=null&&d0(t,"checked",e,!1)}function lx(t,e){QC(t,e);var n=qo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cx(t,e.type,n):e.hasOwnProperty("defaultValue")&&cx(t,e.type,qo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cx(t,e,n){(e!=="number"||Dm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zu=Array.isArray;function Jl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qo(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ux(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(zu(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qo(n)}}function ZC(t,e){var n=qo(e.value),r=qo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function XC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?XC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tf,JC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tf=Tf||document.createElement("div"),Tf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ed(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KL=["Webkit","ms","Moz","O"];Object.keys(sd).forEach(function(t){KL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sd[e]=sd[t]})});function eS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sd.hasOwnProperty(t)&&sd[t]?(""+e).trim():e+"px"}function tS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=eS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var GL=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hx(t,e){if(e){if(GL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function fx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mx=null;function p0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var px=null,ec=null,tc=null;function h1(t){if(t=Ch(t)){if(typeof px!="function")throw Error(J(280));var e=t.stateNode;e&&(e=og(e),px(t.stateNode,t.type,e))}}function nS(t){ec?tc?tc.push(t):tc=[t]:ec=t}function rS(){if(ec){var t=ec,e=tc;if(tc=ec=null,h1(t),e)for(t=0;t<e.length;t++)h1(e[t])}}function sS(t,e){return t(e)}function iS(){}var Bv=!1;function oS(t,e,n){if(Bv)return t(e,n);Bv=!0;try{return sS(t,e,n)}finally{Bv=!1,(ec!==null||tc!==null)&&(iS(),rS())}}function Nd(t,e){var n=t.stateNode;if(n===null)return null;var r=og(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var gx=!1;if(Pi)try{var Su={};Object.defineProperty(Su,"passive",{get:function(){gx=!0}}),window.addEventListener("test",Su,Su),window.removeEventListener("test",Su,Su)}catch{gx=!1}function YL(t,e,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var id=!1,Mm=null,Om=!1,vx=null,QL={onError:function(t){id=!0,Mm=t}};function ZL(t,e,n,r,s,i,a,l,c){id=!1,Mm=null,YL.apply(QL,arguments)}function XL(t,e,n,r,s,i,a,l,c){if(ZL.apply(this,arguments),id){if(id){var u=Mm;id=!1,Mm=null}else throw Error(J(198));Om||(Om=!0,vx=u)}}function ul(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f1(t){if(ul(t)!==t)throw Error(J(188))}function JL(t){var e=t.alternate;if(!e){if(e=ul(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return f1(s),t;if(i===r)return f1(s),e;i=i.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function lS(t){return t=JL(t),t!==null?cS(t):null}function cS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cS(t);if(e!==null)return e;t=t.sibling}return null}var uS=Sr.unstable_scheduleCallback,m1=Sr.unstable_cancelCallback,eV=Sr.unstable_shouldYield,tV=Sr.unstable_requestPaint,en=Sr.unstable_now,nV=Sr.unstable_getCurrentPriorityLevel,g0=Sr.unstable_ImmediatePriority,dS=Sr.unstable_UserBlockingPriority,Lm=Sr.unstable_NormalPriority,rV=Sr.unstable_LowPriority,hS=Sr.unstable_IdlePriority,ng=null,Ls=null;function sV(t){if(Ls&&typeof Ls.onCommitFiberRoot=="function")try{Ls.onCommitFiberRoot(ng,t,void 0,(t.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:aV,iV=Math.log,oV=Math.LN2;function aV(t){return t>>>=0,t===0?32:31-(iV(t)/oV|0)|0}var Cf=64,Sf=4194304;function Wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Wu(l):(i&=a,i!==0&&(r=Wu(i)))}else a=n&~s,a!==0?r=Wu(a):i!==0&&(r=Wu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-os(e),s=1<<n,r|=t[n],e&=~s;return r}function lV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-os(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=lV(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function yx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fS(){var t=Cf;return Cf<<=1,!(Cf&4194240)&&(Cf=64),t}function zv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-os(e),t[e]=n}function uV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-os(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function v0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-os(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Et=0;function mS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pS,y0,gS,vS,yS,xx=!1,If=[],Po=null,Ao=null,Do=null,jd=new Map,Td=new Map,po=[],dV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p1(t,e){switch(t){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":jd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(e.pointerId)}}function Iu(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ch(e),e!==null&&y0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hV(t,e,n,r,s){switch(e){case"focusin":return Po=Iu(Po,t,e,n,r,s),!0;case"dragenter":return Ao=Iu(Ao,t,e,n,r,s),!0;case"mouseover":return Do=Iu(Do,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jd.set(i,Iu(jd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Td.set(i,Iu(Td.get(i)||null,t,e,n,r,s)),!0}return!1}function xS(t){var e=ka(t.target);if(e!==null){var n=ul(e);if(n!==null){if(e=n.tag,e===13){if(e=aS(n),e!==null){t.blockedOn=e,yS(t.priority,function(){gS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function am(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mx=r,n.target.dispatchEvent(r),mx=null}else return e=Ch(n),e!==null&&y0(e),t.blockedOn=n,!1;e.shift()}return!0}function g1(t,e,n){am(t)&&n.delete(e)}function fV(){xx=!1,Po!==null&&am(Po)&&(Po=null),Ao!==null&&am(Ao)&&(Ao=null),Do!==null&&am(Do)&&(Do=null),jd.forEach(g1),Td.forEach(g1)}function ku(t,e){t.blockedOn===e&&(t.blockedOn=null,xx||(xx=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,fV)))}function Cd(t){function e(s){return ku(s,t)}if(0<If.length){ku(If[0],t);for(var n=1;n<If.length;n++){var r=If[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Po!==null&&ku(Po,t),Ao!==null&&ku(Ao,t),Do!==null&&ku(Do,t),jd.forEach(e),Td.forEach(e),n=0;n<po.length;n++)r=po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)xS(n),n.blockedOn===null&&po.shift()}var nc=Hi.ReactCurrentBatchConfig,Fm=!0;function mV(t,e,n,r){var s=Et,i=nc.transition;nc.transition=null;try{Et=1,x0(t,e,n,r)}finally{Et=s,nc.transition=i}}function pV(t,e,n,r){var s=Et,i=nc.transition;nc.transition=null;try{Et=4,x0(t,e,n,r)}finally{Et=s,nc.transition=i}}function x0(t,e,n,r){if(Fm){var s=wx(t,e,n,r);if(s===null)Jv(t,e,r,$m,n),p1(t,r);else if(hV(s,t,e,n,r))r.stopPropagation();else if(p1(t,r),e&4&&-1<dV.indexOf(t)){for(;s!==null;){var i=Ch(s);if(i!==null&&pS(i),i=wx(t,e,n,r),i===null&&Jv(t,e,r,$m,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jv(t,e,r,null,n)}}var $m=null;function wx(t,e,n,r){if($m=null,t=p0(r),t=ka(t),t!==null)if(e=ul(t),e===null)t=null;else if(n=e.tag,n===13){if(t=aS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $m=t,null}function wS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nV()){case g0:return 1;case dS:return 4;case Lm:case rV:return 16;case hS:return 536870912;default:return 16}default:return 16}}var So=null,w0=null,lm=null;function _S(){if(lm)return lm;var t,e=w0,n=e.length,r,s="value"in So?So.value:So.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return lm=s.slice(t,1<r?1-r:void 0)}function cm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kf(){return!0}function v1(){return!1}function kr(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kf:v1,this.isPropagationStopped=v1,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kf)},persist:function(){},isPersistent:kf}),e}var Gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_0=kr(Gc),Th=zt({},Gc,{view:0,detail:0}),gV=kr(Th),Wv,Hv,Ru,rg=zt({},Th,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ru&&(Ru&&t.type==="mousemove"?(Wv=t.screenX-Ru.screenX,Hv=t.screenY-Ru.screenY):Hv=Wv=0,Ru=t),Wv)},movementY:function(t){return"movementY"in t?t.movementY:Hv}}),y1=kr(rg),vV=zt({},rg,{dataTransfer:0}),yV=kr(vV),xV=zt({},Th,{relatedTarget:0}),qv=kr(xV),wV=zt({},Gc,{animationName:0,elapsedTime:0,pseudoElement:0}),_V=kr(wV),bV=zt({},Gc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EV=kr(bV),NV=zt({},Gc,{data:0}),x1=kr(NV),jV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CV[t])?!!e[t]:!1}function b0(){return SV}var IV=zt({},Th,{key:function(t){if(t.key){var e=jV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b0,charCode:function(t){return t.type==="keypress"?cm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kV=kr(IV),RV=zt({},rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=kr(RV),PV=zt({},Th,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b0}),AV=kr(PV),DV=zt({},Gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),MV=kr(DV),OV=zt({},rg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LV=kr(OV),VV=[9,13,27,32],E0=Pi&&"CompositionEvent"in window,od=null;Pi&&"documentMode"in document&&(od=document.documentMode);var FV=Pi&&"TextEvent"in window&&!od,bS=Pi&&(!E0||od&&8<od&&11>=od),_1=" ",b1=!1;function ES(t,e){switch(t){case"keyup":return VV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ul=!1;function $V(t,e){switch(t){case"compositionend":return NS(e);case"keypress":return e.which!==32?null:(b1=!0,_1);case"textInput":return t=e.data,t===_1&&b1?null:t;default:return null}}function UV(t,e){if(Ul)return t==="compositionend"||!E0&&ES(t,e)?(t=_S(),lm=w0=So=null,Ul=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bS&&e.locale!=="ko"?null:e.data;default:return null}}var BV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BV[t.type]:e==="textarea"}function jS(t,e,n,r){nS(r),e=Um(e,"onChange"),0<e.length&&(n=new _0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ad=null,Sd=null;function zV(t){OS(t,0)}function sg(t){var e=Wl(t);if(YC(e))return t}function WV(t,e){if(t==="change")return e}var TS=!1;if(Pi){var Kv;if(Pi){var Gv="oninput"in document;if(!Gv){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),Gv=typeof N1.oninput=="function"}Kv=Gv}else Kv=!1;TS=Kv&&(!document.documentMode||9<document.documentMode)}function j1(){ad&&(ad.detachEvent("onpropertychange",CS),Sd=ad=null)}function CS(t){if(t.propertyName==="value"&&sg(Sd)){var e=[];jS(e,Sd,t,p0(t)),oS(zV,e)}}function HV(t,e,n){t==="focusin"?(j1(),ad=e,Sd=n,ad.attachEvent("onpropertychange",CS)):t==="focusout"&&j1()}function qV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sg(Sd)}function KV(t,e){if(t==="click")return sg(e)}function GV(t,e){if(t==="input"||t==="change")return sg(e)}function YV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ds=typeof Object.is=="function"?Object.is:YV;function Id(t,e){if(ds(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!nx.call(e,s)||!ds(t[s],e[s]))return!1}return!0}function T1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C1(t,e){var n=T1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T1(n)}}function SS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?SS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IS(){for(var t=window,e=Dm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dm(t.document)}return e}function N0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function QV(t){var e=IS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&SS(n.ownerDocument.documentElement,n)){if(r!==null&&N0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=C1(n,i);var a=C1(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZV=Pi&&"documentMode"in document&&11>=document.documentMode,Bl=null,_x=null,ld=null,bx=!1;function S1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bx||Bl==null||Bl!==Dm(r)||(r=Bl,"selectionStart"in r&&N0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ld&&Id(ld,r)||(ld=r,r=Um(_x,"onSelect"),0<r.length&&(e=new _0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bl)))}function Rf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zl={animationend:Rf("Animation","AnimationEnd"),animationiteration:Rf("Animation","AnimationIteration"),animationstart:Rf("Animation","AnimationStart"),transitionend:Rf("Transition","TransitionEnd")},Yv={},kS={};Pi&&(kS=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function ig(t){if(Yv[t])return Yv[t];if(!zl[t])return t;var e=zl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kS)return Yv[t]=e[n];return t}var RS=ig("animationend"),PS=ig("animationiteration"),AS=ig("animationstart"),DS=ig("transitionend"),MS=new Map,I1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(t,e){MS.set(t,e),cl(e,[t])}for(var Qv=0;Qv<I1.length;Qv++){var Zv=I1[Qv],XV=Zv.toLowerCase(),JV=Zv[0].toUpperCase()+Zv.slice(1);ua(XV,"on"+JV)}ua(RS,"onAnimationEnd");ua(PS,"onAnimationIteration");ua(AS,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(DS,"onTransitionEnd");Ec("onMouseEnter",["mouseout","mouseover"]);Ec("onMouseLeave",["mouseout","mouseover"]);Ec("onPointerEnter",["pointerout","pointerover"]);Ec("onPointerLeave",["pointerout","pointerover"]);cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hu));function k1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XL(r,e,void 0,t),t.currentTarget=null}function OS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;k1(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;k1(s,l,u),i=c}}}if(Om)throw t=vx,Om=!1,vx=null,t}function At(t,e){var n=e[Cx];n===void 0&&(n=e[Cx]=new Set);var r=t+"__bubble";n.has(r)||(LS(e,t,2,!1),n.add(r))}function Xv(t,e,n){var r=0;e&&(r|=4),LS(n,t,r,e)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Pf]){t[Pf]=!0,WC.forEach(function(n){n!=="selectionchange"&&(eF.has(n)||Xv(n,!1,t),Xv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pf]||(e[Pf]=!0,Xv("selectionchange",!1,e))}}function LS(t,e,n,r){switch(wS(e)){case 1:var s=mV;break;case 4:s=pV;break;default:s=x0}n=s.bind(null,e,n,t),s=void 0,!gx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jv(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ka(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}oS(function(){var u=i,d=p0(n),f=[];e:{var m=MS.get(t);if(m!==void 0){var g=_0,_=t;switch(t){case"keypress":if(cm(n)===0)break e;case"keydown":case"keyup":g=kV;break;case"focusin":_="focus",g=qv;break;case"focusout":_="blur",g=qv;break;case"beforeblur":case"afterblur":g=qv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=yV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=AV;break;case RS:case PS:case AS:g=_V;break;case DS:g=MV;break;case"scroll":g=gV;break;case"wheel":g=LV;break;case"copy":case"cut":case"paste":g=EV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=w1}var v=(e&4)!==0,x=!v&&t==="scroll",b=v?m!==null?m+"Capture":null:m;v=[];for(var w=u,E;w!==null;){E=w;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,b!==null&&(S=Nd(w,b),S!=null&&v.push(Rd(w,S,E)))),x)break;w=w.return}0<v.length&&(m=new g(m,_,null,n,d),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==mx&&(_=n.relatedTarget||n.fromElement)&&(ka(_)||_[Ai]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?ka(_):null,_!==null&&(x=ul(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=y1,S="onMouseLeave",b="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=w1,S="onPointerLeave",b="onPointerEnter",w="pointer"),x=g==null?m:Wl(g),E=_==null?m:Wl(_),m=new v(S,w+"leave",g,n,d),m.target=x,m.relatedTarget=E,S=null,ka(d)===u&&(v=new v(b,w+"enter",_,n,d),v.target=E,v.relatedTarget=x,S=v),x=S,g&&_)t:{for(v=g,b=_,w=0,E=v;E;E=Cl(E))w++;for(E=0,S=b;S;S=Cl(S))E++;for(;0<w-E;)v=Cl(v),w--;for(;0<E-w;)b=Cl(b),E--;for(;w--;){if(v===b||b!==null&&v===b.alternate)break t;v=Cl(v),b=Cl(b)}v=null}else v=null;g!==null&&R1(f,m,g,v,!1),_!==null&&x!==null&&R1(f,x,_,v,!0)}}e:{if(m=u?Wl(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var A=WV;else if(E1(m))if(TS)A=GV;else{A=qV;var V=HV}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(A=KV);if(A&&(A=A(t,u))){jS(f,A,n,d);break e}V&&V(t,m,u),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&cx(m,"number",m.value)}switch(V=u?Wl(u):window,t){case"focusin":(E1(V)||V.contentEditable==="true")&&(Bl=V,_x=u,ld=null);break;case"focusout":ld=_x=Bl=null;break;case"mousedown":bx=!0;break;case"contextmenu":case"mouseup":case"dragend":bx=!1,S1(f,n,d);break;case"selectionchange":if(ZV)break;case"keydown":case"keyup":S1(f,n,d)}var T;if(E0)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ul?ES(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(bS&&n.locale!=="ko"&&(Ul||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ul&&(T=_S()):(So=d,w0="value"in So?So.value:So.textContent,Ul=!0)),V=Um(u,j),0<V.length&&(j=new x1(j,t,null,n,d),f.push({event:j,listeners:V}),T?j.data=T:(T=NS(n),T!==null&&(j.data=T)))),(T=FV?$V(t,n):UV(t,n))&&(u=Um(u,"onBeforeInput"),0<u.length&&(d=new x1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}OS(f,e)})}function Rd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Um(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nd(t,n),i!=null&&r.unshift(Rd(t,i,s)),i=Nd(t,e),i!=null&&r.push(Rd(t,i,s))),t=t.return}return r}function Cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function R1(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Nd(n,i),c!=null&&a.unshift(Rd(n,c,l))):s||(c=Nd(n,i),c!=null&&a.push(Rd(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var tF=/\r\n?/g,nF=/\u0000|\uFFFD/g;function P1(t){return(typeof t=="string"?t:""+t).replace(tF,`
`).replace(nF,"")}function Af(t,e,n){if(e=P1(e),P1(t)!==e&&n)throw Error(J(425))}function Bm(){}var Ex=null,Nx=null;function jx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tx=typeof setTimeout=="function"?setTimeout:void 0,rF=typeof clearTimeout=="function"?clearTimeout:void 0,A1=typeof Promise=="function"?Promise:void 0,sF=typeof queueMicrotask=="function"?queueMicrotask:typeof A1<"u"?function(t){return A1.resolve(null).then(t).catch(iF)}:Tx;function iF(t){setTimeout(function(){throw t})}function ey(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Cd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Cd(e)}function Mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yc=Math.random().toString(36).slice(2),Ps="__reactFiber$"+Yc,Pd="__reactProps$"+Yc,Ai="__reactContainer$"+Yc,Cx="__reactEvents$"+Yc,oF="__reactListeners$"+Yc,aF="__reactHandles$"+Yc;function ka(t){var e=t[Ps];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ai]||n[Ps]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D1(t);t!==null;){if(n=t[Ps])return n;t=D1(t)}return e}t=n,n=t.parentNode}return null}function Ch(t){return t=t[Ps]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function og(t){return t[Pd]||null}var Sx=[],Hl=-1;function da(t){return{current:t}}function Mt(t){0>Hl||(t.current=Sx[Hl],Sx[Hl]=null,Hl--)}function It(t,e){Hl++,Sx[Hl]=t.current,t.current=e}var Ko={},Ln=da(Ko),ur=da(!1),za=Ko;function Nc(t,e){var n=t.type.contextTypes;if(!n)return Ko;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dr(t){return t=t.childContextTypes,t!=null}function zm(){Mt(ur),Mt(Ln)}function M1(t,e,n){if(Ln.current!==Ko)throw Error(J(168));It(Ln,e),It(ur,n)}function VS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(J(108,HL(t)||"Unknown",s));return zt({},n,r)}function Wm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ko,za=Ln.current,It(Ln,t),It(ur,ur.current),!0}function O1(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=VS(t,e,za),r.__reactInternalMemoizedMergedChildContext=t,Mt(ur),Mt(Ln),It(Ln,t)):Mt(ur),It(ur,n)}var xi=null,ag=!1,ty=!1;function FS(t){xi===null?xi=[t]:xi.push(t)}function lF(t){ag=!0,FS(t)}function ha(){if(!ty&&xi!==null){ty=!0;var t=0,e=Et;try{var n=xi;for(Et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xi=null,ag=!1}catch(s){throw xi!==null&&(xi=xi.slice(t+1)),uS(g0,ha),s}finally{Et=e,ty=!1}}return null}var ql=[],Kl=0,Hm=null,qm=0,Dr=[],Mr=0,Wa=null,wi=1,_i="";function Ta(t,e){ql[Kl++]=qm,ql[Kl++]=Hm,Hm=t,qm=e}function $S(t,e,n){Dr[Mr++]=wi,Dr[Mr++]=_i,Dr[Mr++]=Wa,Wa=t;var r=wi;t=_i;var s=32-os(r)-1;r&=~(1<<s),n+=1;var i=32-os(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,wi=1<<32-os(e)+s|n<<s|r,_i=i+t}else wi=1<<i|n<<s|r,_i=t}function j0(t){t.return!==null&&(Ta(t,1),$S(t,1,0))}function T0(t){for(;t===Hm;)Hm=ql[--Kl],ql[Kl]=null,qm=ql[--Kl],ql[Kl]=null;for(;t===Wa;)Wa=Dr[--Mr],Dr[Mr]=null,_i=Dr[--Mr],Dr[Mr]=null,wi=Dr[--Mr],Dr[Mr]=null}var jr=null,br=null,Lt=!1,ts=null;function US(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,br=Mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wa!==null?{id:wi,overflow:_i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,br=null,!0):!1;default:return!1}}function Ix(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kx(t){if(Lt){var e=br;if(e){var n=e;if(!L1(t,e)){if(Ix(t))throw Error(J(418));e=Mo(n.nextSibling);var r=jr;e&&L1(t,e)?US(r,n):(t.flags=t.flags&-4097|2,Lt=!1,jr=t)}}else{if(Ix(t))throw Error(J(418));t.flags=t.flags&-4097|2,Lt=!1,jr=t}}}function V1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function Df(t){if(t!==jr)return!1;if(!Lt)return V1(t),Lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jx(t.type,t.memoizedProps)),e&&(e=br)){if(Ix(t))throw BS(),Error(J(418));for(;e;)US(t,e),e=Mo(e.nextSibling)}if(V1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){br=Mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}br=null}}else br=jr?Mo(t.stateNode.nextSibling):null;return!0}function BS(){for(var t=br;t;)t=Mo(t.nextSibling)}function jc(){br=jr=null,Lt=!1}function C0(t){ts===null?ts=[t]:ts.push(t)}var cF=Hi.ReactCurrentBatchConfig;function Pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Mf(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F1(t){var e=t._init;return e(t._payload)}function zS(t){function e(b,w){if(t){var E=b.deletions;E===null?(b.deletions=[w],b.flags|=16):E.push(w)}}function n(b,w){if(!t)return null;for(;w!==null;)e(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function s(b,w){return b=Fo(b,w),b.index=0,b.sibling=null,b}function i(b,w,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<w?(b.flags|=2,w):E):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,w,E,S){return w===null||w.tag!==6?(w=ly(E,b.mode,S),w.return=b,w):(w=s(w,E),w.return=b,w)}function c(b,w,E,S){var A=E.type;return A===$l?d(b,w,E.props.children,S,E.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===fo&&F1(A)===w.type)?(S=s(w,E.props),S.ref=Pu(b,w,E),S.return=b,S):(S=gm(E.type,E.key,E.props,null,b.mode,S),S.ref=Pu(b,w,E),S.return=b,S)}function u(b,w,E,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=cy(E,b.mode,S),w.return=b,w):(w=s(w,E.children||[]),w.return=b,w)}function d(b,w,E,S,A){return w===null||w.tag!==7?(w=Ua(E,b.mode,S,A),w.return=b,w):(w=s(w,E),w.return=b,w)}function f(b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ly(""+w,b.mode,E),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nf:return E=gm(w.type,w.key,w.props,null,b.mode,E),E.ref=Pu(b,null,w),E.return=b,E;case Fl:return w=cy(w,b.mode,E),w.return=b,w;case fo:var S=w._init;return f(b,S(w._payload),E)}if(zu(w)||Cu(w))return w=Ua(w,b.mode,E,null),w.return=b,w;Mf(b,w)}return null}function m(b,w,E,S){var A=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return A!==null?null:l(b,w,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nf:return E.key===A?c(b,w,E,S):null;case Fl:return E.key===A?u(b,w,E,S):null;case fo:return A=E._init,m(b,w,A(E._payload),S)}if(zu(E)||Cu(E))return A!==null?null:d(b,w,E,S,null);Mf(b,E)}return null}function g(b,w,E,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(E)||null,l(w,b,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nf:return b=b.get(S.key===null?E:S.key)||null,c(w,b,S,A);case Fl:return b=b.get(S.key===null?E:S.key)||null,u(w,b,S,A);case fo:var V=S._init;return g(b,w,E,V(S._payload),A)}if(zu(S)||Cu(S))return b=b.get(E)||null,d(w,b,S,A,null);Mf(w,S)}return null}function _(b,w,E,S){for(var A=null,V=null,T=w,j=w=0,C=null;T!==null&&j<E.length;j++){T.index>j?(C=T,T=null):C=T.sibling;var R=m(b,T,E[j],S);if(R===null){T===null&&(T=C);break}t&&T&&R.alternate===null&&e(b,T),w=i(R,w,j),V===null?A=R:V.sibling=R,V=R,T=C}if(j===E.length)return n(b,T),Lt&&Ta(b,j),A;if(T===null){for(;j<E.length;j++)T=f(b,E[j],S),T!==null&&(w=i(T,w,j),V===null?A=T:V.sibling=T,V=T);return Lt&&Ta(b,j),A}for(T=r(b,T);j<E.length;j++)C=g(T,b,j,E[j],S),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?j:C.key),w=i(C,w,j),V===null?A=C:V.sibling=C,V=C);return t&&T.forEach(function(D){return e(b,D)}),Lt&&Ta(b,j),A}function v(b,w,E,S){var A=Cu(E);if(typeof A!="function")throw Error(J(150));if(E=A.call(E),E==null)throw Error(J(151));for(var V=A=null,T=w,j=w=0,C=null,R=E.next();T!==null&&!R.done;j++,R=E.next()){T.index>j?(C=T,T=null):C=T.sibling;var D=m(b,T,R.value,S);if(D===null){T===null&&(T=C);break}t&&T&&D.alternate===null&&e(b,T),w=i(D,w,j),V===null?A=D:V.sibling=D,V=D,T=C}if(R.done)return n(b,T),Lt&&Ta(b,j),A;if(T===null){for(;!R.done;j++,R=E.next())R=f(b,R.value,S),R!==null&&(w=i(R,w,j),V===null?A=R:V.sibling=R,V=R);return Lt&&Ta(b,j),A}for(T=r(b,T);!R.done;j++,R=E.next())R=g(T,b,j,R.value,S),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?j:R.key),w=i(R,w,j),V===null?A=R:V.sibling=R,V=R);return t&&T.forEach(function(P){return e(b,P)}),Lt&&Ta(b,j),A}function x(b,w,E,S){if(typeof E=="object"&&E!==null&&E.type===$l&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Nf:e:{for(var A=E.key,V=w;V!==null;){if(V.key===A){if(A=E.type,A===$l){if(V.tag===7){n(b,V.sibling),w=s(V,E.props.children),w.return=b,b=w;break e}}else if(V.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===fo&&F1(A)===V.type){n(b,V.sibling),w=s(V,E.props),w.ref=Pu(b,V,E),w.return=b,b=w;break e}n(b,V);break}else e(b,V);V=V.sibling}E.type===$l?(w=Ua(E.props.children,b.mode,S,E.key),w.return=b,b=w):(S=gm(E.type,E.key,E.props,null,b.mode,S),S.ref=Pu(b,w,E),S.return=b,b=S)}return a(b);case Fl:e:{for(V=E.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(b,w.sibling),w=s(w,E.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else e(b,w);w=w.sibling}w=cy(E,b.mode,S),w.return=b,b=w}return a(b);case fo:return V=E._init,x(b,w,V(E._payload),S)}if(zu(E))return _(b,w,E,S);if(Cu(E))return v(b,w,E,S);Mf(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(b,w.sibling),w=s(w,E),w.return=b,b=w):(n(b,w),w=ly(E,b.mode,S),w.return=b,b=w),a(b)):n(b,w)}return x}var Tc=zS(!0),WS=zS(!1),Km=da(null),Gm=null,Gl=null,S0=null;function I0(){S0=Gl=Gm=null}function k0(t){var e=Km.current;Mt(Km),t._currentValue=e}function Rx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rc(t,e){Gm=t,S0=Gl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lr=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if(S0!==t)if(t={context:t,memoizedValue:e,next:null},Gl===null){if(Gm===null)throw Error(J(308));Gl=t,Gm.dependencies={lanes:0,firstContext:t}}else Gl=Gl.next=t;return e}var Ra=null;function R0(t){Ra===null?Ra=[t]:Ra.push(t)}function HS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,R0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Di(t,r)}function Di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var mo=!1;function P0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Di(t,n)}return s=r.interleaved,s===null?(e.next=e,R0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Di(t,n)}function um(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v0(t,n)}}function $1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ym(t,e,n,r){var s=t.updateQueue;mo=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,v=l;switch(m=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(g,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,m=typeof _=="function"?_.call(g,f,m):_,m==null)break e;f=zt({},f,m);break e;case 2:mo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qa|=a,t.lanes=a,t.memoizedState=f}}function U1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var Sh={},Vs=da(Sh),Ad=da(Sh),Dd=da(Sh);function Pa(t){if(t===Sh)throw Error(J(174));return t}function A0(t,e){switch(It(Dd,e),It(Ad,t),It(Vs,Sh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dx(e,t)}Mt(Vs),It(Vs,e)}function Cc(){Mt(Vs),Mt(Ad),Mt(Dd)}function KS(t){Pa(Dd.current);var e=Pa(Vs.current),n=dx(e,t.type);e!==n&&(It(Ad,t),It(Vs,n))}function D0(t){Ad.current===t&&(Mt(Vs),Mt(Ad))}var $t=da(0);function Qm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ny=[];function M0(){for(var t=0;t<ny.length;t++)ny[t]._workInProgressVersionPrimary=null;ny.length=0}var dm=Hi.ReactCurrentDispatcher,ry=Hi.ReactCurrentBatchConfig,Ha=0,Ut=null,on=null,mn=null,Zm=!1,cd=!1,Md=0,uF=0;function In(){throw Error(J(321))}function O0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ds(t[n],e[n]))return!1;return!0}function L0(t,e,n,r,s,i){if(Ha=i,Ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dm.current=t===null||t.memoizedState===null?mF:pF,t=n(r,s),cd){i=0;do{if(cd=!1,Md=0,25<=i)throw Error(J(301));i+=1,mn=on=null,e.updateQueue=null,dm.current=gF,t=n(r,s)}while(cd)}if(dm.current=Xm,e=on!==null&&on.next!==null,Ha=0,mn=on=Ut=null,Zm=!1,e)throw Error(J(300));return t}function V0(){var t=Md!==0;return Md=0,t}function Cs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Ut.memoizedState=mn=t:mn=mn.next=t,mn}function zr(){if(on===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=mn===null?Ut.memoizedState:mn.next;if(e!==null)mn=e,on=t;else{if(t===null)throw Error(J(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},mn===null?Ut.memoizedState=mn=t:mn=mn.next=t}return mn}function Od(t,e){return typeof e=="function"?e(t):e}function sy(t){var e=zr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=on,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((Ha&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Ut.lanes|=d,qa|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,ds(r,e.memoizedState)||(lr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ut.lanes|=i,qa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function iy(t){var e=zr(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);ds(i,e.memoizedState)||(lr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function GS(){}function YS(t,e){var n=Ut,r=zr(),s=e(),i=!ds(r.memoizedState,s);if(i&&(r.memoizedState=s,lr=!0),r=r.queue,F0(XS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Ld(9,ZS.bind(null,n,r,s,e),void 0,null),gn===null)throw Error(J(349));Ha&30||QS(n,e,s)}return s}function QS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZS(t,e,n,r){e.value=n,e.getSnapshot=r,JS(e)&&eI(t)}function XS(t,e,n){return n(function(){JS(e)&&eI(t)})}function JS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ds(t,n)}catch{return!0}}function eI(t){var e=Di(t,1);e!==null&&as(e,t,1,-1)}function B1(t){var e=Cs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:t},e.queue=t,t=t.dispatch=fF.bind(null,Ut,t),[e.memoizedState,t]}function Ld(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ut.updateQueue,e===null?(e={lastEffect:null,stores:null},Ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tI(){return zr().memoizedState}function hm(t,e,n,r){var s=Cs();Ut.flags|=t,s.memoizedState=Ld(1|e,n,void 0,r===void 0?null:r)}function lg(t,e,n,r){var s=zr();r=r===void 0?null:r;var i=void 0;if(on!==null){var a=on.memoizedState;if(i=a.destroy,r!==null&&O0(r,a.deps)){s.memoizedState=Ld(e,n,i,r);return}}Ut.flags|=t,s.memoizedState=Ld(1|e,n,i,r)}function z1(t,e){return hm(8390656,8,t,e)}function F0(t,e){return lg(2048,8,t,e)}function nI(t,e){return lg(4,2,t,e)}function rI(t,e){return lg(4,4,t,e)}function sI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iI(t,e,n){return n=n!=null?n.concat([t]):null,lg(4,4,sI.bind(null,e,t),n)}function $0(){}function oI(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&O0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aI(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&O0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lI(t,e,n){return Ha&21?(ds(n,e)||(n=fS(),Ut.lanes|=n,qa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=n)}function dF(t,e){var n=Et;Et=n!==0&&4>n?n:4,t(!0);var r=ry.transition;ry.transition={};try{t(!1),e()}finally{Et=n,ry.transition=r}}function cI(){return zr().memoizedState}function hF(t,e,n){var r=Vo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uI(t))dI(e,n);else if(n=HS(t,e,n,r),n!==null){var s=Qn();as(n,t,r,s),hI(n,e,r)}}function fF(t,e,n){var r=Vo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uI(t))dI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,ds(l,a)){var c=e.interleaved;c===null?(s.next=s,R0(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=HS(t,e,s,r),n!==null&&(s=Qn(),as(n,t,r,s),hI(n,e,r))}}function uI(t){var e=t.alternate;return t===Ut||e!==null&&e===Ut}function dI(t,e){cd=Zm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,v0(t,n)}}var Xm={readContext:Br,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},mF={readContext:Br,useCallback:function(t,e){return Cs().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:z1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hm(4194308,4,sI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hm(4194308,4,t,e)},useInsertionEffect:function(t,e){return hm(4,2,t,e)},useMemo:function(t,e){var n=Cs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hF.bind(null,Ut,t),[r.memoizedState,t]},useRef:function(t){var e=Cs();return t={current:t},e.memoizedState=t},useState:B1,useDebugValue:$0,useDeferredValue:function(t){return Cs().memoizedState=t},useTransition:function(){var t=B1(!1),e=t[0];return t=dF.bind(null,t[1]),Cs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ut,s=Cs();if(Lt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),gn===null)throw Error(J(349));Ha&30||QS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,z1(XS.bind(null,r,i,t),[t]),r.flags|=2048,Ld(9,ZS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Cs(),e=gn.identifierPrefix;if(Lt){var n=_i,r=wi;n=(r&~(1<<32-os(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Md++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=uF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pF={readContext:Br,useCallback:oI,useContext:Br,useEffect:F0,useImperativeHandle:iI,useInsertionEffect:nI,useLayoutEffect:rI,useMemo:aI,useReducer:sy,useRef:tI,useState:function(){return sy(Od)},useDebugValue:$0,useDeferredValue:function(t){var e=zr();return lI(e,on.memoizedState,t)},useTransition:function(){var t=sy(Od)[0],e=zr().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:YS,useId:cI,unstable_isNewReconciler:!1},gF={readContext:Br,useCallback:oI,useContext:Br,useEffect:F0,useImperativeHandle:iI,useInsertionEffect:nI,useLayoutEffect:rI,useMemo:aI,useReducer:iy,useRef:tI,useState:function(){return iy(Od)},useDebugValue:$0,useDeferredValue:function(t){var e=zr();return on===null?e.memoizedState=t:lI(e,on.memoizedState,t)},useTransition:function(){var t=iy(Od)[0],e=zr().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:YS,useId:cI,unstable_isNewReconciler:!1};function Zr(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Px(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:zt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cg={isMounted:function(t){return(t=t._reactInternals)?ul(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),s=Vo(t),i=Ci(r,s);i.payload=e,n!=null&&(i.callback=n),e=Oo(t,i,s),e!==null&&(as(e,t,s,r),um(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),s=Vo(t),i=Ci(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Oo(t,i,s),e!==null&&(as(e,t,s,r),um(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=Vo(t),s=Ci(n,r);s.tag=2,e!=null&&(s.callback=e),e=Oo(t,s,r),e!==null&&(as(e,t,r,n),um(e,t,r))}};function W1(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Id(n,r)||!Id(s,i):!0}function fI(t,e,n){var r=!1,s=Ko,i=e.contextType;return typeof i=="object"&&i!==null?i=Br(i):(s=dr(e)?za:Ln.current,r=e.contextTypes,i=(r=r!=null)?Nc(t,s):Ko),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function H1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cg.enqueueReplaceState(e,e.state,null)}function Ax(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},P0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Br(i):(i=dr(e)?za:Ln.current,s.context=Nc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Px(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cg.enqueueReplaceState(s,s.state,null),Ym(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sc(t,e){try{var n="",r=e;do n+=WL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function oy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Dx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vF=typeof WeakMap=="function"?WeakMap:Map;function mI(t,e,n){n=Ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ep||(ep=!0,Wx=r),Dx(t,e)},n}function pI(t,e,n){n=Ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Dx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Dx(t,e),typeof r!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function q1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=RF.bind(null,t,e,n),e.then(t,t))}function K1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ci(-1,1),e.tag=2,Oo(n,e,1))),n.lanes|=1),t)}var yF=Hi.ReactCurrentOwner,lr=!1;function Kn(t,e,n,r){e.child=t===null?WS(e,null,n,r):Tc(e,t.child,n,r)}function Y1(t,e,n,r,s){n=n.render;var i=e.ref;return rc(e,s),r=L0(t,e,n,r,i,s),n=V0(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mi(t,e,s)):(Lt&&n&&j0(e),e.flags|=1,Kn(t,e,r,s),e.child)}function Q1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!G0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gI(t,e,i,r,s)):(t=gm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Id,n(a,r)&&t.ref===e.ref)return Mi(t,e,s)}return e.flags|=1,t=Fo(i,r),t.ref=e.ref,t.return=e,e.child=t}function gI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Id(i,r)&&t.ref===e.ref)if(lr=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(lr=!0);else return e.lanes=t.lanes,Mi(t,e,s)}return Mx(t,e,n,r,s)}function vI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Ql,wr),wr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(Ql,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,It(Ql,wr),wr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,It(Ql,wr),wr|=r;return Kn(t,e,s,n),e.child}function yI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mx(t,e,n,r,s){var i=dr(n)?za:Ln.current;return i=Nc(e,i),rc(e,s),n=L0(t,e,n,r,i,s),r=V0(),t!==null&&!lr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mi(t,e,s)):(Lt&&r&&j0(e),e.flags|=1,Kn(t,e,n,s),e.child)}function Z1(t,e,n,r,s){if(dr(n)){var i=!0;Wm(e)}else i=!1;if(rc(e,s),e.stateNode===null)fm(t,e),fI(e,n,r),Ax(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Br(u):(u=dr(n)?za:Ln.current,u=Nc(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&H1(e,a,r,u),mo=!1;var m=e.memoizedState;a.state=m,Ym(e,r,a,s),c=e.memoizedState,l!==r||m!==c||ur.current||mo?(typeof d=="function"&&(Px(e,n,d,r),c=e.memoizedState),(l=mo||W1(e,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,qS(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Zr(e.type,l),a.props=u,f=e.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Br(c):(c=dr(n)?za:Ln.current,c=Nc(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&H1(e,a,r,c),mo=!1,m=e.memoizedState,a.state=m,Ym(e,r,a,s);var _=e.memoizedState;l!==f||m!==_||ur.current||mo?(typeof g=="function"&&(Px(e,n,g,r),_=e.memoizedState),(u=mo||W1(e,n,u,r,m,_,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ox(t,e,n,r,i,s)}function Ox(t,e,n,r,s,i){yI(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&O1(e,n,!1),Mi(t,e,i);r=e.stateNode,yF.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Tc(e,t.child,null,i),e.child=Tc(e,null,l,i)):Kn(t,e,l,i),e.memoizedState=r.state,s&&O1(e,n,!0),e.child}function xI(t){var e=t.stateNode;e.pendingContext?M1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M1(t,e.context,!1),A0(t,e.containerInfo)}function X1(t,e,n,r,s){return jc(),C0(s),e.flags|=256,Kn(t,e,n,r),e.child}var Lx={dehydrated:null,treeContext:null,retryLane:0};function Vx(t){return{baseLanes:t,cachePool:null,transitions:null}}function wI(t,e,n){var r=e.pendingProps,s=$t.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),It($t,s&1),t===null)return kx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=hg(a,r,0,null),t=Ua(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vx(n),e.memoizedState=Lx,t):U0(e,a));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xF(t,e,a,r,l,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Fo(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Fo(l,i):(i=Ua(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Vx(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Lx,r}return i=t.child,t=i.sibling,r=Fo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function U0(t,e){return e=hg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Of(t,e,n,r){return r!==null&&C0(r),Tc(e,t.child,null,n),t=U0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xF(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=oy(Error(J(422))),Of(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=hg({mode:"visible",children:r.children},s,0,null),i=Ua(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Tc(e,t.child,null,a),e.child.memoizedState=Vx(a),e.memoizedState=Lx,i);if(!(e.mode&1))return Of(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(J(419)),r=oy(i,r,void 0),Of(t,e,a,r)}if(l=(a&t.childLanes)!==0,lr||l){if(r=gn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Di(t,s),as(r,t,s,-1))}return K0(),r=oy(Error(J(421))),Of(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=PF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,br=Mo(s.nextSibling),jr=e,Lt=!0,ts=null,t!==null&&(Dr[Mr++]=wi,Dr[Mr++]=_i,Dr[Mr++]=Wa,wi=t.id,_i=t.overflow,Wa=e),e=U0(e,r.children),e.flags|=4096,e)}function J1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rx(t.return,e,n)}function ay(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _I(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Kn(t,e,r.children,n),r=$t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&J1(t,n,e);else if(t.tag===19)J1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(It($t,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ay(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ay(e,!0,n,null,i);break;case"together":ay(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Fo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wF(t,e,n){switch(e.tag){case 3:xI(e),jc();break;case 5:KS(e);break;case 1:dr(e.type)&&Wm(e);break;case 4:A0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;It(Km,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(It($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?wI(t,e,n):(It($t,$t.current&1),t=Mi(t,e,n),t!==null?t.sibling:null);It($t,$t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _I(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),It($t,$t.current),r)break;return null;case 22:case 23:return e.lanes=0,vI(t,e,n)}return Mi(t,e,n)}var bI,Fx,EI,NI;bI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fx=function(){};EI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Pa(Vs.current);var i=null;switch(n){case"input":s=ax(t,s),r=ax(t,r),i=[];break;case"select":s=zt({},s,{value:void 0}),r=zt({},r,{value:void 0}),i=[];break;case"textarea":s=ux(t,s),r=ux(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bm)}hx(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&At("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};NI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Au(t,e){if(!Lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _F(t,e,n){var r=e.pendingProps;switch(T0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return dr(e.type)&&zm(),kn(e),null;case 3:return r=e.stateNode,Cc(),Mt(ur),Mt(Ln),M0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Df(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ts!==null&&(Kx(ts),ts=null))),Fx(t,e),kn(e),null;case 5:D0(e);var s=Pa(Dd.current);if(n=e.type,t!==null&&e.stateNode!=null)EI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return kn(e),null}if(t=Pa(Vs.current),Df(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ps]=e,r[Pd]=i,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<Hu.length;s++)At(Hu[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":l1(r,i),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},At("invalid",r);break;case"textarea":u1(r,i),At("invalid",r)}hx(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Af(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Af(r.textContent,l,t),s=["children",""+l]):bd.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&At("scroll",r)}switch(n){case"input":jf(r),c1(r,i,!0);break;case"textarea":jf(r),d1(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=XC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ps]=e,t[Pd]=r,bI(t,e,!1,!1),e.stateNode=t;e:{switch(a=fx(n,r),n){case"dialog":At("cancel",t),At("close",t),s=r;break;case"iframe":case"object":case"embed":At("load",t),s=r;break;case"video":case"audio":for(s=0;s<Hu.length;s++)At(Hu[s],t);s=r;break;case"source":At("error",t),s=r;break;case"img":case"image":case"link":At("error",t),At("load",t),s=r;break;case"details":At("toggle",t),s=r;break;case"input":l1(t,r),s=ax(t,r),At("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=zt({},r,{value:void 0}),At("invalid",t);break;case"textarea":u1(t,r),s=ux(t,r),At("invalid",t);break;default:s=r}hx(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?tS(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JC(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ed(t,c):typeof c=="number"&&Ed(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&At("scroll",t):c!=null&&d0(t,i,c,a))}switch(n){case"input":jf(t),c1(t,r,!1);break;case"textarea":jf(t),d1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qo(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Jl(t,!!r.multiple,i,!1):r.defaultValue!=null&&Jl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)NI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Pa(Dd.current),Pa(Vs.current),Df(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ps]=e,(i=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:Af(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Af(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ps]=e,e.stateNode=r}return kn(e),null;case 13:if(Mt($t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Lt&&br!==null&&e.mode&1&&!(e.flags&128))BS(),jc(),e.flags|=98560,i=!1;else if(i=Df(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(J(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[Ps]=e}else jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),i=!1}else ts!==null&&(Kx(ts),ts=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?cn===0&&(cn=3):K0())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return Cc(),Fx(t,e),t===null&&kd(e.stateNode.containerInfo),kn(e),null;case 10:return k0(e.type._context),kn(e),null;case 17:return dr(e.type)&&zm(),kn(e),null;case 19:if(Mt($t),i=e.memoizedState,i===null)return kn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Au(i,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Qm(t),a!==null){for(e.flags|=128,Au(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return It($t,$t.current&1|2),e.child}t=t.sibling}i.tail!==null&&en()>Ic&&(e.flags|=128,r=!0,Au(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qm(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Au(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Lt)return kn(e),null}else 2*en()-i.renderingStartTime>Ic&&n!==1073741824&&(e.flags|=128,r=!0,Au(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=en(),e.sibling=null,n=$t.current,It($t,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return q0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function bF(t,e){switch(T0(e),e.tag){case 1:return dr(e.type)&&zm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cc(),Mt(ur),Mt(Ln),M0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return D0(e),null;case 13:if(Mt($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt($t),null;case 4:return Cc(),null;case 10:return k0(e.type._context),null;case 22:case 23:return q0(),null;case 24:return null;default:return null}}var Lf=!1,Mn=!1,EF=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Yl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function $x(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var eN=!1;function NF(t,e){if(Ex=Fm,t=IS(),N0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++u===s&&(l=a),m===i&&++d===r&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nx={focusedElem:t,selectionRange:n},Fm=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,x=_.memoizedState,b=e.stateNode,w=b.getSnapshotBeforeUpdate(e.elementType===e.type?v:Zr(e.type,v),x);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){Gt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return _=eN,eN=!1,_}function ud(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$x(e,n,i)}s=s.next}while(s!==r)}}function ug(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ux(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jI(t){var e=t.alternate;e!==null&&(t.alternate=null,jI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ps],delete e[Pd],delete e[Cx],delete e[oF],delete e[aF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TI(t){return t.tag===5||t.tag===3||t.tag===4}function tN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bm));else if(r!==4&&(t=t.child,t!==null))for(Bx(t,e,n),t=t.sibling;t!==null;)Bx(t,e,n),t=t.sibling}function zx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zx(t,e,n),t=t.sibling;t!==null;)zx(t,e,n),t=t.sibling}var yn=null,es=!1;function ro(t,e,n){for(n=n.child;n!==null;)CI(t,e,n),n=n.sibling}function CI(t,e,n){if(Ls&&typeof Ls.onCommitFiberUnmount=="function")try{Ls.onCommitFiberUnmount(ng,n)}catch{}switch(n.tag){case 5:Mn||Yl(n,e);case 6:var r=yn,s=es;yn=null,ro(t,e,n),yn=r,es=s,yn!==null&&(es?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(es?(t=yn,n=n.stateNode,t.nodeType===8?ey(t.parentNode,n):t.nodeType===1&&ey(t,n),Cd(t)):ey(yn,n.stateNode));break;case 4:r=yn,s=es,yn=n.stateNode.containerInfo,es=!0,ro(t,e,n),yn=r,es=s;break;case 0:case 11:case 14:case 15:if(!Mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&$x(n,e,a),s=s.next}while(s!==r)}ro(t,e,n);break;case 1:if(!Mn&&(Yl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Gt(n,e,l)}ro(t,e,n);break;case 21:ro(t,e,n);break;case 22:n.mode&1?(Mn=(r=Mn)||n.memoizedState!==null,ro(t,e,n),Mn=r):ro(t,e,n);break;default:ro(t,e,n)}}function nN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new EF),e.forEach(function(r){var s=AF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:yn=l.stateNode,es=!1;break e;case 3:yn=l.stateNode.containerInfo,es=!0;break e;case 4:yn=l.stateNode.containerInfo,es=!0;break e}l=l.return}if(yn===null)throw Error(J(160));CI(i,a,s),yn=null,es=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Gt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SI(e,t),e=e.sibling}function SI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yr(e,t),Ts(t),r&4){try{ud(3,t,t.return),ug(3,t)}catch(v){Gt(t,t.return,v)}try{ud(5,t,t.return)}catch(v){Gt(t,t.return,v)}}break;case 1:Yr(e,t),Ts(t),r&512&&n!==null&&Yl(n,n.return);break;case 5:if(Yr(e,t),Ts(t),r&512&&n!==null&&Yl(n,n.return),t.flags&32){var s=t.stateNode;try{Ed(s,"")}catch(v){Gt(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&QC(s,i),fx(l,a);var u=fx(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?tS(s,f):d==="dangerouslySetInnerHTML"?JC(s,f):d==="children"?Ed(s,f):d0(s,d,f,u)}switch(l){case"input":lx(s,i);break;case"textarea":ZC(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Jl(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Jl(s,!!i.multiple,i.defaultValue,!0):Jl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pd]=i}catch(v){Gt(t,t.return,v)}}break;case 6:if(Yr(e,t),Ts(t),r&4){if(t.stateNode===null)throw Error(J(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Gt(t,t.return,v)}}break;case 3:if(Yr(e,t),Ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cd(e.containerInfo)}catch(v){Gt(t,t.return,v)}break;case 4:Yr(e,t),Ts(t);break;case 13:Yr(e,t),Ts(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(W0=en())),r&4&&nN(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Mn=(u=Mn)||d,Yr(e,t),Mn=u):Yr(e,t),Ts(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(f=pe=d;pe!==null;){switch(m=pe,g=m.child,m.tag){case 0:case 11:case 14:case 15:ud(4,m,m.return);break;case 1:Yl(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Gt(r,n,v)}}break;case 5:Yl(m,m.return);break;case 22:if(m.memoizedState!==null){sN(f);continue}}g!==null?(g.return=m,pe=g):sN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=eS("display",a))}catch(v){Gt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Gt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yr(e,t),Ts(t),r&4&&nN(t);break;case 21:break;default:Yr(e,t),Ts(t)}}function Ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TI(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ed(s,""),r.flags&=-33);var i=tN(t);zx(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=tN(t);Bx(t,l,a);break;default:throw Error(J(161))}}catch(c){Gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jF(t,e,n){pe=t,II(t)}function II(t,e,n){for(var r=(t.mode&1)!==0;pe!==null;){var s=pe,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Lf;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Mn;l=Lf;var u=Mn;if(Lf=a,(Mn=c)&&!u)for(pe=s;pe!==null;)a=pe,c=a.child,a.tag===22&&a.memoizedState!==null?iN(s):c!==null?(c.return=a,pe=c):iN(s);for(;i!==null;)pe=i,II(i),i=i.sibling;pe=s,Lf=l,Mn=u}rN(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,pe=i):rN(t)}}function rN(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mn||ug(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Zr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&U1(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U1(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Mn||e.flags&512&&Ux(e)}catch(m){Gt(e,e.return,m)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function sN(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function iN(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ug(4,e)}catch(c){Gt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Gt(e,s,c)}}var i=e.return;try{Ux(e)}catch(c){Gt(e,i,c)}break;case 5:var a=e.return;try{Ux(e)}catch(c){Gt(e,a,c)}}}catch(c){Gt(e,e.return,c)}if(e===t){pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,pe=l;break}pe=e.return}}var TF=Math.ceil,Jm=Hi.ReactCurrentDispatcher,B0=Hi.ReactCurrentOwner,Vr=Hi.ReactCurrentBatchConfig,ft=0,gn=null,rn=null,_n=0,wr=0,Ql=da(0),cn=0,Vd=null,qa=0,dg=0,z0=0,dd=null,or=null,W0=0,Ic=1/0,vi=null,ep=!1,Wx=null,Lo=null,Vf=!1,Io=null,tp=0,hd=0,Hx=null,mm=-1,pm=0;function Qn(){return ft&6?en():mm!==-1?mm:mm=en()}function Vo(t){return t.mode&1?ft&2&&_n!==0?_n&-_n:cF.transition!==null?(pm===0&&(pm=fS()),pm):(t=Et,t!==0||(t=window.event,t=t===void 0?16:wS(t.type)),t):1}function as(t,e,n,r){if(50<hd)throw hd=0,Hx=null,Error(J(185));jh(t,n,r),(!(ft&2)||t!==gn)&&(t===gn&&(!(ft&2)&&(dg|=n),cn===4&&go(t,_n)),hr(t,r),n===1&&ft===0&&!(e.mode&1)&&(Ic=en()+500,ag&&ha()))}function hr(t,e){var n=t.callbackNode;cV(t,e);var r=Vm(t,t===gn?_n:0);if(r===0)n!==null&&m1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m1(n),e===1)t.tag===0?lF(oN.bind(null,t)):FS(oN.bind(null,t)),sF(function(){!(ft&6)&&ha()}),n=null;else{switch(mS(r)){case 1:n=g0;break;case 4:n=dS;break;case 16:n=Lm;break;case 536870912:n=hS;break;default:n=Lm}n=LI(n,kI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kI(t,e){if(mm=-1,pm=0,ft&6)throw Error(J(327));var n=t.callbackNode;if(sc()&&t.callbackNode!==n)return null;var r=Vm(t,t===gn?_n:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=np(t,r);else{e=r;var s=ft;ft|=2;var i=PI();(gn!==t||_n!==e)&&(vi=null,Ic=en()+500,$a(t,e));do try{IF();break}catch(l){RI(t,l)}while(!0);I0(),Jm.current=i,ft=s,rn!==null?e=0:(gn=null,_n=0,e=cn)}if(e!==0){if(e===2&&(s=yx(t),s!==0&&(r=s,e=qx(t,s))),e===1)throw n=Vd,$a(t,0),go(t,r),hr(t,en()),n;if(e===6)go(t,r);else{if(s=t.current.alternate,!(r&30)&&!CF(s)&&(e=np(t,r),e===2&&(i=yx(t),i!==0&&(r=i,e=qx(t,i))),e===1))throw n=Vd,$a(t,0),go(t,r),hr(t,en()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Ca(t,or,vi);break;case 3:if(go(t,r),(r&130023424)===r&&(e=W0+500-en(),10<e)){if(Vm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Tx(Ca.bind(null,t,or,vi),e);break}Ca(t,or,vi);break;case 4:if(go(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-os(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=en()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TF(r/1960))-r,10<r){t.timeoutHandle=Tx(Ca.bind(null,t,or,vi),r);break}Ca(t,or,vi);break;case 5:Ca(t,or,vi);break;default:throw Error(J(329))}}}return hr(t,en()),t.callbackNode===n?kI.bind(null,t):null}function qx(t,e){var n=dd;return t.current.memoizedState.isDehydrated&&($a(t,e).flags|=256),t=np(t,e),t!==2&&(e=or,or=n,e!==null&&Kx(e)),t}function Kx(t){or===null?or=t:or.push.apply(or,t)}function CF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ds(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(t,e){for(e&=~z0,e&=~dg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-os(e),r=1<<n;t[n]=-1,e&=~r}}function oN(t){if(ft&6)throw Error(J(327));sc();var e=Vm(t,0);if(!(e&1))return hr(t,en()),null;var n=np(t,e);if(t.tag!==0&&n===2){var r=yx(t);r!==0&&(e=r,n=qx(t,r))}if(n===1)throw n=Vd,$a(t,0),go(t,e),hr(t,en()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ca(t,or,vi),hr(t,en()),null}function H0(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(Ic=en()+500,ag&&ha())}}function Ka(t){Io!==null&&Io.tag===0&&!(ft&6)&&sc();var e=ft;ft|=1;var n=Vr.transition,r=Et;try{if(Vr.transition=null,Et=1,t)return t()}finally{Et=r,Vr.transition=n,ft=e,!(ft&6)&&ha()}}function q0(){wr=Ql.current,Mt(Ql)}function $a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rF(n)),rn!==null)for(n=rn.return;n!==null;){var r=n;switch(T0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zm();break;case 3:Cc(),Mt(ur),Mt(Ln),M0();break;case 5:D0(r);break;case 4:Cc();break;case 13:Mt($t);break;case 19:Mt($t);break;case 10:k0(r.type._context);break;case 22:case 23:q0()}n=n.return}if(gn=t,rn=t=Fo(t.current,null),_n=wr=e,cn=0,Vd=null,z0=dg=qa=0,or=dd=null,Ra!==null){for(e=0;e<Ra.length;e++)if(n=Ra[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Ra=null}return t}function RI(t,e){do{var n=rn;try{if(I0(),dm.current=Xm,Zm){for(var r=Ut.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zm=!1}if(Ha=0,mn=on=Ut=null,cd=!1,Md=0,B0.current=null,n===null||n.return===null){cn=1,Vd=e,rn=null;break}e:{var i=t,a=n.return,l=n,c=e;if(e=_n,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=K1(a);if(g!==null){g.flags&=-257,G1(g,a,l,i,e),g.mode&1&&q1(i,u,e),e=g,c=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(c),e.updateQueue=v}else _.add(c);break e}else{if(!(e&1)){q1(i,u,e),K0();break e}c=Error(J(426))}}else if(Lt&&l.mode&1){var x=K1(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),G1(x,a,l,i,e),C0(Sc(c,l));break e}}i=c=Sc(c,l),cn!==4&&(cn=2),dd===null?dd=[i]:dd.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var b=mI(i,c,e);$1(i,b);break e;case 1:l=c;var w=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Lo===null||!Lo.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=pI(i,l,e);$1(i,S);break e}}i=i.return}while(i!==null)}DI(n)}catch(A){e=A,rn===n&&n!==null&&(rn=n=n.return);continue}break}while(!0)}function PI(){var t=Jm.current;return Jm.current=Xm,t===null?Xm:t}function K0(){(cn===0||cn===3||cn===2)&&(cn=4),gn===null||!(qa&268435455)&&!(dg&268435455)||go(gn,_n)}function np(t,e){var n=ft;ft|=2;var r=PI();(gn!==t||_n!==e)&&(vi=null,$a(t,e));do try{SF();break}catch(s){RI(t,s)}while(!0);if(I0(),ft=n,Jm.current=r,rn!==null)throw Error(J(261));return gn=null,_n=0,cn}function SF(){for(;rn!==null;)AI(rn)}function IF(){for(;rn!==null&&!eV();)AI(rn)}function AI(t){var e=OI(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?DI(t):rn=e,B0.current=null}function DI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bF(n,e),n!==null){n.flags&=32767,rn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{cn=6,rn=null;return}}else if(n=_F(n,e,wr),n!==null){rn=n;return}if(e=e.sibling,e!==null){rn=e;return}rn=e=t}while(e!==null);cn===0&&(cn=5)}function Ca(t,e,n){var r=Et,s=Vr.transition;try{Vr.transition=null,Et=1,kF(t,e,n,r)}finally{Vr.transition=s,Et=r}return null}function kF(t,e,n,r){do sc();while(Io!==null);if(ft&6)throw Error(J(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(uV(t,i),t===gn&&(rn=gn=null,_n=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vf||(Vf=!0,LI(Lm,function(){return sc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Vr.transition,Vr.transition=null;var a=Et;Et=1;var l=ft;ft|=4,B0.current=null,NF(t,n),SI(n,t),QV(Nx),Fm=!!Ex,Nx=Ex=null,t.current=n,jF(n),tV(),ft=l,Et=a,Vr.transition=i}else t.current=n;if(Vf&&(Vf=!1,Io=t,tp=s),i=t.pendingLanes,i===0&&(Lo=null),sV(n.stateNode),hr(t,en()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ep)throw ep=!1,t=Wx,Wx=null,t;return tp&1&&t.tag!==0&&sc(),i=t.pendingLanes,i&1?t===Hx?hd++:(hd=0,Hx=t):hd=0,ha(),null}function sc(){if(Io!==null){var t=mS(tp),e=Vr.transition,n=Et;try{if(Vr.transition=null,Et=16>t?16:t,Io===null)var r=!1;else{if(t=Io,Io=null,tp=0,ft&6)throw Error(J(331));var s=ft;for(ft|=4,pe=t.current;pe!==null;){var i=pe,a=i.child;if(pe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:ud(8,d,i)}var f=d.child;if(f!==null)f.return=d,pe=f;else for(;pe!==null;){d=pe;var m=d.sibling,g=d.return;if(jI(d),d===u){pe=null;break}if(m!==null){m.return=g,pe=m;break}pe=g}}}var _=i.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}pe=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,pe=a;else e:for(;pe!==null;){if(i=pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ud(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,pe=b;break e}pe=i.return}}var w=t.current;for(pe=w;pe!==null;){a=pe;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,pe=E;else e:for(a=w;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ug(9,l)}}catch(A){Gt(l,l.return,A)}if(l===a){pe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,pe=S;break e}pe=l.return}}if(ft=s,ha(),Ls&&typeof Ls.onPostCommitFiberRoot=="function")try{Ls.onPostCommitFiberRoot(ng,t)}catch{}r=!0}return r}finally{Et=n,Vr.transition=e}}return!1}function aN(t,e,n){e=Sc(n,e),e=mI(t,e,1),t=Oo(t,e,1),e=Qn(),t!==null&&(jh(t,1,e),hr(t,e))}function Gt(t,e,n){if(t.tag===3)aN(t,t,n);else for(;e!==null;){if(e.tag===3){aN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lo===null||!Lo.has(r))){t=Sc(n,t),t=pI(e,t,1),e=Oo(e,t,1),t=Qn(),e!==null&&(jh(e,1,t),hr(e,t));break}}e=e.return}}function RF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,gn===t&&(_n&n)===n&&(cn===4||cn===3&&(_n&130023424)===_n&&500>en()-W0?$a(t,0):z0|=n),hr(t,e)}function MI(t,e){e===0&&(t.mode&1?(e=Sf,Sf<<=1,!(Sf&130023424)&&(Sf=4194304)):e=1);var n=Qn();t=Di(t,e),t!==null&&(jh(t,e,n),hr(t,n))}function PF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MI(t,n)}function AF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),MI(t,n)}var OI;OI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)lr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lr=!1,wF(t,e,n);lr=!!(t.flags&131072)}else lr=!1,Lt&&e.flags&1048576&&$S(e,qm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fm(t,e),t=e.pendingProps;var s=Nc(e,Ln.current);rc(e,n),s=L0(null,e,r,t,s,n);var i=V0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dr(r)?(i=!0,Wm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,P0(e),s.updater=cg,e.stateNode=s,s._reactInternals=e,Ax(e,r,t,n),e=Ox(null,e,r,!0,i,n)):(e.tag=0,Lt&&i&&j0(e),Kn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fm(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=MF(r),t=Zr(r,t),s){case 0:e=Mx(null,e,r,t,n);break e;case 1:e=Z1(null,e,r,t,n);break e;case 11:e=Y1(null,e,r,t,n);break e;case 14:e=Q1(null,e,r,Zr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zr(r,s),Mx(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zr(r,s),Z1(t,e,r,s,n);case 3:e:{if(xI(e),t===null)throw Error(J(387));r=e.pendingProps,i=e.memoizedState,s=i.element,qS(t,e),Ym(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sc(Error(J(423)),e),e=X1(t,e,r,n,s);break e}else if(r!==s){s=Sc(Error(J(424)),e),e=X1(t,e,r,n,s);break e}else for(br=Mo(e.stateNode.containerInfo.firstChild),jr=e,Lt=!0,ts=null,n=WS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jc(),r===s){e=Mi(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return KS(e),t===null&&kx(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,jx(r,s)?a=null:i!==null&&jx(r,i)&&(e.flags|=32),yI(t,e),Kn(t,e,a,n),e.child;case 6:return t===null&&kx(e),null;case 13:return wI(t,e,n);case 4:return A0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Tc(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zr(r,s),Y1(t,e,r,s,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,It(Km,r._currentValue),r._currentValue=a,i!==null)if(ds(i.value,a)){if(i.children===s.children&&!ur.current){e=Mi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ci(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Rx(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(J(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Rx(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Kn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,rc(e,n),s=Br(s),r=r(s),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,s=Zr(r,e.pendingProps),s=Zr(r.type,s),Q1(t,e,r,s,n);case 15:return gI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zr(r,s),fm(t,e),e.tag=1,dr(r)?(t=!0,Wm(e)):t=!1,rc(e,n),fI(e,r,s),Ax(e,r,s,n),Ox(null,e,r,!0,t,n);case 19:return _I(t,e,n);case 22:return vI(t,e,n)}throw Error(J(156,e.tag))};function LI(t,e){return uS(t,e)}function DF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,r){return new DF(t,e,n,r)}function G0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MF(t){if(typeof t=="function")return G0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===f0)return 11;if(t===m0)return 14}return 2}function Fo(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gm(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")G0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case $l:return Ua(n.children,s,i,e);case h0:a=8,s|=8;break;case rx:return t=Lr(12,n,e,s|2),t.elementType=rx,t.lanes=i,t;case sx:return t=Lr(13,n,e,s),t.elementType=sx,t.lanes=i,t;case ix:return t=Lr(19,n,e,s),t.elementType=ix,t.lanes=i,t;case KC:return hg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HC:a=10;break e;case qC:a=9;break e;case f0:a=11;break e;case m0:a=14;break e;case fo:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Lr(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ua(t,e,n,r){return t=Lr(7,t,r,e),t.lanes=n,t}function hg(t,e,n,r){return t=Lr(22,t,r,e),t.elementType=KC,t.lanes=n,t.stateNode={isHidden:!1},t}function ly(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function cy(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zv(0),this.expirationTimes=zv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zv(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Y0(t,e,n,r,s,i,a,l,c){return t=new OF(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},P0(i),t}function LF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function VI(t){if(!t)return Ko;t=t._reactInternals;e:{if(ul(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(dr(n))return VS(t,n,e)}return e}function FI(t,e,n,r,s,i,a,l,c){return t=Y0(n,r,!0,t,s,i,a,l,c),t.context=VI(null),n=t.current,r=Qn(),s=Vo(n),i=Ci(r,s),i.callback=e??null,Oo(n,i,s),t.current.lanes=s,jh(t,s,r),hr(t,r),t}function fg(t,e,n,r){var s=e.current,i=Qn(),a=Vo(s);return n=VI(n),e.context===null?e.context=n:e.pendingContext=n,e=Ci(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Oo(s,e,a),t!==null&&(as(t,s,a,i),um(t,s,a)),a}function rp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Q0(t,e){lN(t,e),(t=t.alternate)&&lN(t,e)}function VF(){return null}var $I=typeof reportError=="function"?reportError:function(t){console.error(t)};function Z0(t){this._internalRoot=t}mg.prototype.render=Z0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));fg(t,e,null,null)};mg.prototype.unmount=Z0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ka(function(){fg(null,t,null,null)}),e[Ai]=null}};function mg(t){this._internalRoot=t}mg.prototype.unstable_scheduleHydration=function(t){if(t){var e=vS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<po.length&&e!==0&&e<po[n].priority;n++);po.splice(n,0,t),n===0&&xS(t)}};function X0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cN(){}function FF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=rp(a);i.call(u)}}var a=FI(e,r,t,0,null,!1,!1,"",cN);return t._reactRootContainer=a,t[Ai]=a.current,kd(t.nodeType===8?t.parentNode:t),Ka(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=rp(c);l.call(u)}}var c=Y0(t,0,!1,null,null,!1,!1,"",cN);return t._reactRootContainer=c,t[Ai]=c.current,kd(t.nodeType===8?t.parentNode:t),Ka(function(){fg(e,c,n,r)}),c}function gg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=rp(a);l.call(c)}}fg(e,a,t,s)}else a=FF(n,e,t,s,r);return rp(a)}pS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wu(e.pendingLanes);n!==0&&(v0(e,n|1),hr(e,en()),!(ft&6)&&(Ic=en()+500,ha()))}break;case 13:Ka(function(){var r=Di(t,1);if(r!==null){var s=Qn();as(r,t,1,s)}}),Q0(t,1)}};y0=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var n=Qn();as(e,t,134217728,n)}Q0(t,134217728)}};gS=function(t){if(t.tag===13){var e=Vo(t),n=Di(t,e);if(n!==null){var r=Qn();as(n,t,e,r)}Q0(t,e)}};vS=function(){return Et};yS=function(t,e){var n=Et;try{return Et=t,e()}finally{Et=n}};px=function(t,e,n){switch(e){case"input":if(lx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=og(r);if(!s)throw Error(J(90));YC(r),lx(r,s)}}}break;case"textarea":ZC(t,n);break;case"select":e=n.value,e!=null&&Jl(t,!!n.multiple,e,!1)}};sS=H0;iS=Ka;var $F={usingClientEntryPoint:!1,Events:[Ch,Wl,og,nS,rS,H0]},Du={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UF={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lS(t),t===null?null:t.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||VF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{ng=Ff.inject(UF),Ls=Ff}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$F;Ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!X0(e))throw Error(J(200));return LF(t,e,null,n)};Ir.createRoot=function(t,e){if(!X0(t))throw Error(J(299));var n=!1,r="",s=$I;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Y0(t,1,!1,null,null,n,!1,r,s),t[Ai]=e.current,kd(t.nodeType===8?t.parentNode:t),new Z0(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=lS(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return Ka(t)};Ir.hydrate=function(t,e,n){if(!pg(e))throw Error(J(200));return gg(null,t,e,!0,n)};Ir.hydrateRoot=function(t,e,n){if(!X0(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=$I;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=FI(e,null,t,1,n??null,s,!1,i,a),t[Ai]=e.current,kd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mg(e)};Ir.render=function(t,e,n){if(!pg(e))throw Error(J(200));return gg(null,t,e,!1,n)};Ir.unmountComponentAtNode=function(t){if(!pg(t))throw Error(J(40));return t._reactRootContainer?(Ka(function(){gg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1};Ir.unstable_batchedUpdates=H0;Ir.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pg(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return gg(t,e,n,!1,r)};Ir.version="18.3.1-next-f1338f8080-20240426";function UI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UI)}catch(t){console.error(t)}}UI(),UC.exports=Ir;var dl=UC.exports;const BI=SC(dl);var zI,uN=dl;zI=uN.createRoot,uN.hydrateRoot;const BF=1,zF=1e6;let uy=0;function WF(){return uy=(uy+1)%Number.MAX_SAFE_INTEGER,uy.toString()}const dy=new Map,dN=t=>{if(dy.has(t))return;const e=setTimeout(()=>{dy.delete(t),fd({type:"REMOVE_TOAST",toastId:t})},zF);dy.set(t,e)},HF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,BF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?dN(n):t.toasts.forEach(r=>{dN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},vm=[];let ym={toasts:[]};function fd(t){ym=HF(ym,t),vm.forEach(e=>{e(ym)})}function WI({...t}){const e=WF(),n=s=>fd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>fd({type:"DISMISS_TOAST",toastId:e});return fd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function qF(){const[t,e]=p.useState(ym);return p.useEffect(()=>(vm.push(e),()=>{const n=vm.indexOf(e);n>-1&&vm.splice(n,1)}),[t]),{...t,toast:WI,dismiss:n=>fd({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function KF(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function vg(...t){return e=>t.forEach(n=>KF(n,e))}function ot(...t){return p.useCallback(vg(...t),t)}function GF(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:m,children:g,..._}=f,v=(m==null?void 0:m[t][c])||l,x=p.useMemo(()=>_,Object.values(_));return o.jsx(v.Provider,{value:x,children:g})}function d(f,m){const g=(m==null?void 0:m[t][c])||l,_=p.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,YF(s,...e)]}function YF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var qs=p.forwardRef((t,e)=>{const{children:n,...r}=t,s=p.Children.toArray(n),i=s.find(QF);if(i){const a=i.props.children,l=s.map(c=>c===i?p.Children.count(a)>1?p.Children.only(null):p.isValidElement(a)?a.props.children:null:c);return o.jsx(Gx,{...r,ref:e,children:p.isValidElement(a)?p.cloneElement(a,void 0,l):null})}return o.jsx(Gx,{...r,ref:e,children:n})});qs.displayName="Slot";var Gx=p.forwardRef((t,e)=>{const{children:n,...r}=t;if(p.isValidElement(n)){const s=XF(n);return p.cloneElement(n,{...ZF(r,n.props),ref:e?vg(e,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});Gx.displayName="SlotClone";var J0=({children:t})=>o.jsx(o.Fragment,{children:t});function QF(t){return p.isValidElement(t)&&t.type===J0}function ZF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function XF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function yg(t){const e=t+"CollectionProvider",[n,r]=GF(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:_,children:v}=g,x=Y.useRef(null),b=Y.useRef(new Map).current;return o.jsx(s,{scope:_,itemMap:b,collectionRef:x,children:v})};a.displayName=e;const l=t+"CollectionSlot",c=Y.forwardRef((g,_)=>{const{scope:v,children:x}=g,b=i(l,v),w=ot(_,b.collectionRef);return o.jsx(qs,{ref:w,children:x})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=Y.forwardRef((g,_)=>{const{scope:v,children:x,...b}=g,w=Y.useRef(null),E=ot(_,w),S=i(u,v);return Y.useEffect(()=>(S.itemMap.set(w,{ref:w,...b}),()=>void S.itemMap.delete(w))),o.jsx(qs,{[d]:"",ref:E,children:x})});f.displayName=u;function m(g){const _=i(t+"CollectionConsumer",g);return Y.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(_.itemMap.values()).sort((S,A)=>b.indexOf(S.ref.current)-b.indexOf(A.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},m,r]}function JF(t,e){const n=p.createContext(e),r=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function s(i){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ni(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=f=>{var b;const{scope:m,children:g,..._}=f,v=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,x=p.useMemo(()=>_,Object.values(_));return o.jsx(v.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,_=p.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,e5(s,...e)]}function e5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var t5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ke=t5.reduce((t,e)=>{const n=p.forwardRef((r,s)=>{const{asChild:i,...a}=r,l=i?qs:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function e_(t,e){t&&dl.flushSync(()=>t.dispatchEvent(e))}function Vn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function n5(t,e=globalThis==null?void 0:globalThis.document){const n=Vn(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var r5="DismissableLayer",Yx="dismissableLayer.update",s5="dismissableLayer.pointerDownOutside",i5="dismissableLayer.focusOutside",hN,HI=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hl=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(HI),[d,f]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),_=ot(e,T=>f(T)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(x),w=d?v.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,A=a5(T=>{const j=T.target,C=[...u.branches].some(R=>R.contains(j));!S||C||(s==null||s(T),a==null||a(T),T.defaultPrevented||l==null||l())},m),V=l5(T=>{const j=T.target;[...u.branches].some(R=>R.contains(j))||(i==null||i(T),a==null||a(T),T.defaultPrevented||l==null||l())},m);return n5(T=>{w===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hN=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),fN(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=hN)}},[d,m,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),fN())},[d,u]),p.useEffect(()=>{const T=()=>g({});return document.addEventListener(Yx,T),()=>document.removeEventListener(Yx,T)},[]),o.jsx(ke.div,{...c,ref:_,style:{pointerEvents:E?S?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,V.onFocusCapture),onBlurCapture:se(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,A.onPointerDownCapture)})});hl.displayName=r5;var o5="DismissableLayerBranch",qI=p.forwardRef((t,e)=>{const n=p.useContext(HI),r=p.useRef(null),s=ot(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(ke.div,{...t,ref:s})});qI.displayName=o5;function a5(t,e=globalThis==null?void 0:globalThis.document){const n=Vn(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){KI(s5,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function l5(t,e=globalThis==null?void 0:globalThis.document){const n=Vn(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&KI(i5,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fN(){const t=new CustomEvent(Yx);document.dispatchEvent(t)}function KI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?e_(s,i):s.dispatchEvent(i)}var c5=hl,u5=qI,Fn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},d5="Portal",Qc=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);Fn(()=>i(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?BI.createPortal(o.jsx(ke.div,{...r,ref:e}),a):null});Qc.displayName=d5;function h5(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var gr=t=>{const{present:e,children:n}=t,r=f5(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=ot(r.ref,m5(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};gr.displayName="Presence";function f5(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=h5(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=$f(r.current);i.current=l==="mounted"?u:"none"},[l]),Fn(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,g=$f(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Fn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=g=>{const v=$f(r.current).includes(g.animationName);if(g.target===e&&v&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=g=>{g.target===e&&(i.current=$f(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function $f(t){return(t==null?void 0:t.animationName)||"none"}function m5(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Ks({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=p5({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,l=Vn(n),c=p.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&l(f)}else s(u)},[i,t,s,l]);return[a,c]}function p5({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=Vn(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var g5="VisuallyHidden",Ih=p.forwardRef((t,e)=>o.jsx(ke.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ih.displayName=g5;var v5=Ih,t_="ToastProvider",[n_,y5,x5]=yg("Toast"),[GI,Ure]=ni("Toast",[x5]),[w5,xg]=GI(t_),YI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${t_}\`. Expected non-empty \`string\`.`),o.jsx(n_.Provider,{scope:e,children:o.jsx(w5,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:a})})};YI.displayName=t_;var QI="ToastViewport",_5=["F8"],Qx="toast.viewportPause",Zx="toast.viewportResume",ZI=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=_5,label:s="Notifications ({hotkey})",...i}=t,a=xg(QI,n),l=y5(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),m=ot(e,f,a.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=a.toastCount>0;p.useEffect(()=>{const x=b=>{var E;r.length!==0&&r.every(S=>b[S]||b.code===S)&&((E=f.current)==null||E.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,b=f.current;if(_&&x&&b){const w=()=>{if(!a.isClosePausedRef.current){const V=new CustomEvent(Qx);b.dispatchEvent(V),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const V=new CustomEvent(Zx);b.dispatchEvent(V),a.isClosePausedRef.current=!1}},S=V=>{!x.contains(V.relatedTarget)&&E()},A=()=>{x.contains(document.activeElement)||E()};return x.addEventListener("focusin",w),x.addEventListener("focusout",S),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",A),window.addEventListener("blur",w),window.addEventListener("focus",E),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",A),window.removeEventListener("blur",w),window.removeEventListener("focus",E)}}},[_,a.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:x})=>{const w=l().map(E=>{const S=E.ref.current,A=[S,...D5(S)];return x==="forwards"?A:A.reverse()});return(x==="forwards"?w.reverse():w).flat()},[l]);return p.useEffect(()=>{const x=f.current;if(x){const b=w=>{var A,V,T;const E=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!E){const j=document.activeElement,C=w.shiftKey;if(w.target===x&&C){(A=u.current)==null||A.focus();return}const P=v({tabbingDirection:C?"backwards":"forwards"}),k=P.findIndex(H=>H===j);hy(P.slice(k+1))?w.preventDefault():C?(V=u.current)==null||V.focus():(T=d.current)==null||T.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[l,v]),o.jsxs(u5,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&o.jsx(Xx,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});hy(x)}}),o.jsx(n_.Slot,{scope:n,children:o.jsx(ke.ol,{tabIndex:-1,...i,ref:m})}),_&&o.jsx(Xx,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});hy(x)}})]})});ZI.displayName=QI;var XI="ToastFocusProxy",Xx=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=xg(XI,n);return o.jsx(Ih,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Xx.displayName=XI;var wg="Toast",b5="toast.swipeStart",E5="toast.swipeMove",N5="toast.swipeCancel",j5="toast.swipeEnd",JI=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[l=!0,c]=Ks({prop:r,defaultProp:s,onChange:i});return o.jsx(gr,{present:n||l,children:o.jsx(S5,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Vn(t.onPause),onResume:Vn(t.onResume),onSwipeStart:se(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:se(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});JI.displayName=wg;var[T5,C5]=GI(wg,{onClose(){}}),S5=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,..._}=t,v=xg(wg,n),[x,b]=p.useState(null),w=ot(e,H=>b(H)),E=p.useRef(null),S=p.useRef(null),A=s||v.duration,V=p.useRef(0),T=p.useRef(A),j=p.useRef(0),{onToastAdd:C,onToastRemove:R}=v,D=Vn(()=>{var le;(x==null?void 0:x.contains(document.activeElement))&&((le=v.viewport)==null||le.focus()),a()}),P=p.useCallback(H=>{!H||H===1/0||(window.clearTimeout(j.current),V.current=new Date().getTime(),j.current=window.setTimeout(D,H))},[D]);p.useEffect(()=>{const H=v.viewport;if(H){const le=()=>{P(T.current),u==null||u()},ne=()=>{const q=new Date().getTime()-V.current;T.current=T.current-q,window.clearTimeout(j.current),c==null||c()};return H.addEventListener(Qx,ne),H.addEventListener(Zx,le),()=>{H.removeEventListener(Qx,ne),H.removeEventListener(Zx,le)}}},[v.viewport,A,c,u,P]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&P(A)},[i,A,v.isClosePausedRef,P]),p.useEffect(()=>(C(),()=>R()),[C,R]);const k=p.useMemo(()=>x?ok(x):null,[x]);return v.viewport?o.jsxs(o.Fragment,{children:[k&&o.jsx(I5,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),o.jsx(T5,{scope:n,onClose:D,children:dl.createPortal(o.jsx(n_.ItemSlot,{scope:n,children:o.jsx(c5,{asChild:!0,onEscapeKeyDown:se(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(ke.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,..._,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,H=>{H.key==="Escape"&&(l==null||l(H.nativeEvent),H.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:se(t.onPointerDown,H=>{H.button===0&&(E.current={x:H.clientX,y:H.clientY})}),onPointerMove:se(t.onPointerMove,H=>{if(!E.current)return;const le=H.clientX-E.current.x,ne=H.clientY-E.current.y,q=!!S.current,M=["left","right"].includes(v.swipeDirection),U=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,re=M?U(0,le):0,ee=M?0:U(0,ne),ce=H.pointerType==="touch"?10:2,ge={x:re,y:ee},Ue={originalEvent:H,delta:ge};q?(S.current=ge,Uf(E5,f,Ue,{discrete:!1})):mN(ge,v.swipeDirection,ce)?(S.current=ge,Uf(b5,d,Ue,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(le)>ce||Math.abs(ne)>ce)&&(E.current=null)}),onPointerUp:se(t.onPointerUp,H=>{const le=S.current,ne=H.target;if(ne.hasPointerCapture(H.pointerId)&&ne.releasePointerCapture(H.pointerId),S.current=null,E.current=null,le){const q=H.currentTarget,M={originalEvent:H,delta:le};mN(le,v.swipeDirection,v.swipeThreshold)?Uf(j5,g,M,{discrete:!0}):Uf(N5,m,M,{discrete:!0}),q.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),I5=t=>{const{__scopeToast:e,children:n,...r}=t,s=xg(wg,e),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return P5(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Qc,{asChild:!0,children:o.jsx(Ih,{...r,children:i&&o.jsxs(o.Fragment,{children:[s.label," ",n]})})})},k5="ToastTitle",ek=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(ke.div,{...r,ref:e})});ek.displayName=k5;var R5="ToastDescription",tk=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return o.jsx(ke.div,{...r,ref:e})});tk.displayName=R5;var nk="ToastAction",rk=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?o.jsx(ik,{altText:n,asChild:!0,children:o.jsx(r_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nk}\`. Expected non-empty \`string\`.`),null)});rk.displayName=nk;var sk="ToastClose",r_=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=C5(sk,n);return o.jsx(ik,{asChild:!0,children:o.jsx(ke.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});r_.displayName=sk;var ik=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return o.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function ok(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),A5(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...ok(r))}}),e}function Uf(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?e_(s,i):s.dispatchEvent(i)}var mN=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function P5(t=()=>{}){const e=Vn(t);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function A5(t){return t.nodeType===t.ELEMENT_NODE}function D5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var M5=YI,ak=ZI,lk=JI,ck=ek,uk=tk,dk=rk,hk=r_;function fk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=fk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mk(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=fk(t))&&(r&&(r+=" "),r+=e);return r}const pN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gN=mk,kh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return gN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=pN(d)||pN(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(_=>{let[v,x]=_;return Array.isArray(x)?x.includes({...i,...l}[v]):{...i,...l}[v]===x})?[...u,f,m]:u},[]);return gN(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...L5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pk("lucide",s),...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(V5,{ref:i,iconNode:e,className:pk(`lucide-${O5(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Ze("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Ze("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Ze("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=Ze("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Ze("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Ze("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ze("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=Ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=Ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Ze("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ze("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Ze("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=Ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=Ze("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=Ze("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=Ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Ze("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=Ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=Ze("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),o_="-",Q5=t=>{const e=X5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(o_);return l[0]===""&&l.length!==1&&l.shift(),_k(l,e)||Z5(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},_k=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?_k(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(o_);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},EN=/^\[(.+)\]$/,Z5=t=>{if(EN.test(t)){const e=EN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},X5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return e3(Object.entries(t.classGroups),n).forEach(([i,a])=>{ew(a,r,i,e)}),r},ew=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:NN(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(J5(s)){ew(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{ew(a,NN(e,i),n,r)})})},NN=(t,e)=>{let n=t;return e.split(o_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},J5=t=>t.isThemeGetter,e3=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,t3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},bk="!",n3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(r||l.slice(x,x+i)===e)){c.push(l.slice(d,x)),d=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(bk),_=g?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:a}):a},r3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},s3=t=>({cache:t3(t.cacheSize),parseClassName:n3(t),...Q5(t)}),i3=/\s+/,o3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(i3);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let _=!!g,v=r(_?m.substring(0,g):m);if(!v){if(!_){l=u+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=u+(l.length>0?" "+l:l);continue}_=!1}const x=r3(d).join(":"),b=f?x+bk:x,w=b+v;if(i.includes(w))continue;i.push(w);const E=s(v,_);for(let S=0;S<E.length;++S){const A=E[S];i.push(b+A)}l=u+(l.length>0?" "+l:l)}return l};function a3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ek(e))&&(r&&(r+=" "),r+=n);return r}const Ek=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ek(t[r]))&&(n&&(n+=" "),n+=e);return n};function l3(t,...e){let n,r,s,i=a;function a(c){const u=e.reduce((d,f)=>f(d),t());return n=s3(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=o3(c,n);return s(c,d),d}return function(){return i(a3.apply(null,arguments))}}const Pt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Nk=/^\[(?:([a-z-]+):)?(.+)\]$/i,c3=/^\d+\/\d+$/,u3=new Set(["px","full","screen"]),d3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,m3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,p3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hi=t=>ic(t)||u3.has(t)||c3.test(t),so=t=>Xc(t,"length",E3),ic=t=>!!t&&!Number.isNaN(Number(t)),fy=t=>Xc(t,"number",ic),Mu=t=>!!t&&Number.isInteger(Number(t)),g3=t=>t.endsWith("%")&&ic(t.slice(0,-1)),Be=t=>Nk.test(t),io=t=>d3.test(t),v3=new Set(["length","size","percentage"]),y3=t=>Xc(t,v3,jk),x3=t=>Xc(t,"position",jk),w3=new Set(["image","url"]),_3=t=>Xc(t,w3,j3),b3=t=>Xc(t,"",N3),Ou=()=>!0,Xc=(t,e,n)=>{const r=Nk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},E3=t=>h3.test(t)&&!f3.test(t),jk=()=>!1,N3=t=>m3.test(t),j3=t=>p3.test(t),T3=()=>{const t=Pt("colors"),e=Pt("spacing"),n=Pt("blur"),r=Pt("brightness"),s=Pt("borderColor"),i=Pt("borderRadius"),a=Pt("borderSpacing"),l=Pt("borderWidth"),c=Pt("contrast"),u=Pt("grayscale"),d=Pt("hueRotate"),f=Pt("invert"),m=Pt("gap"),g=Pt("gradientColorStops"),_=Pt("gradientColorStopPositions"),v=Pt("inset"),x=Pt("margin"),b=Pt("opacity"),w=Pt("padding"),E=Pt("saturate"),S=Pt("scale"),A=Pt("sepia"),V=Pt("skew"),T=Pt("space"),j=Pt("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Be,e],P=()=>[Be,e],k=()=>["",hi,so],H=()=>["auto",ic,Be],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Be],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[ic,Be];return{cacheSize:500,separator:":",theme:{colors:[Ou],spacing:[hi,so],blur:["none","",io,Be],brightness:ee(),borderColor:[t],borderRadius:["none","","full",io,Be],borderSpacing:P(),borderWidth:k(),contrast:ee(),grayscale:U(),hueRotate:ee(),invert:U(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[g3,so],inset:D(),margin:D(),opacity:ee(),padding:P(),saturate:ee(),scale:ee(),sepia:U(),skew:ee(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Be]}],container:["container"],columns:[{columns:[io]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),Be]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mu,Be]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Be]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Mu,Be]}],"grid-cols":[{"grid-cols":[Ou]}],"col-start-end":[{col:["auto",{span:["full",Mu,Be]},Be]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ou]}],"row-start-end":[{row:["auto",{span:[Mu,Be]},Be]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Be]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Be]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Be,e]}],"min-w":[{"min-w":[Be,e,"min","max","fit"]}],"max-w":[{"max-w":[Be,e,"none","full","min","max","fit","prose",{screen:[io]},io]}],h:[{h:[Be,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Be,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Be,e,"auto","min","max","fit"]}],"font-size":[{text:["base",io,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",fy]}],"font-family":[{font:[Ou]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Be]}],"line-clamp":[{"line-clamp":["none",ic,fy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hi,Be]}],"list-image":[{"list-image":["none",Be]}],"list-style-type":[{list:["none","disc","decimal",Be]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hi,so]}],"underline-offset":[{"underline-offset":["auto",hi,Be]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),x3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",y3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[hi,Be]}],"outline-w":[{outline:[hi,so]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[hi,so]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",io,b3]}],"shadow-color":[{shadow:[Ou]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",io,Be]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[E]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Be]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Be]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Be]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Mu,Be]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Be]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hi,so,fy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C3=l3(T3);function ie(...t){return C3(mk(t))}const S3=M5,Tk=p.forwardRef(({className:t,...e},n)=>o.jsx(ak,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Tk.displayName=ak.displayName;const I3=kh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ck=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx(lk,{ref:r,className:ie(I3({variant:e}),t),...n}));Ck.displayName=lk.displayName;const k3=p.forwardRef(({className:t,...e},n)=>o.jsx(dk,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));k3.displayName=dk.displayName;const Sk=p.forwardRef(({className:t,...e},n)=>o.jsx(hk,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(i_,{className:"h-4 w-4"})}));Sk.displayName=hk.displayName;const Ik=p.forwardRef(({className:t,...e},n)=>o.jsx(ck,{ref:n,className:ie("text-sm font-semibold",t),...e}));Ik.displayName=ck.displayName;const kk=p.forwardRef(({className:t,...e},n)=>o.jsx(uk,{ref:n,className:ie("text-sm opacity-90",t),...e}));kk.displayName=uk.displayName;function R3(){const{toasts:t}=qF();return o.jsxs(S3,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return o.jsxs(Ck,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(Ik,{children:n}),r&&o.jsx(kk,{children:r})]}),s,o.jsx(Sk,{})]},e)}),o.jsx(Tk,{})]})}var jN=["light","dark"],P3="(prefers-color-scheme: dark)",A3=p.createContext(void 0),D3={setTheme:t=>{},themes:[]},M3=()=>{var t;return(t=p.useContext(A3))!=null?t:D3};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?jN.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(_,v=!1,x=!0)=>{let b=a?a[_]:_,w=v?_+"|| ''":`'${b}'`,E="";return s&&x&&!v&&jN.includes(_)&&(E+=`d.style.colorScheme = '${_}';`),n==="class"?v||b?E+=`c.add(${w})`:E+="null":b&&(E+=`d[s](n,${w})`),E},g=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${P3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${m(a?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var O3=t=>{switch(t){case"success":return F3;case"info":return U3;case"warning":return $3;case"error":return B3;default:return null}},L3=Array(12).fill(0),V3=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},L3.map((e,n)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),F3=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$3=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),U3=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B3=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),z3=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},tw=1,W3=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:tw++,a=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async a=>{if(q3(a)&&!a.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${a.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${a.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(a):n.success,c=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async a=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(a):n.error,c=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var a;i&&(this.dismiss(r),r=void 0),(a=n.finally)==null||a.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||tw++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},xr=new W3,H3=(t,e)=>{let n=(e==null?void 0:e.id)||tw++;return xr.addToast({title:t,...e,id:n}),n},q3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",K3=H3,G3=()=>xr.toasts,mt=Object.assign(K3,{success:xr.success,info:xr.info,warning:xr.warning,error:xr.error,custom:xr.custom,message:xr.message,promise:xr.promise,dismiss:xr.dismiss,loading:xr.loading},{getHistory:G3});function Y3(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Y3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zf(t){return t.label!==void 0}var Q3=3,Z3="32px",X3=4e3,J3=356,e$=14,t$=20,n$=200;function r$(...t){return t.filter(Boolean).join(" ")}var s$=t=>{var e,n,r,s,i,a,l,c,u,d;let{invert:f,toast:m,unstyled:g,interacting:_,setHeights:v,visibleToasts:x,heights:b,index:w,toasts:E,expanded:S,removeToast:A,defaultRichColors:V,closeButton:T,style:j,cancelButtonStyle:C,actionButtonStyle:R,className:D="",descriptionClassName:P="",duration:k,position:H,gap:le,loadingIcon:ne,expandByDefault:q,classNames:M,icons:U,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:ee,cn:ce}=t,[ge,Ue]=Y.useState(!1),[gt,je]=Y.useState(!1),[de,Fe]=Y.useState(!1),[Ye,Me]=Y.useState(!1),[He,qe]=Y.useState(0),[Ot,Ht]=Y.useState(0),Bn=Y.useRef(null),hn=Y.useRef(null),Rr=w===0,O=w+1<=x,F=m.type,L=m.dismissible!==!1,B=m.className||"",G=m.descriptionClassName||"",K=Y.useMemo(()=>b.findIndex(Ae=>Ae.toastId===m.id)||0,[b,m.id]),he=Y.useMemo(()=>{var Ae;return(Ae=m.closeButton)!=null?Ae:T},[m.closeButton,T]),Te=Y.useMemo(()=>m.duration||k||X3,[m.duration,k]),Le=Y.useRef(0),Ve=Y.useRef(0),zn=Y.useRef(0),Kr=Y.useRef(null),[li,ba]=H.split("-"),Es=Y.useMemo(()=>b.reduce((Ae,Tt,_t)=>_t>=K?Ae:Ae+Tt.height,0),[b,K]),Xi=z3(),bl=m.invert||f,Ns=F==="loading";Ve.current=Y.useMemo(()=>K*le+Es,[K,Es]),Y.useEffect(()=>{Ue(!0)},[]),Y.useLayoutEffect(()=>{if(!ge)return;let Ae=hn.current,Tt=Ae.style.height;Ae.style.height="auto";let _t=Ae.getBoundingClientRect().height;Ae.style.height=Tt,Ht(_t),v(jn=>jn.find(nr=>nr.toastId===m.id)?jn.map(nr=>nr.toastId===m.id?{...nr,height:_t}:nr):[{toastId:m.id,height:_t,position:m.position},...jn])},[ge,m.title,m.description,v,m.id]);let js=Y.useCallback(()=>{je(!0),qe(Ve.current),v(Ae=>Ae.filter(Tt=>Tt.toastId!==m.id)),setTimeout(()=>{A(m)},n$)},[m,A,v,Ve]);Y.useEffect(()=>{if(m.promise&&F==="loading"||m.duration===1/0||m.type==="loading")return;let Ae,Tt=Te;return S||_||ee&&Xi?(()=>{if(zn.current<Le.current){let _t=new Date().getTime()-Le.current;Tt=Tt-_t}zn.current=new Date().getTime()})():Tt!==1/0&&(Le.current=new Date().getTime(),Ae=setTimeout(()=>{var _t;(_t=m.onAutoClose)==null||_t.call(m,m),js()},Tt)),()=>clearTimeout(Ae)},[S,_,q,m,Te,js,m.promise,F,ee,Xi]),Y.useEffect(()=>{let Ae=hn.current;if(Ae){let Tt=Ae.getBoundingClientRect().height;return Ht(Tt),v(_t=>[{toastId:m.id,height:Tt,position:m.position},..._t]),()=>v(_t=>_t.filter(jn=>jn.toastId!==m.id))}},[v,m.id]),Y.useEffect(()=>{m.delete&&js()},[js,m.delete]);function Nv(){return U!=null&&U.loading?Y.createElement("div",{className:"sonner-loader","data-visible":F==="loading"},U.loading):ne?Y.createElement("div",{className:"sonner-loader","data-visible":F==="loading"},ne):Y.createElement(V3,{visible:F==="loading"})}return Y.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:hn,className:ce(D,B,M==null?void 0:M.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[F],(n=m==null?void 0:m.classNames)==null?void 0:n[F]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:V,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ge,"data-promise":!!m.promise,"data-removed":gt,"data-visible":O,"data-y-position":li,"data-x-position":ba,"data-index":w,"data-front":Rr,"data-swiping":de,"data-dismissible":L,"data-type":F,"data-invert":bl,"data-swipe-out":Ye,"data-expanded":!!(S||q&&ge),style:{"--index":w,"--toasts-before":w,"--z-index":E.length-w,"--offset":`${gt?He:Ve.current}px`,"--initial-height":q?"auto":`${Ot}px`,...j,...m.style},onPointerDown:Ae=>{Ns||!L||(Bn.current=new Date,qe(Ve.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(Fe(!0),Kr.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,Tt,_t,jn;if(Ye||!L)return;Kr.current=null;let nr=Number(((Ae=hn.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ji=new Date().getTime()-((Tt=Bn.current)==null?void 0:Tt.getTime()),ci=Math.abs(nr)/Ji;if(Math.abs(nr)>=t$||ci>.11){qe(Ve.current),(_t=m.onDismiss)==null||_t.call(m,m),js(),Me(!0);return}(jn=hn.current)==null||jn.style.setProperty("--swipe-amount","0px"),Fe(!1)},onPointerMove:Ae=>{var Tt;if(!Kr.current||!L)return;let _t=Ae.clientY-Kr.current.y,jn=Ae.clientX-Kr.current.x,nr=(li==="top"?Math.min:Math.max)(0,_t),Ji=Ae.pointerType==="touch"?10:2;Math.abs(nr)>Ji?(Tt=hn.current)==null||Tt.style.setProperty("--swipe-amount",`${_t}px`):Math.abs(jn)>Ji&&(Kr.current=null)}},he&&!m.jsx?Y.createElement("button",{"aria-label":re,"data-disabled":Ns,"data-close-button":!0,onClick:Ns||!L?()=>{}:()=>{var Ae;js(),(Ae=m.onDismiss)==null||Ae.call(m,m)},className:ce(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||Y.isValidElement(m.title)?m.jsx||m.title:Y.createElement(Y.Fragment,null,F||m.icon||m.promise?Y.createElement("div",{"data-icon":"",className:ce(M==null?void 0:M.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Nv():null,m.type!=="loading"?m.icon||(U==null?void 0:U[F])||O3(F):null):null,Y.createElement("div",{"data-content":"",className:ce(M==null?void 0:M.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},Y.createElement("div",{"data-title":"",className:ce(M==null?void 0:M.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?Y.createElement("div",{"data-description":"",className:ce(P,G,M==null?void 0:M.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),Y.isValidElement(m.cancel)?m.cancel:m.cancel&&zf(m.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||C,onClick:Ae=>{var Tt,_t;zf(m.cancel)&&L&&((_t=(Tt=m.cancel).onClick)==null||_t.call(Tt,Ae),js())},className:ce(M==null?void 0:M.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,Y.isValidElement(m.action)?m.action:m.action&&zf(m.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:Ae=>{var Tt,_t;zf(m.action)&&(Ae.defaultPrevented||((_t=(Tt=m.action).onClick)==null||_t.call(Tt,Ae),js()))},className:ce(M==null?void 0:M.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function TN(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var i$=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:m=Q3,toastOptions:g,dir:_=TN(),gap:v=e$,loadingIcon:x,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:E,cn:S=r$}=t,[A,V]=Y.useState([]),T=Y.useMemo(()=>Array.from(new Set([n].concat(A.filter(ee=>ee.position).map(ee=>ee.position)))),[A,n]),[j,C]=Y.useState([]),[R,D]=Y.useState(!1),[P,k]=Y.useState(!1),[H,le]=Y.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=Y.useRef(null),q=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Y.useRef(null),U=Y.useRef(!1),re=Y.useCallback(ee=>{var ce;(ce=A.find(ge=>ge.id===ee.id))!=null&&ce.delete||xr.dismiss(ee.id),V(ge=>ge.filter(({id:Ue})=>Ue!==ee.id))},[A]);return Y.useEffect(()=>xr.subscribe(ee=>{if(ee.dismiss){V(ce=>ce.map(ge=>ge.id===ee.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{BI.flushSync(()=>{V(ce=>{let ge=ce.findIndex(Ue=>Ue.id===ee.id);return ge!==-1?[...ce.slice(0,ge),{...ce[ge],...ee},...ce.slice(ge+1)]:[ee,...ce]})})})}),[]),Y.useEffect(()=>{if(c!=="system"){le(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:ee})=>{le(ee?"dark":"light")})},[c]),Y.useEffect(()=>{A.length<=1&&D(!1)},[A]),Y.useEffect(()=>{let ee=ce=>{var ge,Ue;r.every(gt=>ce[gt]||ce.code===gt)&&(D(!0),(ge=ne.current)==null||ge.focus()),ce.code==="Escape"&&(document.activeElement===ne.current||(Ue=ne.current)!=null&&Ue.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[r]),Y.useEffect(()=>{if(ne.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,U.current=!1)}},[ne.current]),A.length?Y.createElement("section",{"aria-label":`${w} ${q}`,tabIndex:-1},T.map((ee,ce)=>{var ge;let[Ue,gt]=ee.split("-");return Y.createElement("ol",{key:ee,dir:_==="auto"?TN():_,tabIndex:-1,ref:ne,className:a,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Ue,"data-x-position":gt,style:{"--front-toast-height":`${((ge=j[0])==null?void 0:ge.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||Z3,"--width":`${J3}px`,"--gap":`${v}px`,...f},onBlur:je=>{U.current&&!je.currentTarget.contains(je.relatedTarget)&&(U.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||U.current||(U.current=!0,M.current=je.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{P||D(!1)},onPointerDown:je=>{je.target instanceof HTMLElement&&je.target.dataset.dismissible==="false"||k(!0)},onPointerUp:()=>k(!1)},A.filter(je=>!je.position&&ce===0||je.position===ee).map((je,de)=>{var Fe,Ye;return Y.createElement(s$,{key:je.id,icons:b,index:de,toast:je,defaultRichColors:u,duration:(Fe=g==null?void 0:g.duration)!=null?Fe:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:m,closeButton:(Ye=g==null?void 0:g.closeButton)!=null?Ye:i,interacting:P,position:ee,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:re,toasts:A.filter(Me=>Me.position==je.position),heights:j.filter(Me=>Me.position==je.position),setHeights:C,expandByDefault:s,gap:v,loadingIcon:x,expanded:R,pauseWhenPageIsHidden:E,cn:S})}))})):null};const o$=({...t})=>{const{theme:e="system"}=M3();return o.jsx(i$,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var a$=FC.useId||(()=>{}),l$=0;function Fr(t){const[e,n]=p.useState(a$());return Fn(()=>{t||n(r=>r??String(l$++))},[t]),t||(e?`radix-${e}`:"")}const c$=["top","right","bottom","left"],Go=Math.min,_r=Math.max,ip=Math.round,Wf=Math.floor,Yo=t=>({x:t,y:t}),u$={left:"right",right:"left",bottom:"top",top:"bottom"},d$={start:"end",end:"start"};function nw(t,e,n){return _r(t,Go(e,n))}function Oi(t,e){return typeof t=="function"?t(e):t}function Li(t){return t.split("-")[0]}function Jc(t){return t.split("-")[1]}function a_(t){return t==="x"?"y":"x"}function l_(t){return t==="y"?"height":"width"}function Qo(t){return["top","bottom"].includes(Li(t))?"y":"x"}function c_(t){return a_(Qo(t))}function h$(t,e,n){n===void 0&&(n=!1);const r=Jc(t),s=c_(t),i=l_(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=op(a)),[a,op(a)]}function f$(t){const e=op(t);return[rw(t),e,rw(e)]}function rw(t){return t.replace(/start|end/g,e=>d$[e])}function m$(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:a;default:return[]}}function p$(t,e,n,r){const s=Jc(t);let i=m$(Li(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(rw)))),i}function op(t){return t.replace(/left|right|bottom|top/g,e=>u$[e])}function g$(t){return{top:0,right:0,bottom:0,left:0,...t}}function Rk(t){return typeof t!="number"?g$(t):{top:t,right:t,bottom:t,left:t}}function ap(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function CN(t,e,n){let{reference:r,floating:s}=t;const i=Qo(e),a=c_(e),l=l_(a),c=Li(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Jc(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const v$=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=CN(u,r,c),m=r,g={},_=0;for(let v=0;v<l.length;v++){const{name:x,fn:b}=l[v],{x:w,y:E,data:S,reset:A}=await b({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});d=w??d,f=E??f,g={...g,[x]:{...g[x],...S}},A&&_<=50&&(_++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:d,y:f}=CN(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:g}};async function Fd(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Oi(e,t),_=Rk(g),x=l[m?f==="floating"?"reference":"floating":f],b=ap(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},A=ap(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:E,strategy:c}):w);return{top:(b.top-A.top+_.top)/S.y,bottom:(A.bottom-b.bottom+_.bottom)/S.y,left:(b.left-A.left+_.left)/S.x,right:(A.right-b.right+_.right)/S.x}}const y$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Oi(t,e)||{};if(u==null)return{};const f=Rk(d),m={x:n,y:r},g=c_(s),_=l_(g),v=await a.getDimensions(u),x=g==="y",b=x?"top":"left",w=x?"bottom":"right",E=x?"clientHeight":"clientWidth",S=i.reference[_]+i.reference[g]-m[g]-i.floating[_],A=m[g]-i.reference[g],V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let T=V?V[E]:0;(!T||!await(a.isElement==null?void 0:a.isElement(V)))&&(T=l.floating[E]||i.floating[_]);const j=S/2-A/2,C=T/2-v[_]/2-1,R=Go(f[b],C),D=Go(f[w],C),P=R,k=T-v[_]-D,H=T/2-v[_]/2+j,le=nw(P,H,k),ne=!c.arrow&&Jc(s)!=null&&H!==le&&i.reference[_]/2-(H<P?R:D)-v[_]/2<0,q=ne?H<P?H-P:H-k:0;return{[g]:m[g]+q,data:{[g]:le,centerOffset:H-le-q,...ne&&{alignmentOffset:q}},reset:ne}}}),x$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:v=!0,...x}=Oi(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Li(s),w=Qo(l),E=Li(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=m||(E||!v?[op(l)]:f$(l)),V=_!=="none";!m&&V&&A.push(...p$(l,v,_,S));const T=[l,...A],j=await Fd(e,x),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(j[b]),f){const H=h$(s,a,S);C.push(j[H[0]],j[H[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(H=>H<=0)){var D,P;const H=(((D=i.flip)==null?void 0:D.index)||0)+1,le=T[H];if(le)return{data:{index:H,overflows:R},reset:{placement:le}};let ne=(P=R.filter(q=>q.overflows[0]<=0).sort((q,M)=>q.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!ne)switch(g){case"bestFit":{var k;const q=(k=R.filter(M=>{if(V){const U=Qo(M.placement);return U===w||U==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(U=>U>0).reduce((U,re)=>U+re,0)]).sort((M,U)=>M[1]-U[1])[0])==null?void 0:k[0];q&&(ne=q);break}case"initialPlacement":ne=l;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function SN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function IN(t){return c$.some(e=>t[e]>=0)}const w$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Oi(t,e);switch(r){case"referenceHidden":{const i=await Fd(e,{...s,elementContext:"reference"}),a=SN(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:IN(a)}}}case"escaped":{const i=await Fd(e,{...s,altBoundary:!0}),a=SN(i,n.floating);return{data:{escapedOffsets:a,escaped:IN(a)}}}default:return{}}}}};async function _$(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Li(n),l=Jc(n),c=Qo(n)==="y",u=["left","top"].includes(a)?-1:1,d=i&&c?-1:1,f=Oi(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof _=="number"&&(g=l==="end"?_*-1:_),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const b$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:l}=e,c=await _$(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}},E$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...c}=Oi(t,e),u={x:n,y:r},d=await Fd(e,c),f=Qo(Li(s)),m=a_(f);let g=u[m],_=u[f];if(i){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=g+d[x],E=g-d[b];g=nw(w,g,E)}if(a){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=_+d[x],E=_-d[b];_=nw(w,_,E)}const v=l.fn({...e,[m]:g,[f]:_});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:a}}}}}},N$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Oi(t,e),d={x:n,y:r},f=Qo(s),m=a_(f);let g=d[m],_=d[f];const v=Oi(l,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const E=m==="y"?"height":"width",S=i.reference[m]-i.floating[E]+x.mainAxis,A=i.reference[m]+i.reference[E]-x.mainAxis;g<S?g=S:g>A&&(g=A)}if(u){var b,w;const E=m==="y"?"width":"height",S=["top","left"].includes(Li(s)),A=i.reference[f]-i.floating[E]+(S&&((b=a.offset)==null?void 0:b[f])||0)+(S?0:x.crossAxis),V=i.reference[f]+i.reference[E]+(S?0:((w=a.offset)==null?void 0:w[f])||0)-(S?x.crossAxis:0);_<A?_=A:_>V&&(_=V)}return{[m]:g,[f]:_}}}},j$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Oi(t,e),d=await Fd(e,u),f=Li(s),m=Jc(s),g=Qo(s)==="y",{width:_,height:v}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=m==="end"?"top":"bottom");const w=v-d.top-d.bottom,E=_-d.left-d.right,S=Go(v-d[x],w),A=Go(_-d[b],E),V=!e.middlewareData.shift;let T=S,j=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(j=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=w),V&&!m){const R=_r(d.left,0),D=_r(d.right,0),P=_r(d.top,0),k=_r(d.bottom,0);g?j=_-2*(R!==0||D!==0?R+D:_r(d.left,d.right)):T=v-2*(P!==0||k!==0?P+k:_r(d.top,d.bottom))}await c({...e,availableWidth:j,availableHeight:T});const C=await a.getDimensions(l.floating);return _!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function bg(){return typeof window<"u"}function eu(t){return Pk(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ri(t){var e;return(e=(Pk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pk(t){return bg()?t instanceof Node||t instanceof Tr(t).Node:!1}function hs(t){return bg()?t instanceof Element||t instanceof Tr(t).Element:!1}function Ys(t){return bg()?t instanceof HTMLElement||t instanceof Tr(t).HTMLElement:!1}function kN(t){return!bg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}function Ph(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function T$(t){return["table","td","th"].includes(eu(t))}function Eg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function u_(t){const e=d_(),n=hs(t)?fs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function C$(t){let e=Zo(t);for(;Ys(e)&&!Rc(e);){if(u_(e))return e;if(Eg(e))return null;e=Zo(e)}return null}function d_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rc(t){return["html","body","#document"].includes(eu(t))}function fs(t){return Tr(t).getComputedStyle(t)}function Ng(t){return hs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zo(t){if(eu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kN(t)&&t.host||ri(t);return kN(e)?e.host:e}function Ak(t){const e=Zo(t);return Rc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ys(e)&&Ph(e)?e:Ak(e)}function $d(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Ak(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Tr(s);if(i){const l=sw(a);return e.concat(a,a.visualViewport||[],Ph(s)?s:[],l&&n?$d(l):[])}return e.concat(s,$d(s,[],n))}function sw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dk(t){const e=fs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ys(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,l=ip(n)!==i||ip(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function h_(t){return hs(t)?t:t.contextElement}function oc(t){const e=h_(t);if(!Ys(e))return Yo(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Dk(e);let a=(i?ip(n.width):n.width)/r,l=(i?ip(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const S$=Yo(0);function Mk(t){const e=Tr(t);return!d_()||!e.visualViewport?S$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function I$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function Ga(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=h_(t);let a=Yo(1);e&&(r?hs(r)&&(a=oc(r)):a=oc(t));const l=I$(i,n,r)?Mk(i):Yo(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(i){const m=Tr(i),g=r&&hs(r)?Tr(r):r;let _=m,v=sw(_);for(;v&&r&&g!==_;){const x=oc(v),b=v.getBoundingClientRect(),w=fs(v),E=b.left+(v.clientLeft+parseFloat(w.paddingLeft))*x.x,S=b.top+(v.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=E,u+=S,_=Tr(v),v=sw(_)}}return ap({width:d,height:f,x:c,y:u})}function k$(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=ri(r),l=e?Eg(e.floating):!1;if(r===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Yo(1);const d=Yo(0),f=Ys(r);if((f||!f&&!i)&&((eu(r)!=="body"||Ph(a))&&(c=Ng(r)),Ys(r))){const m=Ga(r);u=oc(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function R$(t){return Array.from(t.getClientRects())}function iw(t,e){const n=Ng(t).scrollLeft;return e?e.left+n:Ga(ri(t)).left+n}function P$(t){const e=ri(t),n=Ng(t),r=t.ownerDocument.body,s=_r(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=_r(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+iw(t);const l=-n.scrollTop;return fs(r).direction==="rtl"&&(a+=_r(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:l}}function A$(t,e){const n=Tr(t),r=ri(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){i=s.width,a=s.height;const u=d_();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:l,y:c}}function D$(t,e){const n=Ga(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ys(t)?oc(t):Yo(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:a,height:l,x:c,y:u}}function RN(t,e,n){let r;if(e==="viewport")r=A$(t,n);else if(e==="document")r=P$(ri(t));else if(hs(e))r=D$(e,n);else{const s=Mk(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return ap(r)}function Ok(t,e){const n=Zo(t);return n===e||!hs(n)||Rc(n)?!1:fs(n).position==="fixed"||Ok(n,e)}function M$(t,e){const n=e.get(t);if(n)return n;let r=$d(t,[],!1).filter(l=>hs(l)&&eu(l)!=="body"),s=null;const i=fs(t).position==="fixed";let a=i?Zo(t):t;for(;hs(a)&&!Rc(a);){const l=fs(a),c=u_(a);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ph(a)&&!c&&Ok(t,a))?r=r.filter(d=>d!==a):s=l,a=Zo(a)}return e.set(t,r),r}function O$(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Eg(e)?[]:M$(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=RN(e,d,s);return u.top=_r(f.top,u.top),u.right=Go(f.right,u.right),u.bottom=Go(f.bottom,u.bottom),u.left=_r(f.left,u.left),u},RN(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function L$(t){const{width:e,height:n}=Dk(t);return{width:e,height:n}}function V$(t,e,n){const r=Ys(e),s=ri(e),i=n==="fixed",a=Ga(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Yo(0);if(r||!r&&!i)if((eu(e)!=="body"||Ph(s))&&(l=Ng(e)),r){const g=Ga(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&(c.x=iw(s));let u=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+l.scrollTop,u=g.left+l.scrollLeft-iw(s,g)}const f=a.left+l.scrollLeft-c.x-u,m=a.top+l.scrollTop-c.y-d;return{x:f,y:m,width:a.width,height:a.height}}function my(t){return fs(t).position==="static"}function PN(t,e){if(!Ys(t)||fs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ri(t)===n&&(n=n.ownerDocument.body),n}function Lk(t,e){const n=Tr(t);if(Eg(t))return n;if(!Ys(t)){let s=Zo(t);for(;s&&!Rc(s);){if(hs(s)&&!my(s))return s;s=Zo(s)}return n}let r=PN(t,e);for(;r&&T$(r)&&my(r);)r=PN(r,e);return r&&Rc(r)&&my(r)&&!u_(r)?n:r||C$(t)||n}const F$=async function(t){const e=this.getOffsetParent||Lk,n=this.getDimensions,r=await n(t.floating);return{reference:V$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $$(t){return fs(t).direction==="rtl"}const U$={convertOffsetParentRelativeRectToViewportRelativeRect:k$,getDocumentElement:ri,getClippingRect:O$,getOffsetParent:Lk,getElementRects:F$,getClientRects:R$,getDimensions:L$,getScale:oc,isElement:hs,isRTL:$$};function B$(t,e){let n=null,r;const s=ri(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:m}=t.getBoundingClientRect();if(l||e(),!f||!m)return;const g=Wf(d),_=Wf(s.clientWidth-(u+f)),v=Wf(s.clientHeight-(d+m)),x=Wf(u),w={rootMargin:-g+"px "+-_+"px "+-v+"px "+-x+"px",threshold:_r(0,Go(1,c))||1};let E=!0;function S(A){const V=A[0].intersectionRatio;if(V!==c){if(!E)return a();V?a(!1,V):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(t)}return a(!0),i}function z$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=h_(t),d=s||i?[...u?$d(u):[],...$d(e)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const f=u&&l?B$(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let _,v=c?Ga(t):null;c&&x();function x(){const b=Ga(t);v&&(b.x!==v.x||b.y!==v.y||b.width!==v.width||b.height!==v.height)&&n(),v=b,_=requestAnimationFrame(x)}return n(),()=>{var b;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(b=g)==null||b.disconnect(),g=null,c&&cancelAnimationFrame(_)}}const W$=b$,H$=E$,q$=x$,K$=j$,G$=w$,AN=y$,Y$=N$,Q$=(t,e,n)=>{const r=new Map,s={platform:U$,...n},i={...s.platform,_c:r};return v$(t,e,{...s,platform:i})};var xm=typeof document<"u"?p.useLayoutEffect:p.useEffect;function lp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!lp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!lp(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Vk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DN(t,e){const n=Vk(t);return Math.round(e*n)/n}function py(t){const e=p.useRef(t);return xm(()=>{e.current=t}),e}function Z$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);lp(m,r)||g(r);const[_,v]=p.useState(null),[x,b]=p.useState(null),w=p.useCallback(M=>{M!==V.current&&(V.current=M,v(M))},[]),E=p.useCallback(M=>{M!==T.current&&(T.current=M,b(M))},[]),S=i||_,A=a||x,V=p.useRef(null),T=p.useRef(null),j=p.useRef(d),C=c!=null,R=py(c),D=py(s),P=py(u),k=p.useCallback(()=>{if(!V.current||!T.current)return;const M={placement:e,strategy:n,middleware:m};D.current&&(M.platform=D.current),Q$(V.current,T.current,M).then(U=>{const re={...U,isPositioned:P.current!==!1};H.current&&!lp(j.current,re)&&(j.current=re,dl.flushSync(()=>{f(re)}))})},[m,e,n,D,P]);xm(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const H=p.useRef(!1);xm(()=>(H.current=!0,()=>{H.current=!1}),[]),xm(()=>{if(S&&(V.current=S),A&&(T.current=A),S&&A){if(R.current)return R.current(S,A,k);k()}},[S,A,k,R,C]);const le=p.useMemo(()=>({reference:V,floating:T,setReference:w,setFloating:E}),[w,E]),ne=p.useMemo(()=>({reference:S,floating:A}),[S,A]),q=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!ne.floating)return M;const U=DN(ne.floating,d.x),re=DN(ne.floating,d.y);return l?{...M,transform:"translate("+U+"px, "+re+"px)",...Vk(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:re}},[n,l,ne.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:k,refs:le,elements:ne,floatingStyles:q}),[d,k,le,ne,q])}const X$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?AN({element:r.current,padding:s}).fn(n):{}:r?AN({element:r,padding:s}).fn(n):{}}}},J$=(t,e)=>({...W$(t),options:[t,e]}),e6=(t,e)=>({...H$(t),options:[t,e]}),t6=(t,e)=>({...Y$(t),options:[t,e]}),n6=(t,e)=>({...q$(t),options:[t,e]}),r6=(t,e)=>({...K$(t),options:[t,e]}),s6=(t,e)=>({...G$(t),options:[t,e]}),i6=(t,e)=>({...X$(t),options:[t,e]});var o6="Arrow",Fk=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return o.jsx(ke.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Fk.displayName=o6;var a6=Fk;function l6(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:m,children:g,..._}=f,v=(m==null?void 0:m[t][c])||l,x=p.useMemo(()=>_,Object.values(_));return o.jsx(v.Provider,{value:x,children:g})}function d(f,m){const g=(m==null?void 0:m[t][c])||l,_=p.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,c6(s,...e)]}function c6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function $k(t){const[e,n]=p.useState(void 0);return Fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var f_="Popper",[Uk,fa]=l6(f_),[u6,Bk]=Uk(f_),zk=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return o.jsx(u6,{scope:e,anchor:r,onAnchorChange:s,children:n})};zk.displayName=f_;var Wk="PopperAnchor",Hk=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=Bk(Wk,n),a=p.useRef(null),l=ot(e,a);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:o.jsx(ke.div,{...s,ref:l})});Hk.displayName=Wk;var m_="PopperContent",[d6,h6]=Uk(m_),qk=p.forwardRef((t,e)=>{var de,Fe,Ye,Me,He,qe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:_,...v}=t,x=Bk(m_,n),[b,w]=p.useState(null),E=ot(e,Ot=>w(Ot)),[S,A]=p.useState(null),V=$k(S),T=(V==null?void 0:V.width)??0,j=(V==null?void 0:V.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],P=D.length>0,k={padding:R,boundary:D.filter(m6),altBoundary:P},{refs:H,floatingStyles:le,placement:ne,isPositioned:q,middlewareData:M}=Z$({strategy:"fixed",placement:C,whileElementsMounted:(...Ot)=>z$(...Ot,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[J$({mainAxis:s+j,alignmentAxis:a}),c&&e6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?t6():void 0,...k}),c&&n6({...k}),r6({...k,apply:({elements:Ot,rects:Ht,availableWidth:Bn,availableHeight:hn})=>{const{width:Rr,height:O}=Ht.reference,F=Ot.floating.style;F.setProperty("--radix-popper-available-width",`${Bn}px`),F.setProperty("--radix-popper-available-height",`${hn}px`),F.setProperty("--radix-popper-anchor-width",`${Rr}px`),F.setProperty("--radix-popper-anchor-height",`${O}px`)}}),S&&i6({element:S,padding:l}),p6({arrowWidth:T,arrowHeight:j}),m&&s6({strategy:"referenceHidden",...k})]}),[U,re]=Yk(ne),ee=Vn(_);Fn(()=>{q&&(ee==null||ee())},[q,ee]);const ce=(de=M.arrow)==null?void 0:de.x,ge=(Fe=M.arrow)==null?void 0:Fe.y,Ue=((Ye=M.arrow)==null?void 0:Ye.centerOffset)!==0,[gt,je]=p.useState();return Fn(()=>{b&&je(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:q?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:gt,"--radix-popper-transform-origin":[(Me=M.transformOrigin)==null?void 0:Me.x,(He=M.transformOrigin)==null?void 0:He.y].join(" "),...((qe=M.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(d6,{scope:n,placedSide:U,onArrowChange:A,arrowX:ce,arrowY:ge,shouldHideArrow:Ue,children:o.jsx(ke.div,{"data-side":U,"data-align":re,...v,ref:E,style:{...v.style,animation:q?void 0:"none"}})})})});qk.displayName=m_;var Kk="PopperArrow",f6={top:"bottom",right:"left",bottom:"top",left:"right"},Gk=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=h6(Kk,r),a=f6[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(a6,{...s,ref:n,style:{...s.style,display:"block"}})})});Gk.displayName=Kk;function m6(t){return t!==null}var p6=t=>({name:"transformOrigin",options:t,fn(e){var x,b,w;const{placement:n,rects:r,middlewareData:s}=e,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=Yk(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let _="",v="";return u==="bottom"?(_=a?f:`${m}px`,v=`${-c}px`):u==="top"?(_=a?f:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(_=`${-c}px`,v=a?f:`${g}px`):u==="left"&&(_=`${r.floating.width+c}px`,v=a?f:`${g}px`),{data:{x:_,y:v}}}});function Yk(t){const[e,n="center"]=t.split("-");return[e,n]}var jg=zk,Ah=Hk,Tg=qk,Cg=Gk,[Sg,zre]=ni("Tooltip",[fa]),Ig=fa(),Qk="TooltipProvider",g6=700,ow="tooltip.open",[v6,p_]=Sg(Qk),Zk=t=>{const{__scopeTooltip:e,delayDuration:n=g6,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[a,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(v6,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};Zk.displayName=Qk;var kg="Tooltip",[y6,Rg]=Sg(kg),Xk=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s=!1,onOpenChange:i,disableHoverableContent:a,delayDuration:l}=t,c=p_(kg,t.__scopeTooltip),u=Ig(e),[d,f]=p.useState(null),m=Fr(),g=p.useRef(0),_=a??c.disableHoverableContent,v=l??c.delayDuration,x=p.useRef(!1),[b=!1,w]=Ks({prop:r,defaultProp:s,onChange:T=>{T?(c.onOpen(),document.dispatchEvent(new CustomEvent(ow))):c.onClose(),i==null||i(T)}}),E=p.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),S=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,w(!0)},[w]),A=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w(!1)},[w]),V=p.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,w(!0),g.current=0},v)},[v,w]);return p.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),o.jsx(jg,{...u,children:o.jsx(y6,{scope:e,contentId:m,open:b,stateAttribute:E,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?V():S()},[c.isOpenDelayed,V,S]),onTriggerLeave:p.useCallback(()=>{_?A():(window.clearTimeout(g.current),g.current=0)},[A,_]),onOpen:S,onClose:A,disableHoverableContent:_,children:n})})};Xk.displayName=kg;var aw="TooltipTrigger",Jk=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Rg(aw,n),i=p_(aw,n),a=Ig(n),l=p.useRef(null),c=ot(e,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Ah,{asChild:!0,...a,children:o.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:se(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:se(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:se(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});Jk.displayName=aw;var x6="TooltipPortal",[Wre,w6]=Sg(x6,{forceMount:void 0}),Pc="TooltipContent",eR=p.forwardRef((t,e)=>{const n=w6(Pc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=Rg(Pc,t.__scopeTooltip);return o.jsx(gr,{present:r||a.open,children:a.disableHoverableContent?o.jsx(tR,{side:s,...i,ref:e}):o.jsx(_6,{side:s,...i,ref:e})})}),_6=p.forwardRef((t,e)=>{const n=Rg(Pc,t.__scopeTooltip),r=p_(Pc,t.__scopeTooltip),s=p.useRef(null),i=ot(e,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{l(null),f(!1)},[f]),g=p.useCallback((_,v)=>{const x=_.currentTarget,b={x:_.clientX,y:_.clientY},w=j6(b,x.getBoundingClientRect()),E=T6(b,w),S=C6(v.getBoundingClientRect()),A=I6([...E,...S]);l(A),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(c&&d){const _=x=>g(x,d),v=x=>g(x,c);return c.addEventListener("pointerleave",_),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),p.useEffect(()=>{if(a){const _=v=>{const x=v.target,b={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),E=!S6(b,a);w?m():E&&(m(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,d,a,u,m]),o.jsx(tR,{...t,ref:i})}),[b6,E6]=Sg(kg,{isInside:!1}),tR=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...l}=t,c=Rg(Pc,n),u=Ig(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(ow,d),()=>document.removeEventListener(ow,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(hl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(Tg,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(J0,{children:r}),o.jsx(b6,{scope:n,isInside:!0,children:o.jsx(v5,{id:c.contentId,role:"tooltip",children:s||r})})]})})});eR.displayName=Pc;var nR="TooltipArrow",N6=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ig(n);return E6(nR,n).isInside?null:o.jsx(Cg,{...s,...r,ref:e})});N6.displayName=nR;function j6(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function T6(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function C6(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function S6(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i].x,c=e[i].y,u=e[a].x,d=e[a].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function I6(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),k6(e)}function k6(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var R6=Zk,P6=Xk,A6=Jk,rR=eR;const tu=R6,Dh=P6,Mh=A6,nu=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(rR,{ref:r,sideOffset:e,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));nu.displayName=rR.displayName;var Pg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ag=typeof window>"u"||"Deno"in globalThis;function Xr(){}function D6(t,e){return typeof t=="function"?t(e):t}function M6(t){return typeof t=="number"&&t>=0&&t!==1/0}function O6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function MN(t,e){return typeof t=="function"?t(e):t}function L6(t,e){return typeof t=="function"?t(e):t}function ON(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==g_(a,e.options))return!1}else if(!Bd(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function LN(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ud(e.options.mutationKey)!==Ud(i))return!1}else if(!Bd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function g_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ud)(t)}function Ud(t){return JSON.stringify(t,(e,n)=>lw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Bd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Bd(t[n],e[n])):!1}function sR(t,e){if(t===e)return t;const n=VN(t)&&VN(e);if(n||lw(t)&&lw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=sR(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return s===a&&c===s?t:l}return e}function VN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function lw(t){if(!FN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!FN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function FN(t){return Object.prototype.toString.call(t)==="[object Object]"}function V6(t){return new Promise(e=>{setTimeout(e,t)})}function F6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sR(t,e):e}function $6(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function U6(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var v_=Symbol();function iR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===v_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oa,Eo,mc,wC,B6=(wC=class extends Pg{constructor(){super();vt(this,Oa);vt(this,Eo);vt(this,mc);Ke(this,mc,e=>{if(!Ag&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,Eo)||this.setEventListener(Z(this,mc))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,Eo))==null||e.call(this),Ke(this,Eo,void 0))}setEventListener(e){var n;Ke(this,mc,e),(n=Z(this,Eo))==null||n.call(this),Ke(this,Eo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Z(this,Oa)!==e&&(Ke(this,Oa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Z(this,Oa)=="boolean"?Z(this,Oa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oa=new WeakMap,Eo=new WeakMap,mc=new WeakMap,wC),oR=new B6,pc,No,gc,_C,z6=(_C=class extends Pg{constructor(){super();vt(this,pc,!0);vt(this,No);vt(this,gc);Ke(this,gc,e=>{if(!Ag&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,No)||this.setEventListener(Z(this,gc))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,No))==null||e.call(this),Ke(this,No,void 0))}setEventListener(e){var n;Ke(this,gc,e),(n=Z(this,No))==null||n.call(this),Ke(this,No,e(this.setOnline.bind(this)))}setOnline(e){Z(this,pc)!==e&&(Ke(this,pc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Z(this,pc)}},pc=new WeakMap,No=new WeakMap,gc=new WeakMap,_C),cp=new z6;function W6(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function H6(t){return Math.min(1e3*2**t,3e4)}function aR(t){return(t??"online")==="online"?cp.isOnline():!0}var lR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gy(t){return t instanceof lR}function cR(t){let e=!1,n=0,r=!1,s;const i=W6(),a=v=>{var x;r||(m(new lR(v)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>oR.isFocused()&&(t.networkMode==="always"||cp.isOnline())&&t.canRun(),d=()=>aR(t.networkMode)&&t.canRun(),f=v=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,v),s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var x;s=b=>{(r||u())&&v(b)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),_=()=>{if(r)return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var V;if(r)return;const w=t.retry??(Ag?0:3),E=t.retryDelay??H6,S=typeof E=="function"?E(n,b):E,A=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!A){m(b);return}n++,(V=t.onFail)==null||V.call(t,n,b),V6(S).then(()=>u()?void 0:g()).then(()=>{e?m(b):_()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?_():g().then(_),i)}}function q6(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Yn=q6(),La,bC,uR=(bC=class{constructor(){vt(this,La)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M6(this.gcTime)&&Ke(this,La,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ag?1/0:5*60*1e3))}clearGcTimeout(){Z(this,La)&&(clearTimeout(Z(this,La)),Ke(this,La,void 0))}},La=new WeakMap,bC),vc,yc,Pr,Pn,bh,Va,Jr,pi,EC,K6=(EC=class extends uR{constructor(n){super();vt(this,Jr);vt(this,vc);vt(this,yc);vt(this,Pr);vt(this,Pn);vt(this,bh);vt(this,Va);Ke(this,Va,!1),Ke(this,bh,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ke(this,Pr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ke(this,vc,Y6(this.options)),this.state=n.state??Z(this,vc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Z(this,Pn))==null?void 0:n.promise}setOptions(n){this.options={...Z(this,bh),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,Pr).remove(this)}setData(n,r){const s=F6(this.state.data,n,this.options);return Sn(this,Jr,pi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Sn(this,Jr,pi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=Z(this,Pn))==null?void 0:s.promise;return(i=Z(this,Pn))==null||i.cancel(n),r?r.then(Xr).catch(Xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,vc))}isActive(){return this.observers.some(n=>L6(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===v_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!O6(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Z(this,Pn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Z(this,Pn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Z(this,Pr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Z(this,Pn)&&(Z(this,Va)?Z(this,Pn).cancel({revert:!0}):Z(this,Pn).cancelRetry()),this.scheduleGc()),Z(this,Pr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Sn(this,Jr,pi).call(this,{type:"invalidate"})}fetch(n,r){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Z(this,Pn))return Z(this,Pn).continueRetry(),Z(this,Pn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Ke(this,Va,!0),s.signal)})},a=()=>{const m=iR(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),Ke(this,Va,!1),this.options.persister?this.options.persister(m,g,this):m(g)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(l),(u=this.options.behavior)==null||u.onFetch(l,this),Ke(this,yc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Sn(this,Jr,pi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var g,_,v,x;gy(m)&&m.silent||Sn(this,Jr,pi).call(this,{type:"error",error:m}),gy(m)||((_=(g=Z(this,Pr).config).onError)==null||_.call(g,m,this),(x=(v=Z(this,Pr).config).onSettled)==null||x.call(v,this.state.data,m,this)),this.scheduleGc()};return Ke(this,Pn,cR({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var g,_,v,x;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){c(b);return}(_=(g=Z(this,Pr).config).onSuccess)==null||_.call(g,m,this),(x=(v=Z(this,Pr).config).onSettled)==null||x.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,g)=>{Sn(this,Jr,pi).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{Sn(this,Jr,pi).call(this,{type:"pause"})},onContinue:()=>{Sn(this,Jr,pi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Z(this,Pn).start()}},vc=new WeakMap,yc=new WeakMap,Pr=new WeakMap,Pn=new WeakMap,bh=new WeakMap,Va=new WeakMap,Jr=new WeakSet,pi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...G6(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return gy(i)&&i.revert&&Z(this,yc)?{...Z(this,yc),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Yn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Z(this,Pr).notify({query:this,type:"updated",action:n})})},EC);function G6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:aR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Y6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Is,NC,Q6=(NC=class extends Pg{constructor(e={}){super();vt(this,Is);this.config=e,Ke(this,Is,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??g_(s,n);let a=this.get(i);return a||(a=new K6({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){Z(this,Is).has(e.queryHash)||(Z(this,Is).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Z(this,Is).get(e.queryHash);n&&(e.destroy(),n===e&&Z(this,Is).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,Is).get(e)}getAll(){return[...Z(this,Is).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ON(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ON(e,r)):n}notify(e){Yn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Is=new WeakMap,NC),ks,qn,Fa,Rs,lo,jC,Z6=(jC=class extends uR{constructor(n){super();vt(this,Rs);vt(this,ks);vt(this,qn);vt(this,Fa);this.mutationId=n.mutationId,Ke(this,qn,n.mutationCache),Ke(this,ks,[]),this.state=n.state||X6(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Z(this,ks).includes(n)||(Z(this,ks).push(n),this.clearGcTimeout(),Z(this,qn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ke(this,ks,Z(this,ks).filter(r=>r!==n)),this.scheduleGc(),Z(this,qn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Z(this,ks).length||(this.state.status==="pending"?this.scheduleGc():Z(this,qn).remove(this))}continue(){var n;return((n=Z(this,Fa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,a,l,c,u,d,f,m,g,_,v,x,b,w,E,S,A,V,T,j;Ke(this,Fa,cR({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(C,R)=>{Sn(this,Rs,lo).call(this,{type:"failed",failureCount:C,error:R})},onPause:()=>{Sn(this,Rs,lo).call(this,{type:"pause"})},onContinue:()=>{Sn(this,Rs,lo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,qn).canRun(this)}));const r=this.state.status==="pending",s=!Z(this,Fa).canStart();try{if(!r){Sn(this,Rs,lo).call(this,{type:"pending",variables:n,isPaused:s}),await((a=(i=Z(this,qn).config).onMutate)==null?void 0:a.call(i,n,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));R!==this.state.context&&Sn(this,Rs,lo).call(this,{type:"pending",context:R,variables:n,isPaused:s})}const C=await Z(this,Fa).start();return await((d=(u=Z(this,qn).config).onSuccess)==null?void 0:d.call(u,C,n,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,C,n,this.state.context)),await((_=(g=Z(this,qn).config).onSettled)==null?void 0:_.call(g,C,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,C,null,n,this.state.context)),Sn(this,Rs,lo).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(b=Z(this,qn).config).onError)==null?void 0:w.call(b,C,n,this.state.context,this)),await((S=(E=this.options).onError)==null?void 0:S.call(E,C,n,this.state.context)),await((V=(A=Z(this,qn).config).onSettled)==null?void 0:V.call(A,void 0,C,this.state.variables,this.state.context,this)),await((j=(T=this.options).onSettled)==null?void 0:j.call(T,void 0,C,n,this.state.context)),C}finally{Sn(this,Rs,lo).call(this,{type:"error",error:C})}}finally{Z(this,qn).runNext(this)}}},ks=new WeakMap,qn=new WeakMap,Fa=new WeakMap,Rs=new WeakSet,lo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Yn.batch(()=>{Z(this,ks).forEach(s=>{s.onMutationUpdate(n)}),Z(this,qn).notify({mutation:this,type:"updated",action:n})})},jC);function X6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yr,Eh,TC,J6=(TC=class extends Pg{constructor(e={}){super();vt(this,yr);vt(this,Eh);this.config=e,Ke(this,yr,new Map),Ke(this,Eh,Date.now())}build(e,n,r){const s=new Z6({mutationCache:this,mutationId:++bf(this,Eh)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Hf(e),r=Z(this,yr).get(n)??[];r.push(e),Z(this,yr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Hf(e);if(Z(this,yr).has(n)){const s=(r=Z(this,yr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?Z(this,yr).delete(n):Z(this,yr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Z(this,yr).get(Hf(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Z(this,yr).get(Hf(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Yn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Z(this,yr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>LN(n,r))}findAll(e={}){return this.getAll().filter(n=>LN(e,n))}notify(e){Yn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xr))))}},yr=new WeakMap,Eh=new WeakMap,TC);function Hf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function $N(t){return{onFetch:(e,n)=>{var d,f,m,g,_;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},b=iR(e.options,e.fetchOptions),w=async(E,S,A)=>{if(v)return Promise.reject();if(S==null&&E.pages.length)return Promise.resolve(E);const V={queryKey:e.queryKey,pageParam:S,direction:A?"backward":"forward",meta:e.options.meta};x(V);const T=await b(V),{maxPages:j}=e.options,C=A?U6:$6;return{pages:C(E.pages,T,j),pageParams:C(E.pageParams,S,j)}};if(s&&i.length){const E=s==="backward",S=E?eU:UN,A={pages:i,pageParams:a},V=S(r,A);l=await w(A,V,E)}else{const E=t??i.length;do{const S=c===0?a[0]??r.initialPageParam:UN(r,l);if(c>0&&S==null)break;l=await w(l,S),c++}while(c<E)}return l};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function UN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function eU(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Kt,jo,To,xc,wc,Co,_c,bc,CC,tU=(CC=class{constructor(t={}){vt(this,Kt);vt(this,jo);vt(this,To);vt(this,xc);vt(this,wc);vt(this,Co);vt(this,_c);vt(this,bc);Ke(this,Kt,t.queryCache||new Q6),Ke(this,jo,t.mutationCache||new J6),Ke(this,To,t.defaultOptions||{}),Ke(this,xc,new Map),Ke(this,wc,new Map),Ke(this,Co,0)}mount(){bf(this,Co)._++,Z(this,Co)===1&&(Ke(this,_c,oR.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,Kt).onFocus())})),Ke(this,bc,cp.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,Kt).onOnline())})))}unmount(){var t,e;bf(this,Co)._--,Z(this,Co)===0&&((t=Z(this,_c))==null||t.call(this),Ke(this,_c,void 0),(e=Z(this,bc))==null||e.call(this),Ke(this,bc,void 0))}isFetching(t){return Z(this,Kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Z(this,jo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,Kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Z(this,Kt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(MN(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Z(this,Kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Z(this,Kt).get(r.queryHash),i=s==null?void 0:s.state.data,a=D6(e,i);if(a!==void 0)return Z(this,Kt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Yn.batch(()=>Z(this,Kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,Kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Z(this,Kt);Yn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Z(this,Kt),r={type:"active",...t};return Yn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Yn.batch(()=>Z(this,Kt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xr).catch(Xr)}invalidateQueries(t={},e={}){return Yn.batch(()=>{if(Z(this,Kt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Yn.batch(()=>Z(this,Kt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Z(this,Kt).build(this,e);return n.isStaleByTime(MN(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xr).catch(Xr)}fetchInfiniteQuery(t){return t.behavior=$N(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xr).catch(Xr)}ensureInfiniteQueryData(t){return t.behavior=$N(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cp.isOnline()?Z(this,jo).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,Kt)}getMutationCache(){return Z(this,jo)}getDefaultOptions(){return Z(this,To)}setDefaultOptions(t){Ke(this,To,t)}setQueryDefaults(t,e){Z(this,xc).set(Ud(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Z(this,xc).values()];let n={};return e.forEach(r=>{Bd(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Z(this,wc).set(Ud(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Z(this,wc).values()];let n={};return e.forEach(r=>{Bd(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Z(this,To).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=g_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===v_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Z(this,To).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Z(this,Kt).clear(),Z(this,jo).clear()}},Kt=new WeakMap,jo=new WeakMap,To=new WeakMap,xc=new WeakMap,wc=new WeakMap,Co=new WeakMap,_c=new WeakMap,bc=new WeakMap,CC),nU=p.createContext(void 0),rU=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(nU.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}var ko;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ko||(ko={}));const BN="popstate";function sU(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:l}=r.location;return cw("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:up(s)}return oU(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iU(){return Math.random().toString(36).substr(2,8)}function zN(t,e){return{usr:t.state,key:t.key,idx:e}}function cw(t,e,n,r){return n===void 0&&(n=null),zd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ru(e):e,{state:n,key:e&&e.key||r||iU()})}function up(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ru(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oU(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=ko.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(zd({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=ko.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:b})}function m(x,b){l=ko.Push;let w=cw(v.location,x,b);u=d()+1;let E=zN(w,u),S=v.createHref(w);try{a.pushState(E,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(S)}i&&c&&c({action:l,location:v.location,delta:1})}function g(x,b){l=ko.Replace;let w=cw(v.location,x,b);u=d();let E=zN(w,u),S=v.createHref(w);a.replaceState(E,"",S),i&&c&&c({action:l,location:v.location,delta:0})}function _(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:up(x);return w=w.replace(/ $/,"%20"),Bt(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let v={get action(){return l},get location(){return t(s,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(BN,f),c=x,()=>{s.removeEventListener(BN,f),c=null}},createHref(x){return e(s,x)},createURL:_,encodeLocation(x){let b=_(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:g,go(x){return a.go(x)}};return v}var WN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WN||(WN={}));function aU(t,e,n){return n===void 0&&(n="/"),lU(t,e,n,!1)}function lU(t,e,n,r){let s=typeof e=="string"?ru(e):e,i=Ac(s.pathname||"/",n);if(i==null)return null;let a=hR(t);cU(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=wU(i);l=yU(a[c],u,r)}return l}function hR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Bt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=$o([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hR(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:gU(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of fR(i.path))s(i,a,c)}),e}function fR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=fR(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function cU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vU(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uU=/^:[\w-]+$/,dU=3,hU=2,fU=1,mU=10,pU=-2,HN=t=>t==="*";function gU(t,e){let n=t.split("/"),r=n.length;return n.some(HN)&&(r+=pU),e&&(r+=hU),n.filter(s=>!HN(s)).reduce((s,i)=>s+(uU.test(i)?dU:i===""?fU:mU),r)}function vU(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function yU(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=dp({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=dp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:$o([i,f.pathname]),pathnameBase:NU($o([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=$o([i,f.pathnameBase]))}return a}function dp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xU(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const _=l[f];return g&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function xU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ac(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _U(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ru(t):t;return{pathname:n?n.startsWith("/")?n:bU(n,e):e,search:jU(r),hash:TU(s)}}function bU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function y_(t,e){let n=EU(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function x_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ru(t):(s=zd({},t),Bt(!s.pathname||!s.pathname.includes("?"),vy("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),vy("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),vy("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=_U(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const $o=t=>t.join("/").replace(/\/\/+/g,"/"),NU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mR=["post","put","patch","delete"];new Set(mR);const SU=["get",...mR];new Set(SU);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}const Dg=p.createContext(null),pR=p.createContext(null),qi=p.createContext(null),Mg=p.createContext(null),Ki=p.createContext({outlet:null,matches:[],isDataRoute:!1}),gR=p.createContext(null);function IU(t,e){let{relative:n}=e===void 0?{}:e;su()||Bt(!1);let{basename:r,navigator:s}=p.useContext(qi),{hash:i,pathname:a,search:l}=Og(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:$o([r,a])),s.createHref({pathname:c,search:l,hash:i})}function su(){return p.useContext(Mg)!=null}function si(){return su()||Bt(!1),p.useContext(Mg).location}function vR(t){p.useContext(qi).static||p.useLayoutEffect(t)}function We(){let{isDataRoute:t}=p.useContext(Ki);return t?BU():kU()}function kU(){su()||Bt(!1);let t=p.useContext(Dg),{basename:e,future:n,navigator:r}=p.useContext(qi),{matches:s}=p.useContext(Ki),{pathname:i}=si(),a=JSON.stringify(y_(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return vR(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=x_(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$o([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}function qr(){let{matches:t}=p.useContext(Ki),e=t[t.length-1];return e?e.params:{}}function Og(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(qi),{matches:s}=p.useContext(Ki),{pathname:i}=si(),a=JSON.stringify(y_(s,r.v7_relativeSplatPath));return p.useMemo(()=>x_(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function RU(t,e){return PU(t,e)}function PU(t,e,n,r){su()||Bt(!1);let{navigator:s}=p.useContext(qi),{matches:i}=p.useContext(Ki),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=si(),d;if(e){var f;let x=typeof e=="string"?ru(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Bt(!1),d=x}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=aU(t,{pathname:g}),v=LU(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:$o([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:$o([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?p.createElement(Mg.Provider,{value:{location:Wd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ko.Pop}},v):v}function AU(){let t=UU(),e=CU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const DU=p.createElement(AU,null);class MU extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Ki.Provider,{value:this.props.routeContext},p.createElement(gR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OU(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(Dg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Ki.Provider,{value:e},r)}function LU(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Bt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=n,_=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||_){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let g,_=!1,v=null,x=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||DU,c&&(u<0&&m===0?(_=!0,x=null):u===m&&(_=!0,x=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,m+1)),w=()=>{let E;return g?E=v:_?E=x:f.route.Component?E=p.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,p.createElement(OU,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(MU,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var yR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yR||{}),hp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hp||{});function VU(t){let e=p.useContext(Dg);return e||Bt(!1),e}function FU(t){let e=p.useContext(pR);return e||Bt(!1),e}function $U(t){let e=p.useContext(Ki);return e||Bt(!1),e}function xR(t){let e=$U(),n=e.matches[e.matches.length-1];return n.route.id||Bt(!1),n.route.id}function UU(){var t;let e=p.useContext(gR),n=FU(hp.UseRouteError),r=xR(hp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BU(){let{router:t}=VU(yR.UseNavigateStable),e=xR(hp.UseNavigateStable),n=p.useRef(!1);return vR(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Wd({fromRouteId:e},i)))},[t,e])}function zU(t){let{to:e,replace:n,state:r,relative:s}=t;su()||Bt(!1);let{future:i,static:a}=p.useContext(qi),{matches:l}=p.useContext(Ki),{pathname:c}=si(),u=We(),d=x_(e,y_(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ct(t){Bt(!1)}function WU(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ko.Pop,navigator:i,static:a=!1,future:l}=t;su()&&Bt(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:Wd({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=ru(r));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:_="default"}=r,v=p.useMemo(()=>{let x=Ac(d,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:_},navigationType:s}},[c,d,f,m,g,_,s]);return v==null?null:p.createElement(qi.Provider,{value:u},p.createElement(Mg.Provider,{children:n,value:v}))}function HU(t){let{children:e,location:n}=t;return RU(uw(e),n)}new Promise(()=>{});function uw(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,uw(r.props.children,i));return}r.type!==ct&&Bt(!1),!r.props.index||!r.props.children||Bt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=uw(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function wR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function qU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KU(t,e){return t.button===0&&(!e||e==="_self")&&!qU(t)}function dw(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function GU(t,e){let n=dw(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const YU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],QU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ZU="6";try{window.__reactRouterVersion=ZU}catch{}const XU=p.createContext({isTransitioning:!1}),JU="startTransition",qN=FC[JU];function e9(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=sU({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&qN?qN(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.createElement(WU,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const t9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w_=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=wR(e,YU),{basename:g}=p.useContext(qi),_,v=!1;if(typeof u=="string"&&n9.test(u)&&(_=u,t9))try{let E=new URL(window.location.href),S=u.startsWith("//")?new URL(E.protocol+u):new URL(u),A=Ac(S.pathname,g);S.origin===E.origin&&A!=null?u=A+S.search+S.hash:v=!0}catch{}let x=IU(u,{relative:s}),b=s9(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function w(E){r&&r(E),E.defaultPrevented||b(E)}return p.createElement("a",fp({},m,{href:_||x,onClick:v||i?r:w,ref:n,target:c}))}),Hn=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,f=wR(e,QU),m=Og(c,{relative:f.relative}),g=si(),_=p.useContext(pR),{navigator:v,basename:x}=p.useContext(qi),b=_!=null&&o9(m)&&u===!0,w=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,E=g.pathname,S=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(E=E.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&x&&(S=Ac(S,x)||S);const A=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let V=E===w||!a&&E.startsWith(w)&&E.charAt(A)==="/",T=S!=null&&(S===w||!a&&S.startsWith(w)&&S.charAt(w.length)==="/"),j={isActive:V,isPending:T,isTransitioning:b},C=V?r:void 0,R;typeof i=="function"?R=i(j):R=[i,V?"active":null,T?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(j):l;return p.createElement(w_,fp({},f,{"aria-current":C,className:R,ref:n,style:D,to:c,viewTransition:u}),typeof d=="function"?d(j):d)});var hw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hw||(hw={}));var KN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KN||(KN={}));function r9(t){let e=p.useContext(Dg);return e||Bt(!1),e}function s9(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=We(),u=si(),d=Og(t,{relative:a});return p.useCallback(f=>{if(KU(f,n)){f.preventDefault();let m=r!==void 0?r:up(u)===up(d);c(t,{replace:m,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,t,i,a,l])}function i9(t){let e=p.useRef(dw(t)),n=p.useRef(!1),r=si(),s=p.useMemo(()=>GU(r.search,n.current?null:e.current),[r.search]),i=We(),a=p.useCallback((l,c)=>{const u=dw(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,a]}function o9(t,e){e===void 0&&(e={});let n=p.useContext(XU);n==null&&Bt(!1);let{basename:r}=r9(hw.useViewTransitionState),s=Og(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Ac(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ac(n.nextLocation.pathname,r)||n.nextLocation.pathname;return dp(s.pathname,a)!=null||dp(s.pathname,i)!=null}const a9=()=>{};var GN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},l9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},bR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),r.push(n[d],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_R(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new c9;const m=i<<2|l>>4;if(r.push(m),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u9=function(t){const e=_R(t);return bR.encodeByteArray(e,!0)},mp=function(t){return u9(t).replace(/\./g,"")},ER=function(t){try{return bR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=()=>d9().__FIREBASE_DEFAULTS__,f9=()=>{if(typeof process>"u"||typeof GN>"u")return;const t=GN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ER(t[1]);return e&&JSON.parse(e)},Lg=()=>{try{return a9()||h9()||f9()||m9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NR=t=>{var e,n;return(n=(e=Lg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},p9=t=>{const e=NR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jR=()=>{var t;return(t=Lg())===null||t===void 0?void 0:t.config},TR=t=>{var e;return(e=Lg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mp(JSON.stringify(n)),mp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function x9(){var t;const e=(t=Lg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E9(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N9(){return!x9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CR(){try{return typeof indexedDB=="object"}catch{return!1}}function SR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function j9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="FirebaseError";class ii extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T9,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}}class fl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?C9(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new ii(s,l,r)}}function C9(t,e){return t.replace(S9,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const S9=/\{\$([^}]+)}/g;function I9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(YN(i)&&YN(a)){if(!Ya(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function YN(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function k9(t,e){const n=new R9(t,e);return n.subscribe.bind(n)}class R9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P9(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=yy),s.error===void 0&&(s.error=yy),s.complete===void 0&&(s.complete=yy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new g9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M9(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D9(t){return t===Sa?void 0:t}function M9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const L9={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},V9=rt.INFO,F9={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},$9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=F9[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class __{constructor(e){this.name=e,this._logLevel=V9,this._logHandler=$9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const U9=(t,e)=>e.some(n=>t instanceof n);let QN,ZN;function B9(){return QN||(QN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z9(){return ZN||(ZN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IR=new WeakMap,fw=new WeakMap,kR=new WeakMap,xy=new WeakMap,b_=new WeakMap;function W9(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Si(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&IR.set(n,t)}).catch(()=>{}),b_.set(e,t),e}function H9(t){if(fw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});fw.set(t,e)}let mw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q9(t){mw=t(mw)}function K9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wy(this),e,...n);return kR.set(r,e.sort?e.sort():[e]),Si(r)}:z9().includes(t)?function(...e){return t.apply(wy(this),e),Si(IR.get(this))}:function(...e){return Si(t.apply(wy(this),e))}}function G9(t){return typeof t=="function"?K9(t):(t instanceof IDBTransaction&&H9(t),U9(t,B9())?new Proxy(t,mw):t)}function Si(t){if(t instanceof IDBRequest)return W9(t);if(xy.has(t))return xy.get(t);const e=G9(t);return e!==t&&(xy.set(t,e),b_.set(e,t)),e}const wy=t=>b_.get(t);function Vg(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Si(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Si(a.result),c.oldVersion,c.newVersion,Si(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function _y(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Si(n).then(()=>{})}const Y9=["get","getKey","getAll","getAllKeys","count"],Q9=["put","add","delete","clear"],by=new Map;function XN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(by.get(e))return by.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Q9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Y9.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return by.set(e,i),i}q9(t=>({...t,get:(e,n,r)=>XN(e,n)||t.get(e,n,r),has:(e,n)=>!!XN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pw="@firebase/app",JN="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new __("@firebase/app"),J9="@firebase/app-compat",eB="@firebase/analytics-compat",tB="@firebase/analytics",nB="@firebase/app-check-compat",rB="@firebase/app-check",sB="@firebase/auth",iB="@firebase/auth-compat",oB="@firebase/database",aB="@firebase/data-connect",lB="@firebase/database-compat",cB="@firebase/functions",uB="@firebase/functions-compat",dB="@firebase/installations",hB="@firebase/installations-compat",fB="@firebase/messaging",mB="@firebase/messaging-compat",pB="@firebase/performance",gB="@firebase/performance-compat",vB="@firebase/remote-config",yB="@firebase/remote-config-compat",xB="@firebase/storage",wB="@firebase/storage-compat",_B="@firebase/firestore",bB="@firebase/vertexai",EB="@firebase/firestore-compat",NB="firebase",jB="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="[DEFAULT]",TB={[pw]:"fire-core",[J9]:"fire-core-compat",[tB]:"fire-analytics",[eB]:"fire-analytics-compat",[rB]:"fire-app-check",[nB]:"fire-app-check-compat",[sB]:"fire-auth",[iB]:"fire-auth-compat",[oB]:"fire-rtdb",[aB]:"fire-data-connect",[lB]:"fire-rtdb-compat",[cB]:"fire-fn",[uB]:"fire-fn-compat",[dB]:"fire-iid",[hB]:"fire-iid-compat",[fB]:"fire-fcm",[mB]:"fire-fcm-compat",[pB]:"fire-perf",[gB]:"fire-perf-compat",[vB]:"fire-rc",[yB]:"fire-rc-compat",[xB]:"fire-gcs",[wB]:"fire-gcs-compat",[_B]:"fire-fst",[EB]:"fire-fst-compat",[bB]:"fire-vertex","fire-js":"fire-js",[NB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=new Map,CB=new Map,vw=new Map;function ej(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qs(t){const e=t.name;if(vw.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;vw.set(e,t);for(const n of pp.values())ej(n,t);for(const n of CB.values())ej(n,t);return!0}function iu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new fl("app","Firebase",SB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=jB;function RR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gw,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Uo.create("bad-app-name",{appName:String(s)});if(n||(n=jR()),!n)throw Uo.create("no-options");const i=pp.get(s);if(i){if(Ya(n,i.options)&&Ya(r,i.config))return i;throw Uo.create("duplicate-app",{appName:s})}const a=new O9(s);for(const c of vw.values())a.addComponent(c);const l=new IB(n,r,a);return pp.set(s,l),l}function E_(t=gw){const e=pp.get(t);if(!e&&t===gw&&jR())return RR();if(!e)throw Uo.create("no-app",{appName:t});return e}function $r(t,e,n){var r;let s=(r=TB[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(l.join(" "));return}Qs(new ms(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB="firebase-heartbeat-database",RB=1,Hd="firebase-heartbeat-store";let Ey=null;function PR(){return Ey||(Ey=Vg(kB,RB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Uo.create("idb-open",{originalErrorMessage:t.message})})),Ey}async function PB(t){try{const n=(await PR()).transaction(Hd),r=await n.objectStore(Hd).get(AR(t));return await n.done,r}catch(e){if(e instanceof ii)Vi.warn(e.message);else{const n=Uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function tj(t,e){try{const r=(await PR()).transaction(Hd,"readwrite");await r.objectStore(Hd).put(e,AR(t)),await r.done}catch(n){if(n instanceof ii)Vi.warn(n.message);else{const r=Uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function AR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=1024,DB=30;class MB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nj();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>DB){const a=VB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nj(),{heartbeatsToSend:r,unsentEntries:s}=OB(this._heartbeatsCache.heartbeats),i=mp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vi.warn(n),""}}}function nj(){return new Date().toISOString().substring(0,10)}function OB(t,e=AB){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),rj(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CR()?SR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rj(t){return mp(JSON.stringify({version:2,heartbeats:t})).length}function VB(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){Qs(new ms("platform-logger",e=>new Z9(e),"PRIVATE")),Qs(new ms("heartbeat",e=>new MB(e),"PRIVATE")),$r(pw,JN,t),$r(pw,JN,"esm2017"),$r("fire-js","")}FB("");var As=function(){return As=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},As.apply(this,arguments)};function Lh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function $B(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function DR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UB=DR,MR=new fl("auth","Firebase",DR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp=new __("@firebase/auth");function BB(t,...e){gp.logLevel<=rt.WARN&&gp.warn(`Auth (${ou}): ${t}`,...e)}function wm(t,...e){gp.logLevel<=rt.ERROR&&gp.error(`Auth (${ou}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t,...e){throw N_(t,...e)}function Fs(t,...e){return N_(t,...e)}function OR(t,e,n){const r=Object.assign(Object.assign({},UB()),{[e]:n});return new fl("auth","Firebase",r).create(e,{appName:t.name})}function Ii(t){return OR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MR.create(t,...e)}function Ce(t,e,...n){if(!t)throw N_(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wm(e),new Error(e)}function Fi(t,e){t||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zB(){return sj()==="http:"||sj()==="https:"}function sj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zB()||_9()||"connection"in navigator)?navigator.onLine:!0}function HB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=y9()||b9()}get(){return WB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GB=new Vh(3e4,6e4);function Gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oi(t,e,n,r,s={}){return VR(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=Oh(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return w9()||(u.referrerPolicy="no-referrer"),LR.fetch()(await FR(t,t.config.apiHost,n,l),u)})}async function VR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qB),e);try{const s=new QB(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw qf(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw qf(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw qf(t,"user-disabled",a);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw OR(t,d,u);ps(t,d)}}catch(s){if(s instanceof ii)throw s;ps(t,"network-request-failed",{message:String(s)})}}async function Fh(t,e,n,r,s={}){const i=await oi(t,e,n,r,s);return"mfaPendingCredential"in i&&ps(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function FR(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?j_(t.config,s):`${t.config.apiScheme}://${s}`;return KB.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function YB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),GB.get())})}}function qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Fs(t,e,r);return s.customData._tokenResponse=n,s}function ij(t){return t!==void 0&&t.enterprise!==void 0}class ZB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XB(t,e){return oi(t,"GET","/v2/recaptchaConfig",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(t,e){return oi(t,"POST","/v1/accounts:delete",e)}async function vp(t,e){return oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e8(t,e=!1){const n=Xt(t),r=await n.getIdToken(e),s=T_(r);Ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:pd(Ny(s.auth_time)),issuedAtTime:pd(Ny(s.iat)),expirationTime:pd(Ny(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ny(t){return Number(t)*1e3}function T_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wm("JWT malformed, contained fewer than 3 sections"),null;try{const s=ER(n);return s?JSON.parse(s):(wm("Failed to decode base64 JWT payload"),null)}catch(s){return wm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function oj(t){const e=T_(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ii&&t8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pd(this.lastLoginAt),this.creationTime=pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Dc(t,vp(n,{idToken:r}));Ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?$R(i.providerUserInfo):[],l=s8(t.providerData,a),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new xw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function r8(t){const e=Xt(t);await yp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $R(t){return t.map(e=>{var{providerId:n}=e,r=Lh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(t,e){const n=await VR(t,{},async()=>{const r=Oh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await FR(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",LR.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o8(t,e){return oi(t,"POST","/v2/accounts:revokeToken",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=oj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await i8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new ac;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ce(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ac,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Lh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return e8(this,e)}reload(){return r8(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await Dc(this,JB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:S,isAnonymous:A,providerData:V,stsTokenManager:T}=n;Ce(E&&T,e,"internal-error");const j=ac.fromJSON(this.name,T);Ce(typeof E=="string",e,"internal-error"),oo(f,e.name),oo(m,e.name),Ce(typeof S=="boolean",e,"internal-error"),Ce(typeof A=="boolean",e,"internal-error"),oo(g,e.name),oo(_,e.name),oo(v,e.name),oo(x,e.name),oo(b,e.name),oo(w,e.name);const C=new ss({uid:E,auth:e,email:m,emailVerified:S,displayName:f,isAnonymous:A,photoURL:_,phoneNumber:g,tenantId:v,stsTokenManager:j,createdAt:b,lastLoginAt:w});return V&&Array.isArray(V)&&(C.providerData=V.map(R=>Object.assign({},R))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new ac;s.updateFromServerResponse(n);const i=new ss({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await yp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?$R(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new ac;l.updateFromIdToken(r);const c=new ss({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new Map;function ji(t){Fi(t instanceof Function,"Expected a class definition");let e=aj.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UR.type="NONE";const lj=UR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e,n){return`firebase:${t}:${e}:${n}`}class lc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=_m(this.userKey,s.apiKey,i),this.fullPersistenceKey=_m("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vp(this.auth,{idToken:e}).catch(()=>{});return n?ss._fromGetAccountInfoResponse(this.auth,n,e):null}return ss._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lc(ji(lj),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ji(lj);const a=_m(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const m=await vp(e,{idToken:d}).catch(()=>{});if(!m)break;f=await ss._fromGetAccountInfoResponse(e,m,d)}else f=ss._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new lc(i,e,r):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new lc(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KR(e))return"Blackberry";if(GR(e))return"Webos";if(zR(e))return"Safari";if((e.includes("chrome/")||WR(e))&&!e.includes("edge/"))return"Chrome";if(qR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BR(t=$n()){return/firefox\//i.test(t)}function zR(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WR(t=$n()){return/crios\//i.test(t)}function HR(t=$n()){return/iemobile/i.test(t)}function qR(t=$n()){return/android/i.test(t)}function KR(t=$n()){return/blackberry/i.test(t)}function GR(t=$n()){return/webos/i.test(t)}function C_(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a8(t=$n()){var e;return C_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l8(){return E9()&&document.documentMode===10}function YR(t=$n()){return C_(t)||qR(t)||GR(t)||KR(t)||/windows phone/i.test(t)||HR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t,e=[]){let n;switch(t){case"Browser":n=cj($n());break;case"Worker":n=`${cj($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ou}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e={}){return oi(t,"GET","/v2/passwordPolicy",Gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=6;class h8{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:d8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uj(this),this.idTokenSubscription=new uj(this),this.beforeStateQueue=new c8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await lc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vp(this,{idToken:e}),r=await ss._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Or(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(Ii(this));const n=e?Xt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u8(this),n=new h8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await o8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ji(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await lc.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ml(t){return Xt(t)}class uj{constructor(e){this.auth=e,this.observer=null,this.addObserver=k9(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function m8(t){Fg=t}function ZR(t){return Fg.loadJS(t)}function p8(){return Fg.recaptchaEnterpriseScript}function g8(){return Fg.gapiScript}function v8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class y8{constructor(){this.enterprise=new x8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class x8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const w8="recaptcha-enterprise",XR="NO_RECAPTCHA";class _8{constructor(e){this.type=w8,this.auth=ml(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{XB(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new ZB(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,a,l){const c=window.grecaptcha;ij(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(XR)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y8().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&ij(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=p8();c.length!==0&&(c+=l),ZR(c).then(()=>{s(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function dj(t,e,n,r=!1,s=!1){const i=new _8(t);let a;if(s)a=XR;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ww(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await dj(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await dj(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t,e){const n=iu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ya(i,e??{}))return s;ps(s,"already-initialized")}return n.initialize({options:e})}function E8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ji);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function N8(t,e,n){const r=ml(t);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=JR(e),{host:a,port:l}=j8(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Ya(u,r.config.emulator)&&Ya(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,T8()}function JR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j8(t){const e=JR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:hj(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:hj(a)}}}function hj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function C8(t,e){return oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S8(t,e){return Fh(t,"POST","/v1/accounts:signInWithPassword",Gi(t,e))}async function I8(t,e){return oi(t,"POST","/v1/accounts:sendOobCode",Gi(t,e))}async function k8(t,e){return I8(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}async function P8(t,e){return Fh(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends S_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new qd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ww(e,n,"signInWithPassword",S8);case"emailLink":return R8(e,{email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ww(e,r,"signUpPassword",C8);case"emailLink":return P8(e,{idToken:n,email:this._email,oobCode:this._password});default:ps(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e){return Fh(t,"POST","/v1/accounts:signInWithIdp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="http://localhost";class Qa extends S_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ps("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Lh(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new Qa(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return cc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cc(e,n)}buildRequest(){const e={requestUri:A8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M8(t){const e=qu(Ku(t)).link,n=e?qu(Ku(e)).deep_link_id:null,r=qu(Ku(t)).deep_link_id;return(r?qu(Ku(r)).link:null)||r||n||e||t}class I_{constructor(e){var n,r,s,i,a,l;const c=qu(Ku(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=D8((s=c.mode)!==null&&s!==void 0?s:null);Ce(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=M8(e);try{return new I_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.providerId=au.PROVIDER_ID}static credential(e,n){return qd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=I_.parseLink(n);return Ce(r,"argument-error"),qd._fromEmailAndCode(e,r.code,r.tenantId)}}au.PROVIDER_ID="password";au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends eP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends $h{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yo.credential(n,r)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends $h{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.GITHUB_SIGN_IN_METHOD="github.com";xo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends $h{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t,e){return Fh(t,"POST","/v1/accounts:signUp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ss._fromIdTokenResponse(e,r,s),a=fj(r);return new Za({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=fj(r);return new Za({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function fj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends ii{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,xp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new xp(e,n,r,s)}}function tP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?xp._fromErrorAndOperation(t,i,e,r):i})}async function L8(t,e,n=!1){const r=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Za._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t,e,n=!1){const{auth:r}=t;if(Or(r.app))return Promise.reject(Ii(r));const s="reauthenticate";try{const i=await Dc(t,tP(r,s,e,t),n);Ce(i.idToken,r,"internal-error");const a=T_(i.idToken);Ce(a,r,"internal-error");const{sub:l}=a;return Ce(t.uid===l,r,"user-mismatch"),Za._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ps(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(t,e,n=!1){if(Or(t.app))return Promise.reject(Ii(t));const r="signIn",s=await tP(t,r,e),i=await Za._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function F8(t,e){return nP(ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(t){const e=ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $8(t,e,n){if(Or(t.app))return Promise.reject(Ii(t));const r=ml(t),a=await ww(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O8).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rP(t),c}),l=await Za._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function U8(t,e,n){return Or(t.app)?Promise.reject(Ii(t)):F8(Xt(t),au.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rP(t),r})}async function B8(t,e){const n=Xt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await k8(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e){return oi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Xt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Dc(r,z8(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function H8(t,e,n,r){return Xt(t).onIdTokenChanged(e,n,r)}function q8(t,e,n){return Xt(t).beforeAuthStateChanged(e,n)}function K8(t,e,n,r){return Xt(t).onAuthStateChanged(e,n,r)}function mj(t){return Xt(t).signOut()}const wp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wp,"1"),this.storage.removeItem(wp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=1e3,Y8=10;class iP extends sP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);l8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Y8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iP.type="LOCAL";const Q8=iP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP extends sP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oP.type="SESSION";const aP=oP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new $g(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await Z8(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$g.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=k_("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(){return window}function J8(t){$s().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){return typeof $s().WorkerGlobalScope<"u"&&typeof $s().importScripts=="function"}async function ez(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nz(){return lP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="firebaseLocalStorageDb",rz=1,_p="firebaseLocalStorage",uP="fbase_key";class Uh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ug(t,e){return t.transaction([_p],e?"readwrite":"readonly").objectStore(_p)}function sz(){const t=indexedDB.deleteDatabase(cP);return new Uh(t).toPromise()}function _w(){const t=indexedDB.open(cP,rz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_p,{keyPath:uP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_p)?e(r):(r.close(),await sz(),e(await _w()))})})}async function pj(t,e,n){const r=Ug(t,!0).put({[uP]:e,value:n});return new Uh(r).toPromise()}async function iz(t,e){const n=Ug(t,!1).get(e),r=await new Uh(n).toPromise();return r===void 0?null:r.value}function gj(t,e){const n=Ug(t,!0).delete(e);return new Uh(n).toPromise()}const oz=800,az=3;class dP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _w(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>az)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$g._getInstance(nz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ez(),!this.activeServiceWorker)return;this.sender=new X8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _w();return await pj(e,wp,"1"),await gj(e,wp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ug(s,!1).getAll();return new Uh(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dP.type="LOCAL";const lz=dP;new Vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(t,e){return e?ji(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_ extends S_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uz(t){return nP(t.auth,new R_(t),t.bypassAuthState)}function dz(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),V8(n,new R_(t),t.bypassAuthState)}async function hz(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),L8(n,new R_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uz;case"linkViaPopup":case"linkViaRedirect":return hz;case"reauthViaPopup":case"reauthViaRedirect":return dz;default:ps(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=new Vh(2e3,1e4);class Zl extends hP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Zl.currentPopupAction&&Zl.currentPopupAction.cancel(),Zl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=k_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fz.get())};e()}}Zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="pendingRedirect",bm=new Map;class pz extends hP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bm.get(this.auth._key());if(!e){try{const r=await gz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bm.set(this.auth._key(),e)}return this.bypassAuthState||bm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gz(t,e){const n=xz(e),r=yz(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function vz(t,e){bm.set(t._key(),e)}function yz(t){return ji(t._redirectPersistence)}function xz(t){return _m(mz,t.config.apiKey,t.name)}async function wz(t,e,n=!1){if(Or(t.app))return Promise.reject(Ii(t));const r=ml(t),s=cz(r,e),a=await new pz(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=10*60*1e3;class bz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ez(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_z&&this.cachedEventUids.clear(),this.cachedEventUids.has(vj(e))}saveEventToCache(e){this.cachedEventUids.add(vj(e)),this.lastProcessedEventTime=Date.now()}}function vj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ez(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t,e={}){return oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tz=/^https?/;async function Cz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Nz(t);for(const n of e)try{if(Sz(n))return}catch{}ps(t,"unauthorized-domain")}function Sz(t){const e=yw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Tz.test(n))return!1;if(jz.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=new Vh(3e4,6e4);function yj(){const t=$s().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kz(t){return new Promise((e,n)=>{var r,s,i;function a(){yj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yj(),n(Fs(t,"network-request-failed"))},timeout:Iz.get()})}if(!((s=(r=$s().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=$s().gapi)===null||i===void 0)&&i.load)a();else{const l=v8("iframefcb");return $s()[l]=()=>{gapi.load?a():n(Fs(t,"network-request-failed"))},ZR(`${g8()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Em=null,e})}let Em=null;function Rz(t){return Em=Em||kz(t),Em}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=new Vh(5e3,15e3),Az="__/auth/iframe",Dz="emulator/auth/iframe",Mz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lz(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?j_(e,Dz):`https://${t.config.authDomain}/${Az}`,r={apiKey:e.apiKey,appName:t.name,v:ou},s=Oz.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Oh(r).slice(1)}`}async function Vz(t){const e=await Rz(t),n=$s().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:Lz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mz,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Fs(t,"network-request-failed"),l=$s().setTimeout(()=>{i(a)},Pz.get());function c(){$s().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$z=500,Uz=600,Bz="_blank",zz="http://localhost";class xj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wz(t,e,n,r=$z,s=Uz){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Fz),{width:r.toString(),height:s.toString(),top:i,left:a}),u=$n().toLowerCase();n&&(l=WR(u)?Bz:n),BR(u)&&(e=e||zz,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,_])=>`${m}${g}=${_},`,"");if(a8(u)&&l!=="_self")return Hz(e||"",l),new xj(null);const f=window.open(e||"",l,d);Ce(f,t,"popup-blocked");try{f.focus()}catch{}return new xj(f)}function Hz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="__/auth/handler",Kz="emulator/auth/handler",Gz=encodeURIComponent("fac");async function wj(t,e,n,r,s,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ou,eventId:s};if(e instanceof eP){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",I9(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof $h){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Gz}=${encodeURIComponent(c)}`:"";return`${Yz(t)}?${Oh(l).slice(1)}${u}`}function Yz({config:t}){return t.emulator?j_(t,Kz):`https://${t.authDomain}/${qz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="webStorageSupport";class Qz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aP,this._completeRedirectFn=wz,this._overrideRedirectResult=vz}async _openPopup(e,n,r,s){var i;Fi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await wj(e,n,r,yw(),s);return Wz(e,a,k_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await wj(e,n,r,yw(),s);return J8(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Fi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Vz(e),r=new bz(e);return n.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jy,{type:jy},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[jy];a!==void 0&&n(!!a),ps(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Cz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YR()||zR()||C_()}}const Zz=Qz;var _j="@firebase/auth",bj="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e7(t){Qs(new ms("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ce(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QR(t)},u=new f8(r,s,i,c);return E8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qs(new ms("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(r=>new Xz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(_j,bj,Jz(t)),$r(_j,bj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=5*60,n7=TR("authIdTokenMaxAge")||t7;let Ej=null;const r7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n7)return;const s=n==null?void 0:n.token;Ej!==s&&(Ej=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mP(t=E_()){const e=iu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b8(t,{popupRedirectResolver:Zz,persistence:[lz,Q8,aP]}),r=TR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=r7(i.toString());q8(n,a,()=>a(n.currentUser)),H8(n,l=>a(l))}}const s=NR("auth");return s&&N8(n,`http://${s}`),n}function s7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}m8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Fs("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",s7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e7("Browser");var i7="firebase",o7="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$r(i7,o7,"app");const pP="@firebase/installations",P_="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=1e4,vP=`w:${P_}`,yP="FIS_v2",a7="https://firebaseinstallations.googleapis.com/v1",l7=60*60*1e3,c7="installations",u7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xa=new fl(c7,u7,d7);function xP(t){return t instanceof ii&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP({projectId:t}){return`${a7}/projects/${t}/installations`}function _P(t){return{token:t.token,requestStatus:2,expiresIn:f7(t.expiresIn),creationTime:Date.now()}}async function bP(t,e){const r=(await e.json()).error;return Xa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function EP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function h7(t,{refreshToken:e}){const n=EP(t);return n.append("Authorization",m7(e)),n}async function NP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function f7(t){return Number(t.replace("s","000"))}function m7(t){return`${yP} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wP(t),s=EP(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={fid:n,authVersion:yP,appId:t.appId,sdkVersion:vP},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await NP(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:_P(u.authToken)}}else throw await bP("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=/^[cdef][\w-]{21}$/,bw="";function y7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=x7(t);return v7.test(n)?n:bw}catch{return bw}}function x7(t){return g7(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Map;function CP(t,e){const n=Bg(t);SP(n,e),w7(n,e)}function SP(t,e){const n=TP.get(t);if(n)for(const r of n)r(e)}function w7(t,e){const n=_7();n&&n.postMessage({key:t,fid:e}),b7()}let Aa=null;function _7(){return!Aa&&"BroadcastChannel"in self&&(Aa=new BroadcastChannel("[Firebase] FID Change"),Aa.onmessage=t=>{SP(t.data.key,t.data.fid)}),Aa}function b7(){TP.size===0&&Aa&&(Aa.close(),Aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7="firebase-installations-database",N7=1,Ja="firebase-installations-store";let Ty=null;function A_(){return Ty||(Ty=Vg(E7,N7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ja)}}})),Ty}async function bp(t,e){const n=Bg(t),s=(await A_()).transaction(Ja,"readwrite"),i=s.objectStore(Ja),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&CP(t,e.fid),e}async function IP(t){const e=Bg(t),r=(await A_()).transaction(Ja,"readwrite");await r.objectStore(Ja).delete(e),await r.done}async function zg(t,e){const n=Bg(t),s=(await A_()).transaction(Ja,"readwrite"),i=s.objectStore(Ja),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!a||a.fid!==l.fid)&&CP(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D_(t){let e;const n=await zg(t.appConfig,r=>{const s=j7(r),i=T7(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===bw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function j7(t){const e=t||{fid:y7(),registrationStatus:0};return kP(e)}function T7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Xa.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=C7(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:S7(t)}:{installationEntry:e}}async function C7(t,e){try{const n=await p7(t,e);return bp(t.appConfig,n)}catch(n){throw xP(n)&&n.customData.serverCode===409?await IP(t.appConfig):await bp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function S7(t){let e=await Nj(t.appConfig);for(;e.registrationStatus===1;)await jP(100),e=await Nj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await D_(t);return r||n}return e}function Nj(t){return zg(t,e=>{if(!e)throw Xa.create("installation-not-found");return kP(e)})}function kP(t){return I7(t)?{fid:t.fid,registrationStatus:0}:t}function I7(t){return t.registrationStatus===1&&t.registrationTime+gP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7({appConfig:t,heartbeatServiceProvider:e},n){const r=R7(t,n),s=h7(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const a={installation:{sdkVersion:vP,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await NP(()=>fetch(r,l));if(c.ok){const u=await c.json();return _P(u)}else throw await bP("Generate Auth Token",c)}function R7(t,{fid:e}){return`${wP(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M_(t,e=!1){let n;const r=await zg(t.appConfig,i=>{if(!RP(i))throw Xa.create("not-registered");const a=i.authToken;if(!e&&D7(a))return i;if(a.requestStatus===1)return n=P7(t,e),i;{if(!navigator.onLine)throw Xa.create("app-offline");const l=O7(i);return n=A7(t,l),l}});return n?await n:r.authToken}async function P7(t,e){let n=await jj(t.appConfig);for(;n.authToken.requestStatus===1;)await jP(100),n=await jj(t.appConfig);const r=n.authToken;return r.requestStatus===0?M_(t,e):r}function jj(t){return zg(t,e=>{if(!RP(e))throw Xa.create("not-registered");const n=e.authToken;return L7(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function A7(t,e){try{const n=await k7(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await bp(t.appConfig,r),n}catch(n){if(xP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await IP(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bp(t.appConfig,r)}throw n}}function RP(t){return t!==void 0&&t.registrationStatus===2}function D7(t){return t.requestStatus===2&&!M7(t)}function M7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+l7}function O7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function L7(t){return t.requestStatus===1&&t.requestTime+gP<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(t){const e=t,{installationEntry:n,registrationPromise:r}=await D_(e);return r?r.catch(console.error):M_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(t,e=!1){const n=t;return await $7(n),(await M_(n,e)).token}async function $7(t){const{registrationPromise:e}=await D_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t){if(!t||!t.options)throw Cy("App Configuration");if(!t.name)throw Cy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cy(t){return Xa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="installations",B7="installations-internal",z7=t=>{const e=t.getProvider("app").getImmediate(),n=U7(e),r=iu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},W7=t=>{const e=t.getProvider("app").getImmediate(),n=iu(e,PP).getImmediate();return{getId:()=>V7(n),getToken:s=>F7(n,s)}};function H7(){Qs(new ms(PP,z7,"PUBLIC")),Qs(new ms(B7,W7,"PRIVATE"))}H7();$r(pP,P_);$r(pP,P_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="/firebase-messaging-sw.js",K7="/firebase-cloud-messaging-push-scope",AP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",G7="https://fcmregistrations.googleapis.com/v1",DP="google.c.a.c_id",Y7="google.c.a.c_l",Q7="google.c.a.ts",Z7="google.c.a.e",Tj=1e4;var Cj;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Cj||(Cj={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Kd;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Kd||(Kd={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function X7(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="fcm_token_details_db",J7=5,Sj="fcm_token_object_Store";async function eW(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Sy))return null;let e=null;return(await Vg(Sy,J7,{upgrade:async(r,s,i,a)=>{var l;if(s<2||!r.objectStoreNames.contains(Sj))return;const c=a.objectStore(Sj),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(s===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(l=d.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:yi(d.vapidKey)}}}else if(s===3){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:yi(d.auth),p256dh:yi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:yi(d.vapidKey)}}}else if(s===4){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:yi(d.auth),p256dh:yi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:yi(d.vapidKey)}}}}}})).close(),await _y(Sy),await _y("fcm_vapid_details_db"),await _y("undefined"),tW(e)?e:null}function tW(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW="firebase-messaging-database",rW=1,Gd="firebase-messaging-store";let Iy=null;function MP(){return Iy||(Iy=Vg(nW,rW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gd)}}})),Iy}async function sW(t){const e=OP(t),r=await(await MP()).transaction(Gd).objectStore(Gd).get(e);if(r)return r;{const s=await eW(t.appConfig.senderId);if(s)return await O_(t,s),s}}async function O_(t,e){const n=OP(t),s=(await MP()).transaction(Gd,"readwrite");return await s.objectStore(Gd).put(e,n),await s.done,e}function OP({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Zn=new fl("messaging","Messaging",iW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oW(t,e){const n=await V_(t),r=LP(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(L_(t.appConfig),s)).json()}catch(a){throw Zn.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(i.error){const a=i.error.message;throw Zn.create("token-subscribe-failed",{errorInfo:a})}if(!i.token)throw Zn.create("token-subscribe-no-token");return i.token}async function aW(t,e){const n=await V_(t),r=LP(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${L_(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw Zn.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(i.error){const a=i.error.message;throw Zn.create("token-update-failed",{errorInfo:a})}if(!i.token)throw Zn.create("token-update-no-token");return i.token}async function lW(t,e){const r={method:"DELETE",headers:await V_(t)};try{const i=await(await fetch(`${L_(t.appConfig)}/${e}`,r)).json();if(i.error){const a=i.error.message;throw Zn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(s){throw Zn.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function L_({projectId:t}){return`${G7}/projects/${t}/registrations`}async function V_({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function LP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==AP&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=7*24*60*60*1e3;async function uW(t){const e=await hW(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:yi(e.getKey("auth")),p256dh:yi(e.getKey("p256dh"))},r=await sW(t.firebaseDependencies);if(r){if(fW(r.subscriptionOptions,n))return Date.now()>=r.createTime+cW?dW(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await lW(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return Ij(t.firebaseDependencies,n)}else return Ij(t.firebaseDependencies,n)}async function dW(t,e){try{const n=await aW(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await O_(t.firebaseDependencies,r),n}catch(n){throw n}}async function Ij(t,e){const r={token:await oW(t,e),createTime:Date.now(),subscriptionOptions:e};return await O_(t,r),r.token}async function hW(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:X7(e)})}function fW(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return mW(e,t),pW(e,t),gW(e,t),e}function mW(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function pW(t,e){e.data&&(t.data=e.data)}function gW(t,e){var n,r,s,i,a;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const l=(s=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&s!==void 0?s:(i=e.notification)===null||i===void 0?void 0:i.click_action;l&&(t.fcmOptions.link=l);const c=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(t){return typeof t=="object"&&!!t&&DP in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){if(!t||!t.options)throw ky("App Configuration Object");if(!t.name)throw ky("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw ky(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ky(t){return Zn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=yW(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t){try{t.swRegistration=await navigator.serviceWorker.register(q7,{scope:K7}),t.swRegistration.update().catch(()=>{}),await _W(t.swRegistration)}catch(e){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function _W(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Tj} ms`)),Tj),s=t.installing||t.waiting;t.active?(clearTimeout(r),e()):s?s.onstatechange=i=>{var a;((a=i.target)===null||a===void 0?void 0:a.state)==="activated"&&(s.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bW(t,e){if(!e&&!t.swRegistration&&await wW(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EW(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=AP)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){if(!navigator)throw Zn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Zn.create("permission-blocked");return await EW(t,e==null?void 0:e.vapidKey),await bW(t,e==null?void 0:e.serviceWorkerRegistration),uW(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW(t,e,n){const r=jW(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[DP],message_name:n[Y7],message_time:n[Q7],message_device_time:Math.floor(Date.now()/1e3)})}function jW(t){switch(t){case Kd.NOTIFICATION_CLICKED:return"notification_open";case Kd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TW(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Kd.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(kj(n)):t.onMessageHandler.next(kj(n)));const r=n.data;vW(r)&&r[Z7]==="1"&&await NW(t,n.messageType,r)}const Rj="@firebase/messaging",Pj="0.12.17";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CW=t=>{const e=new xW(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>TW(e,n)),e},SW=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>VP(e,r)}};function IW(){Qs(new ms("messaging",CW,"PUBLIC")),Qs(new ms("messaging-internal",SW,"PRIVATE")),$r(Rj,Pj),$r(Rj,Pj,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(){try{await SR()}catch{return!1}return typeof window<"u"&&CR()&&j9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RW(t=E_()){return kW().then(e=>{if(!e)throw Zn.create("unsupported-browser")},e=>{throw Zn.create("indexed-db-unsupported")}),iu(Xt(t),"messaging").getImmediate()}async function PW(t,e){return t=Xt(t),VP(t,e)}IW();const AW={apiKey:"AIzaSyCaZ_jcuCAuoDYGLW0qVbfZZdzlwMasLqY",authDomain:"sike-rentals.firebaseapp.com",projectId:"sike-rentals",storageBucket:"sike-rentals.firebasestorage.app",messagingSenderId:"719709432653",appId:"1:719709432653:web:f0e0d209ab2216c4fbe504"},F_=RR(AW),Lu=mP(F_),Aj=typeof window<"u"?RW(F_):null,DW=async()=>{if(!Aj)return null;try{if(await Notification.requestPermission()==="granted"){const e=await PW(Aj,{vapidKey:"YOUR_VAPID_KEY_HERE"});return console.log("FCM Token:",e),e}else return console.log("Notification permission denied"),null}catch(t){return console.error("Error requesting notification permission:",t),null}},FP=p.createContext({user:null,isAuthenticated:!1,isLoading:!0,login:async()=>{},signup:async()=>{},logout:async()=>{},verifyEmail:async()=>{},resendVerification:async()=>{}}),Wg=()=>p.useContext(FP),MW=t=>({id:t.uid,email:t.email,name:t.displayName,isVerified:t.emailVerified}),OW=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0);p.useEffect(()=>{const m=K8(Lu,g=>{n(g?MW(g):null),s(!1)});return()=>m()},[]);const i=async(m,g)=>{try{(await U8(Lu,m,g)).user.emailVerified||(u(m),mt.warning("Your email is not verified. Some features may be limited."))}catch(_){throw _.code==="auth/user-not-found"?new Error("User not found"):_.code==="auth/wrong-password"?new Error("Invalid password"):_.code==="auth/invalid-credential"?new Error("Invalid email or password"):_.message?new Error(_.message):new Error("Failed to login")}},a=async(m,g,_)=>{try{const v=await $8(Lu,m,g);await W8(v.user,{displayName:_}),await B8(v.user),u(m),await mj(Lu)}catch(v){throw v.code==="auth/email-already-in-use"?new Error("User with this email already exists"):v.code==="auth/weak-password"?new Error("Password is too weak"):v.code==="auth/invalid-email"?new Error("Invalid email address"):v.message?new Error(v.message):new Error("Failed to create account")}},l=async m=>Promise.resolve(),[c,u]=p.useState(null),d=async m=>{try{const g=m||c;if(!g)throw new Error("No email address available for verification");mt.success(`Verification email sent to ${g}`),mt.info("Please check your inbox and spam folder")}catch(g){throw console.error("Error resending verification:",g),new Error("Failed to resend verification email")}},f=async()=>{try{await mj(Lu)}catch{throw new Error("Failed to logout")}};return o.jsx(FP.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:r,login:i,signup:a,logout:f,verifyEmail:l,resendVerification:d},children:t})};var Dj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bo,$P;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,j){function C(){}C.prototype=j.prototype,T.D=j.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(R,D,P){for(var k=Array(arguments.length-2),H=2;H<arguments.length;H++)k[H-2]=arguments[H];return j.prototype[D].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,j,C){C||(C=0);var R=Array(16);if(typeof j=="string")for(var D=0;16>D;++D)R[D]=j.charCodeAt(C++)|j.charCodeAt(C++)<<8|j.charCodeAt(C++)<<16|j.charCodeAt(C++)<<24;else for(D=0;16>D;++D)R[D]=j[C++]|j[C++]<<8|j[C++]<<16|j[C++]<<24;j=T.g[0],C=T.g[1],D=T.g[2];var P=T.g[3],k=j+(P^C&(D^P))+R[0]+3614090360&4294967295;j=C+(k<<7&4294967295|k>>>25),k=P+(D^j&(C^D))+R[1]+3905402710&4294967295,P=j+(k<<12&4294967295|k>>>20),k=D+(C^P&(j^C))+R[2]+606105819&4294967295,D=P+(k<<17&4294967295|k>>>15),k=C+(j^D&(P^j))+R[3]+3250441966&4294967295,C=D+(k<<22&4294967295|k>>>10),k=j+(P^C&(D^P))+R[4]+4118548399&4294967295,j=C+(k<<7&4294967295|k>>>25),k=P+(D^j&(C^D))+R[5]+1200080426&4294967295,P=j+(k<<12&4294967295|k>>>20),k=D+(C^P&(j^C))+R[6]+2821735955&4294967295,D=P+(k<<17&4294967295|k>>>15),k=C+(j^D&(P^j))+R[7]+4249261313&4294967295,C=D+(k<<22&4294967295|k>>>10),k=j+(P^C&(D^P))+R[8]+1770035416&4294967295,j=C+(k<<7&4294967295|k>>>25),k=P+(D^j&(C^D))+R[9]+2336552879&4294967295,P=j+(k<<12&4294967295|k>>>20),k=D+(C^P&(j^C))+R[10]+4294925233&4294967295,D=P+(k<<17&4294967295|k>>>15),k=C+(j^D&(P^j))+R[11]+2304563134&4294967295,C=D+(k<<22&4294967295|k>>>10),k=j+(P^C&(D^P))+R[12]+1804603682&4294967295,j=C+(k<<7&4294967295|k>>>25),k=P+(D^j&(C^D))+R[13]+4254626195&4294967295,P=j+(k<<12&4294967295|k>>>20),k=D+(C^P&(j^C))+R[14]+2792965006&4294967295,D=P+(k<<17&4294967295|k>>>15),k=C+(j^D&(P^j))+R[15]+1236535329&4294967295,C=D+(k<<22&4294967295|k>>>10),k=j+(D^P&(C^D))+R[1]+4129170786&4294967295,j=C+(k<<5&4294967295|k>>>27),k=P+(C^D&(j^C))+R[6]+3225465664&4294967295,P=j+(k<<9&4294967295|k>>>23),k=D+(j^C&(P^j))+R[11]+643717713&4294967295,D=P+(k<<14&4294967295|k>>>18),k=C+(P^j&(D^P))+R[0]+3921069994&4294967295,C=D+(k<<20&4294967295|k>>>12),k=j+(D^P&(C^D))+R[5]+3593408605&4294967295,j=C+(k<<5&4294967295|k>>>27),k=P+(C^D&(j^C))+R[10]+38016083&4294967295,P=j+(k<<9&4294967295|k>>>23),k=D+(j^C&(P^j))+R[15]+3634488961&4294967295,D=P+(k<<14&4294967295|k>>>18),k=C+(P^j&(D^P))+R[4]+3889429448&4294967295,C=D+(k<<20&4294967295|k>>>12),k=j+(D^P&(C^D))+R[9]+568446438&4294967295,j=C+(k<<5&4294967295|k>>>27),k=P+(C^D&(j^C))+R[14]+3275163606&4294967295,P=j+(k<<9&4294967295|k>>>23),k=D+(j^C&(P^j))+R[3]+4107603335&4294967295,D=P+(k<<14&4294967295|k>>>18),k=C+(P^j&(D^P))+R[8]+1163531501&4294967295,C=D+(k<<20&4294967295|k>>>12),k=j+(D^P&(C^D))+R[13]+2850285829&4294967295,j=C+(k<<5&4294967295|k>>>27),k=P+(C^D&(j^C))+R[2]+4243563512&4294967295,P=j+(k<<9&4294967295|k>>>23),k=D+(j^C&(P^j))+R[7]+1735328473&4294967295,D=P+(k<<14&4294967295|k>>>18),k=C+(P^j&(D^P))+R[12]+2368359562&4294967295,C=D+(k<<20&4294967295|k>>>12),k=j+(C^D^P)+R[5]+4294588738&4294967295,j=C+(k<<4&4294967295|k>>>28),k=P+(j^C^D)+R[8]+2272392833&4294967295,P=j+(k<<11&4294967295|k>>>21),k=D+(P^j^C)+R[11]+1839030562&4294967295,D=P+(k<<16&4294967295|k>>>16),k=C+(D^P^j)+R[14]+4259657740&4294967295,C=D+(k<<23&4294967295|k>>>9),k=j+(C^D^P)+R[1]+2763975236&4294967295,j=C+(k<<4&4294967295|k>>>28),k=P+(j^C^D)+R[4]+1272893353&4294967295,P=j+(k<<11&4294967295|k>>>21),k=D+(P^j^C)+R[7]+4139469664&4294967295,D=P+(k<<16&4294967295|k>>>16),k=C+(D^P^j)+R[10]+3200236656&4294967295,C=D+(k<<23&4294967295|k>>>9),k=j+(C^D^P)+R[13]+681279174&4294967295,j=C+(k<<4&4294967295|k>>>28),k=P+(j^C^D)+R[0]+3936430074&4294967295,P=j+(k<<11&4294967295|k>>>21),k=D+(P^j^C)+R[3]+3572445317&4294967295,D=P+(k<<16&4294967295|k>>>16),k=C+(D^P^j)+R[6]+76029189&4294967295,C=D+(k<<23&4294967295|k>>>9),k=j+(C^D^P)+R[9]+3654602809&4294967295,j=C+(k<<4&4294967295|k>>>28),k=P+(j^C^D)+R[12]+3873151461&4294967295,P=j+(k<<11&4294967295|k>>>21),k=D+(P^j^C)+R[15]+530742520&4294967295,D=P+(k<<16&4294967295|k>>>16),k=C+(D^P^j)+R[2]+3299628645&4294967295,C=D+(k<<23&4294967295|k>>>9),k=j+(D^(C|~P))+R[0]+4096336452&4294967295,j=C+(k<<6&4294967295|k>>>26),k=P+(C^(j|~D))+R[7]+1126891415&4294967295,P=j+(k<<10&4294967295|k>>>22),k=D+(j^(P|~C))+R[14]+2878612391&4294967295,D=P+(k<<15&4294967295|k>>>17),k=C+(P^(D|~j))+R[5]+4237533241&4294967295,C=D+(k<<21&4294967295|k>>>11),k=j+(D^(C|~P))+R[12]+1700485571&4294967295,j=C+(k<<6&4294967295|k>>>26),k=P+(C^(j|~D))+R[3]+2399980690&4294967295,P=j+(k<<10&4294967295|k>>>22),k=D+(j^(P|~C))+R[10]+4293915773&4294967295,D=P+(k<<15&4294967295|k>>>17),k=C+(P^(D|~j))+R[1]+2240044497&4294967295,C=D+(k<<21&4294967295|k>>>11),k=j+(D^(C|~P))+R[8]+1873313359&4294967295,j=C+(k<<6&4294967295|k>>>26),k=P+(C^(j|~D))+R[15]+4264355552&4294967295,P=j+(k<<10&4294967295|k>>>22),k=D+(j^(P|~C))+R[6]+2734768916&4294967295,D=P+(k<<15&4294967295|k>>>17),k=C+(P^(D|~j))+R[13]+1309151649&4294967295,C=D+(k<<21&4294967295|k>>>11),k=j+(D^(C|~P))+R[4]+4149444226&4294967295,j=C+(k<<6&4294967295|k>>>26),k=P+(C^(j|~D))+R[11]+3174756917&4294967295,P=j+(k<<10&4294967295|k>>>22),k=D+(j^(P|~C))+R[2]+718787259&4294967295,D=P+(k<<15&4294967295|k>>>17),k=C+(P^(D|~j))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+j&4294967295,T.g[1]=T.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+P&4294967295}r.prototype.u=function(T,j){j===void 0&&(j=T.length);for(var C=j-this.blockSize,R=this.B,D=this.h,P=0;P<j;){if(D==0)for(;P<=C;)s(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<j;)if(R[D++]=T.charCodeAt(P++),D==this.blockSize){s(this,R),D=0;break}}else for(;P<j;)if(R[D++]=T[P++],D==this.blockSize){s(this,R),D=0;break}}this.h=D,this.o+=j},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var j=1;j<T.length-8;++j)T[j]=0;var C=8*this.o;for(j=T.length-8;j<T.length;++j)T[j]=C&255,C/=256;for(this.u(T),T=Array(16),j=C=0;4>j;++j)for(var R=0;32>R;R+=8)T[C++]=this.g[j]>>>R&255;return T};function i(T,j){var C=l;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=j(T)}function a(T,j){this.h=j;for(var C=[],R=!0,D=T.length-1;0<=D;D--){var P=T[D]|0;R&&P==j||(C[D]=P,R=!1)}this.g=C}var l={};function c(T){return-128<=T&&128>T?i(T,function(j){return new a([j|0],0>j?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return x(u(-T));for(var j=[],C=1,R=0;T>=C;R++)j[R]=T/C|0,C*=4294967296;return new a(j,0)}function d(T,j){if(T.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(T.charAt(0)=="-")return x(d(T.substring(1),j));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(j,8)),R=f,D=0;D<T.length;D+=8){var P=Math.min(8,T.length-D),k=parseInt(T.substring(D,D+P),j);8>P?(P=u(Math.pow(j,P)),R=R.j(P).add(u(k))):(R=R.j(C),R=R.add(u(k)))}return R}var f=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-x(this).m();for(var T=0,j=1,C=0;C<this.g.length;C++){var R=this.i(C);T+=(0<=R?R:4294967296+R)*j,j*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(v(this))return"-"+x(this).toString(T);for(var j=u(Math.pow(T,6)),C=this,R="";;){var D=S(C,j).g;C=b(C,D.j(j));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=D,_(C))return P+R;for(;6>P.length;)P="0"+P;R=P+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var j=0;j<T.g.length;j++)if(T.g[j]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=b(this,T),v(T)?-1:_(T)?0:1};function x(T){for(var j=T.g.length,C=[],R=0;R<j;R++)C[R]=~T.g[R];return new a(C,~T.h).add(m)}t.abs=function(){return v(this)?x(this):this},t.add=function(T){for(var j=Math.max(this.g.length,T.g.length),C=[],R=0,D=0;D<=j;D++){var P=R+(this.i(D)&65535)+(T.i(D)&65535),k=(P>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);R=k>>>16,P&=65535,k&=65535,C[D]=k<<16|P}return new a(C,C[C.length-1]&-2147483648?-1:0)};function b(T,j){return T.add(x(j))}t.j=function(T){if(_(this)||_(T))return f;if(v(this))return v(T)?x(this).j(x(T)):x(x(this).j(T));if(v(T))return x(this.j(x(T)));if(0>this.l(g)&&0>T.l(g))return u(this.m()*T.m());for(var j=this.g.length+T.g.length,C=[],R=0;R<2*j;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<T.g.length;D++){var P=this.i(R)>>>16,k=this.i(R)&65535,H=T.i(D)>>>16,le=T.i(D)&65535;C[2*R+2*D]+=k*le,w(C,2*R+2*D),C[2*R+2*D+1]+=P*le,w(C,2*R+2*D+1),C[2*R+2*D+1]+=k*H,w(C,2*R+2*D+1),C[2*R+2*D+2]+=P*H,w(C,2*R+2*D+2)}for(R=0;R<j;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=j;R<2*j;R++)C[R]=0;return new a(C,0)};function w(T,j){for(;(T[j]&65535)!=T[j];)T[j+1]+=T[j]>>>16,T[j]&=65535,j++}function E(T,j){this.g=T,this.h=j}function S(T,j){if(_(j))throw Error("division by zero");if(_(T))return new E(f,f);if(v(T))return j=S(x(T),j),new E(x(j.g),x(j.h));if(v(j))return j=S(T,x(j)),new E(x(j.g),j.h);if(30<T.g.length){if(v(T)||v(j))throw Error("slowDivide_ only works with positive integers.");for(var C=m,R=j;0>=R.l(T);)C=A(C),R=A(R);var D=V(C,1),P=V(R,1);for(R=V(R,2),C=V(C,2);!_(R);){var k=P.add(R);0>=k.l(T)&&(D=D.add(C),P=k),R=V(R,1),C=V(C,1)}return j=b(T,D.j(j)),new E(D,j)}for(D=f;0<=T.l(j);){for(C=Math.max(1,Math.floor(T.m()/j.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),P=u(C),k=P.j(j);v(k)||0<k.l(T);)C-=R,P=u(C),k=P.j(j);_(P)&&(P=m),D=D.add(P),T=b(T,k)}return new E(D,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var j=Math.max(this.g.length,T.g.length),C=[],R=0;R<j;R++)C[R]=this.i(R)&T.i(R);return new a(C,this.h&T.h)},t.or=function(T){for(var j=Math.max(this.g.length,T.g.length),C=[],R=0;R<j;R++)C[R]=this.i(R)|T.i(R);return new a(C,this.h|T.h)},t.xor=function(T){for(var j=Math.max(this.g.length,T.g.length),C=[],R=0;R<j;R++)C[R]=this.i(R)^T.i(R);return new a(C,this.h^T.h)};function A(T){for(var j=T.g.length+1,C=[],R=0;R<j;R++)C[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(C,T.h)}function V(T,j){var C=j>>5;j%=32;for(var R=T.g.length-C,D=[],P=0;P<R;P++)D[P]=0<j?T.i(P+C)>>>j|T.i(P+C+1)<<32-j:T.i(P+C);return new a(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$P=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Bo=a}).apply(typeof Dj<"u"?Dj:typeof self<"u"?self:typeof window<"u"?window:{});var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UP,Gu,BP,Nm,Ew,zP,WP,HP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,N){return h==Array.prototype||h==Object.prototype||(h[y]=N.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kf=="object"&&Kf];for(var y=0;y<h.length;++y){var N=h[y];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function s(h,y){if(y)e:{var N=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var $=h[I];if(!($ in N))break e;N=N[$]}h=h[h.length-1],I=N[h],y=y(I),y!=I&&y!=null&&e(N,h,{configurable:!0,writable:!0,value:y})}}function i(h,y){h instanceof String&&(h+="");var N=0,I=!1,$={next:function(){if(!I&&N<h.length){var W=N++;return{value:y(W,h[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(h){return h||function(){return i(this,function(y,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function u(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function d(h,y,N){return h.call.apply(h.bind,arguments)}function f(h,y,N){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),h.apply(y,$)}}return function(){return h.apply(y,arguments)}}function m(h,y,N){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(h,y){var N=Array.prototype.slice.call(arguments,1);return function(){var I=N.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function _(h,y){function N(){}N.prototype=y.prototype,h.aa=y.prototype,h.prototype=new N,h.prototype.constructor=h,h.Qb=function(I,$,W){for(var oe=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)oe[Ct-2]=arguments[Ct];return y.prototype[$].apply(I,oe)}}function v(h){const y=h.length;if(0<y){const N=Array(y);for(let I=0;I<y;I++)N[I]=h[I];return N}return[]}function x(h,y){for(let N=1;N<arguments.length;N++){const I=arguments[N];if(c(I)){const $=h.length||0,W=I.length||0;h.length=$+W;for(let oe=0;oe<W;oe++)h[$+oe]=I[oe]}else h.push(I)}}class b{constructor(y,N){this.i=y,this.j=N,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function w(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=l.navigator;return h&&(h=h.userAgent)?h:""}function S(h){return S[" "](h),h}S[" "]=function(){};var A=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function V(h,y,N){for(const I in h)y.call(N,h[I],I,h)}function T(h,y){for(const N in h)y.call(void 0,h[N],N,h)}function j(h){const y={};for(const N in h)y[N]=h[N];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,y){let N,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(N in I)h[N]=I[N];for(let W=0;W<C.length;W++)N=C[W],Object.prototype.hasOwnProperty.call(I,N)&&(h[N]=I[N])}}function D(h){var y=1;h=h.split(":");const N=[];for(;0<y&&h.length;)N.push(h.shift()),y--;return h.length&&N.push(h.join(":")),N}function P(h){l.setTimeout(()=>{throw h},0)}function k(){var h=U;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class H{constructor(){this.h=this.g=null}add(y,N){const I=le.get();I.set(y,N),this.h?this.h.next=I:this.g=I,this.h=I}}var le=new b(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(y,N){this.h=y,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let q,M=!1,U=new H,re=()=>{const h=l.Promise.resolve(void 0);q=()=>{h.then(ee)}};var ee=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(N){P(N)}var y=le;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}M=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ue=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const N=()=>{};l.addEventListener("test",N,y),l.removeEventListener("test",N,y)}catch{}return h}();function gt(h,y){if(ge.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var N=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(A){e:{try{S(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else N=="mouseover"?y=h.fromElement:N=="mouseout"&&(y=h.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:je[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&gt.aa.h.call(this)}}_(gt,ge);var je={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Ye(h,y,N,I,$){this.listener=h,this.proxy=null,this.src=y,this.type=N,this.capture=!!I,this.ha=$,this.key=++Fe,this.da=this.fa=!1}function Me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function He(h){this.src=h,this.g={},this.h=0}He.prototype.add=function(h,y,N,I,$){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var oe=Ot(h,y,I,$);return-1<oe?(y=h[oe],N||(y.fa=!1)):(y=new Ye(y,this.src,W,!!I,$),y.fa=N,h.push(y)),y};function qe(h,y){var N=y.type;if(N in h.g){var I=h.g[N],$=Array.prototype.indexOf.call(I,y,void 0),W;(W=0<=$)&&Array.prototype.splice.call(I,$,1),W&&(Me(y),h.g[N].length==0&&(delete h.g[N],h.h--))}}function Ot(h,y,N,I){for(var $=0;$<h.length;++$){var W=h[$];if(!W.da&&W.listener==y&&W.capture==!!N&&W.ha==I)return $}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),Bn={};function hn(h,y,N,I,$){if(Array.isArray(y)){for(var W=0;W<y.length;W++)hn(h,y[W],N,I,$);return null}return N=Te(N),h&&h[de]?h.K(y,N,u(I)?!!I.capture:!!I,$):Rr(h,y,N,!1,I,$)}function Rr(h,y,N,I,$,W){if(!y)throw Error("Invalid event type");var oe=u($)?!!$.capture:!!$,Ct=K(h);if(Ct||(h[Ht]=Ct=new He(h)),N=Ct.add(y,N,I,oe,W),N.proxy)return N;if(I=O(),N.proxy=I,I.src=h,I.listener=N,h.addEventListener)Ue||($=oe),$===void 0&&($=!1),h.addEventListener(y.toString(),I,$);else if(h.attachEvent)h.attachEvent(B(y.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return N}function O(){function h(N){return y.call(h.src,h.listener,N)}const y=G;return h}function F(h,y,N,I,$){if(Array.isArray(y))for(var W=0;W<y.length;W++)F(h,y[W],N,I,$);else I=u(I)?!!I.capture:!!I,N=Te(N),h&&h[de]?(h=h.i,y=String(y).toString(),y in h.g&&(W=h.g[y],N=Ot(W,N,I,$),-1<N&&(Me(W[N]),Array.prototype.splice.call(W,N,1),W.length==0&&(delete h.g[y],h.h--)))):h&&(h=K(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ot(y,N,I,$)),(N=-1<h?y[h]:null)&&L(N))}function L(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[de])qe(y.i,h);else{var N=h.type,I=h.proxy;y.removeEventListener?y.removeEventListener(N,I,h.capture):y.detachEvent?y.detachEvent(B(N),I):y.addListener&&y.removeListener&&y.removeListener(I),(N=K(y))?(qe(N,h),N.h==0&&(N.src=null,y[Ht]=null)):Me(h)}}}function B(h){return h in Bn?Bn[h]:Bn[h]="on"+h}function G(h,y){if(h.da)h=!0;else{y=new gt(y,this);var N=h.listener,I=h.ha||h.src;h.fa&&L(h),h=N.call(I,y)}return h}function K(h){return h=h[Ht],h instanceof He?h:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(h){return typeof h=="function"?h:(h[he]||(h[he]=function(y){return h.handleEvent(y)}),h[he])}function Le(){ce.call(this),this.i=new He(this),this.M=this,this.F=null}_(Le,ce),Le.prototype[de]=!0,Le.prototype.removeEventListener=function(h,y,N,I){F(this,h,y,N,I)};function Ve(h,y){var N,I=h.F;if(I)for(N=[];I;I=I.F)N.push(I);if(h=h.M,I=y.type||y,typeof y=="string")y=new ge(y,h);else if(y instanceof ge)y.target=y.target||h;else{var $=y;y=new ge(I,h),R(y,$)}if($=!0,N)for(var W=N.length-1;0<=W;W--){var oe=y.g=N[W];$=zn(oe,I,!0,y)&&$}if(oe=y.g=h,$=zn(oe,I,!0,y)&&$,$=zn(oe,I,!1,y)&&$,N)for(W=0;W<N.length;W++)oe=y.g=N[W],$=zn(oe,I,!1,y)&&$}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var N=h.g[y],I=0;I<N.length;I++)Me(N[I]);delete h.g[y],h.h--}}this.F=null},Le.prototype.K=function(h,y,N,I){return this.i.add(String(h),y,!1,N,I)},Le.prototype.L=function(h,y,N,I){return this.i.add(String(h),y,!0,N,I)};function zn(h,y,N,I){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,W=0;W<y.length;++W){var oe=y[W];if(oe&&!oe.da&&oe.capture==N){var Ct=oe.listener,vn=oe.ha||oe.src;oe.fa&&qe(h.i,oe),$=Ct.call(vn,I)!==!1&&$}}return $&&!I.defaultPrevented}function Kr(h,y,N){if(typeof h=="function")N&&(h=m(h,N));else if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:l.setTimeout(h,y||0)}function li(h){h.g=Kr(()=>{h.g=null,h.i&&(h.i=!1,li(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ba extends ce{constructor(y,N){super(),this.m=y,this.l=N,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:li(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(h){ce.call(this),this.h=h,this.g={}}_(Es,ce);var Xi=[];function bl(h){V(h.g,function(y,N){this.g.hasOwnProperty(N)&&L(y)},h),h.g={}}Es.prototype.N=function(){Es.aa.N.call(this),bl(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=l.JSON.stringify,js=l.JSON.parse,Nv=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Ae(){}Ae.prototype.h=null;function Tt(h){return h.h||(h.h=h.i())}function _t(){}var jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){ge.call(this,"d")}_(nr,ge);function Ji(){ge.call(this,"c")}_(Ji,ge);var ci={},hE=null;function af(){return hE=hE||new Le}ci.La="serverreachability";function fE(h){ge.call(this,ci.La,h)}_(fE,ge);function gu(h){const y=af();Ve(y,new fE(y))}ci.STAT_EVENT="statevent";function mE(h,y){ge.call(this,ci.STAT_EVENT,h),this.stat=y}_(mE,ge);function Wn(h){const y=af();Ve(y,new mE(y,h))}ci.Ma="timingevent";function pE(h,y){ge.call(this,ci.Ma,h),this.size=y}_(pE,ge);function vu(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},y)}function yu(){this.g=!0}yu.prototype.xa=function(){this.g=!1};function K4(h,y,N,I,$,W){h.info(function(){if(h.g)if(W)for(var oe="",Ct=W.split("&"),vn=0;vn<Ct.length;vn++){var pt=Ct[vn].split("=");if(1<pt.length){var Tn=pt[0];pt=pt[1];var Cn=Tn.split("_");oe=2<=Cn.length&&Cn[1]=="type"?oe+(Tn+"="+pt+"&"):oe+(Tn+"=redacted&")}}else oe=null;else oe=W;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+y+`
`+N+`
`+oe})}function G4(h,y,N,I,$,W,oe){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+y+`
`+N+`
`+W+" "+oe})}function El(h,y,N,I){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Q4(h,N)+(I?" "+I:"")})}function Y4(h,y){h.info(function(){return"TIMEOUT: "+y})}yu.prototype.info=function(){};function Q4(h,y){if(!h.g)return y;if(!y)return null;try{var N=JSON.parse(y);if(N){for(h=0;h<N.length;h++)if(Array.isArray(N[h])){var I=N[h];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return Ns(N)}catch{return y}}var lf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jv;function cf(){}_(cf,Ae),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},jv=new cf;function eo(h,y,N,I){this.j=h,this.i=y,this.l=N,this.R=I||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vE}function vE(){this.i=null,this.g="",this.h=!1}var yE={},Tv={};function Cv(h,y,N){h.L=1,h.v=ff(ui(y)),h.m=N,h.P=!0,xE(h,null)}function xE(h,y){h.F=Date.now(),uf(h),h.A=ui(h.v);var N=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),AE(N.i,"t",I),h.C=0,N=h.j.J,h.h=new vE,h.g=ZE(h.j,N?y:null,!h.m),0<h.O&&(h.M=new ba(m(h.Y,h,h.g),h.O)),y=h.U,N=h.g,I=h.ca;var $="readystatechange";Array.isArray($)||($&&(Xi[0]=$.toString()),$=Xi);for(var W=0;W<$.length;W++){var oe=hn(N,$[W],I||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.H?j(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),gu(),K4(h.i,h.u,h.A,h.l,h.R,h.m)}eo.prototype.ca=function(h){h=h.target;const y=this.M;y&&di(h)==3?y.j():this.Y(h)},eo.prototype.Y=function(h){try{if(h==this.g)e:{const Cn=di(this.g);var y=this.g.Ba();const Tl=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||$E(this.g)))){this.J||Cn!=4||y==7||(y==8||0>=Tl?gu(3):gu(2)),Sv(this);var N=this.g.Z();this.X=N;t:if(wE(this)){var I=$E(this.g);h="";var $=I.length,W=di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ea(this),xu(this);var oe="";break t}this.h.i=new l.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,h+=this.h.i.decode(I[y],{stream:!(W&&y==$-1)});I.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=N==200,G4(this.i,this.u,this.A,this.l,this.R,Cn,N),this.o){if(this.T&&!this.K){t:{if(this.g){var Ct,vn=this.g;if((Ct=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ct)){var pt=Ct;break t}}pt=null}if(N=pt)El(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iv(this,N);else{this.o=!1,this.s=3,Wn(12),Ea(this),xu(this);break e}}if(this.P){N=!0;let Gr;for(;!this.J&&this.C<oe.length;)if(Gr=Z4(this,oe),Gr==Tv){Cn==4&&(this.s=4,Wn(14),N=!1),El(this.i,this.l,null,"[Incomplete Response]");break}else if(Gr==yE){this.s=4,Wn(15),El(this.i,this.l,oe,"[Invalid Chunk]"),N=!1;break}else El(this.i,this.l,Gr,null),Iv(this,Gr);if(wE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||oe.length!=0||this.h.h||(this.s=1,Wn(16),N=!1),this.o=this.o&&N,!N)El(this.i,this.l,oe,"[Invalid Chunked Response]"),Ea(this),xu(this);else if(0<oe.length&&!this.W){this.W=!0;var Tn=this.j;Tn.g==this&&Tn.ba&&!Tn.M&&(Tn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Mv(Tn),Tn.M=!0,Wn(11))}}else El(this.i,this.l,oe,null),Iv(this,oe);Cn==4&&Ea(this),this.o&&!this.J&&(Cn==4?KE(this.j,this):(this.o=!1,uf(this)))}else mL(this.g),N==400&&0<oe.indexOf("Unknown SID")?(this.s=3,Wn(12)):(this.s=0,Wn(13)),Ea(this),xu(this)}}}catch{}finally{}};function wE(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Z4(h,y){var N=h.C,I=y.indexOf(`
`,N);return I==-1?Tv:(N=Number(y.substring(N,I)),isNaN(N)?yE:(I+=1,I+N>y.length?Tv:(y=y.slice(I,I+N),h.C=I+N,y)))}eo.prototype.cancel=function(){this.J=!0,Ea(this)};function uf(h){h.S=Date.now()+h.I,_E(h,h.I)}function _E(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=vu(m(h.ba,h),y)}function Sv(h){h.B&&(l.clearTimeout(h.B),h.B=null)}eo.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Y4(this.i,this.A),this.L!=2&&(gu(),Wn(17)),Ea(this),this.s=2,xu(this)):_E(this,this.S-h)};function xu(h){h.j.G==0||h.J||KE(h.j,h)}function Ea(h){Sv(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,bl(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Iv(h,y){try{var N=h.j;if(N.G!=0&&(N.g==h||kv(N.h,h))){if(!h.K&&kv(N.h,h)&&N.G==3){try{var I=N.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<h.F)xf(N),vf(N);else break e;Dv(N),Wn(18)}}else N.za=$[1],0<N.za-N.T&&37500>$[2]&&N.F&&N.v==0&&!N.C&&(N.C=vu(m(N.Za,N),6e3));if(1>=NE(N.h)&&N.ca){try{N.ca()}catch{}N.ca=void 0}}else ja(N,11)}else if((h.K||N.g==h)&&xf(N),!w(y))for($=N.Da.g.parse(y),y=0;y<$.length;y++){let pt=$[y];if(N.T=pt[0],pt=pt[1],N.G==2)if(pt[0]=="c"){N.K=pt[1],N.ia=pt[2];const Tn=pt[3];Tn!=null&&(N.la=Tn,N.j.info("VER="+N.la));const Cn=pt[4];Cn!=null&&(N.Aa=Cn,N.j.info("SVER="+N.Aa));const Tl=pt[5];Tl!=null&&typeof Tl=="number"&&0<Tl&&(I=1.5*Tl,N.L=I,N.j.info("backChannelRequestTimeoutMs_="+I)),I=N;const Gr=h.g;if(Gr){const _f=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_f){var W=I.h;W.g||_f.indexOf("spdy")==-1&&_f.indexOf("quic")==-1&&_f.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Rv(W,W.h),W.h=null))}if(I.D){const Ov=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ov&&(I.ya=Ov,Rt(I.I,I.D,Ov))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-h.F,N.j.info("Handshake RTT: "+N.R+"ms")),I=N;var oe=h;if(I.qa=QE(I,I.J?I.ia:null,I.W),oe.K){jE(I.h,oe);var Ct=oe,vn=I.L;vn&&(Ct.I=vn),Ct.B&&(Sv(Ct),uf(Ct)),I.g=oe}else HE(I);0<N.i.length&&yf(N)}else pt[0]!="stop"&&pt[0]!="close"||ja(N,7);else N.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?ja(N,7):Av(N):pt[0]!="noop"&&N.l&&N.l.ta(pt),N.v=0)}}gu(4)}catch{}}var X4=class{constructor(h,y){this.g=h,this.map=y}};function bE(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function EE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function NE(h){return h.h?1:h.g?h.g.size:0}function kv(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Rv(h,y){h.g?h.g.add(y):h.h=y}function jE(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}bE.prototype.cancel=function(){if(this.i=TE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function TE(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const N of h.g.values())y=y.concat(N.D);return y}return v(h.i)}function J4(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(c(h)){for(var y=[],N=h.length,I=0;I<N;I++)y.push(h[I]);return y}y=[],N=0;for(I in h)y[N++]=h[I];return y}function eL(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(c(h)||typeof h=="string"){var y=[];h=h.length;for(var N=0;N<h;N++)y.push(N);return y}y=[],N=0;for(const I in h)y[N++]=I;return y}}}function CE(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(c(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var N=eL(h),I=J4(h),$=I.length,W=0;W<$;W++)y.call(void 0,I[W],N&&N[W],h)}var SE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tL(h,y){if(h){h=h.split("&");for(var N=0;N<h.length;N++){var I=h[N].indexOf("="),$=null;if(0<=I){var W=h[N].substring(0,I);$=h[N].substring(I+1)}else W=h[N];y(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Na(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Na){this.h=h.h,df(this,h.j),this.o=h.o,this.g=h.g,hf(this,h.s),this.l=h.l;var y=h.i,N=new bu;N.i=y.i,y.g&&(N.g=new Map(y.g),N.h=y.h),IE(this,N),this.m=h.m}else h&&(y=String(h).match(SE))?(this.h=!1,df(this,y[1]||"",!0),this.o=wu(y[2]||""),this.g=wu(y[3]||"",!0),hf(this,y[4]),this.l=wu(y[5]||"",!0),IE(this,y[6]||"",!0),this.m=wu(y[7]||"")):(this.h=!1,this.i=new bu(null,this.h))}Na.prototype.toString=function(){var h=[],y=this.j;y&&h.push(_u(y,kE,!0),":");var N=this.g;return(N||y=="file")&&(h.push("//"),(y=this.o)&&h.push(_u(y,kE,!0),"@"),h.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&h.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&h.push("/"),h.push(_u(N,N.charAt(0)=="/"?sL:rL,!0))),(N=this.i.toString())&&h.push("?",N),(N=this.m)&&h.push("#",_u(N,oL)),h.join("")};function ui(h){return new Na(h)}function df(h,y,N){h.j=N?wu(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function hf(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function IE(h,y,N){y instanceof bu?(h.i=y,aL(h.i,h.h)):(N||(y=_u(y,iL)),h.i=new bu(y,h.h))}function Rt(h,y,N){h.i.set(y,N)}function ff(h){return Rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function wu(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _u(h,y,N){return typeof h=="string"?(h=encodeURI(h).replace(y,nL),N&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function nL(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var kE=/[#\/\?@]/g,rL=/[#\?:]/g,sL=/[#\?]/g,iL=/[#\?@]/g,oL=/#/g;function bu(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function to(h){h.g||(h.g=new Map,h.h=0,h.i&&tL(h.i,function(y,N){h.add(decodeURIComponent(y.replace(/\+/g," ")),N)}))}t=bu.prototype,t.add=function(h,y){to(this),this.i=null,h=Nl(this,h);var N=this.g.get(h);return N||this.g.set(h,N=[]),N.push(y),this.h+=1,this};function RE(h,y){to(h),y=Nl(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function PE(h,y){return to(h),y=Nl(h,y),h.g.has(y)}t.forEach=function(h,y){to(this),this.g.forEach(function(N,I){N.forEach(function($){h.call(y,$,I,this)},this)},this)},t.na=function(){to(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),N=[];for(let I=0;I<y.length;I++){const $=h[I];for(let W=0;W<$.length;W++)N.push(y[I])}return N},t.V=function(h){to(this);let y=[];if(typeof h=="string")PE(this,h)&&(y=y.concat(this.g.get(Nl(this,h))));else{h=Array.from(this.g.values());for(let N=0;N<h.length;N++)y=y.concat(h[N])}return y},t.set=function(h,y){return to(this),this.i=null,h=Nl(this,h),PE(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},t.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function AE(h,y,N){RE(h,y),0<N.length&&(h.i=null,h.g.set(Nl(h,y),v(N)),h.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var N=0;N<y.length;N++){var I=y[N];const W=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var $=W;oe[I]!==""&&($+="="+encodeURIComponent(String(oe[I]))),h.push($)}}return this.i=h.join("&")};function Nl(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function aL(h,y){y&&!h.j&&(to(h),h.i=null,h.g.forEach(function(N,I){var $=I.toLowerCase();I!=$&&(RE(this,I),AE(this,$,N))},h)),h.j=y}function lL(h,y){const N=new yu;if(l.Image){const I=new Image;I.onload=g(no,N,"TestLoadImage: loaded",!0,y,I),I.onerror=g(no,N,"TestLoadImage: error",!1,y,I),I.onabort=g(no,N,"TestLoadImage: abort",!1,y,I),I.ontimeout=g(no,N,"TestLoadImage: timeout",!1,y,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else y(!1)}function cL(h,y){const N=new yu,I=new AbortController,$=setTimeout(()=>{I.abort(),no(N,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:I.signal}).then(W=>{clearTimeout($),W.ok?no(N,"TestPingServer: ok",!0,y):no(N,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),no(N,"TestPingServer: error",!1,y)})}function no(h,y,N,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(N)}catch{}}function uL(){this.g=new Nv}function dL(h,y,N){const I=N||"";try{CE(h,function($,W){let oe=$;u($)&&(oe=Ns($)),y.push(I+W+"="+encodeURIComponent(oe))})}catch($){throw y.push(I+"type="+encodeURIComponent("_badmap")),$}}function mf(h){this.l=h.Ub||null,this.j=h.eb||!1}_(mf,Ae),mf.prototype.g=function(){return new pf(this.l,this.j)},mf.prototype.i=function(h){return function(){return h}}({});function pf(h,y){Le.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(pf,Le),t=pf.prototype,t.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Nu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||l).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eu(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Nu(this)),this.g&&(this.readyState=3,Nu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;DE(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function DE(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Eu(this):Nu(this),this.readyState==3&&DE(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Eu(this))},t.Qa=function(h){this.g&&(this.response=h,Eu(this))},t.ga=function(){this.g&&Eu(this)};function Eu(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Nu(h)}t.setRequestHeader=function(h,y){this.u.append(h,y)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var N=y.next();!N.done;)N=N.value,h.push(N[0]+": "+N[1]),N=y.next();return h.join(`\r
`)};function Nu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(pf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ME(h){let y="";return V(h,function(N,I){y+=I,y+=":",y+=N,y+=`\r
`}),y}function Pv(h,y,N){e:{for(I in N){var I=!1;break e}I=!0}I||(N=ME(N),typeof h=="string"?N!=null&&encodeURIComponent(String(N)):Rt(h,y,N))}function qt(h){Le.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(qt,Le);var hL=/^https?$/i,fL=["POST","PUT"];t=qt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,y,N,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jv.g(),this.v=this.o?Tt(this.o):Tt(jv),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(W){OE(this,W);return}if(h=N||"",N=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)N.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())N.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(N.keys()).find(W=>W.toLowerCase()=="content-type"),$=l.FormData&&h instanceof l.FormData,!(0<=Array.prototype.indexOf.call(fL,y,void 0))||I||$||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,oe]of N)this.g.setRequestHeader(W,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FE(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){OE(this,W)}};function OE(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,LE(h),gf(h)}function LE(h){h.A||(h.A=!0,Ve(h,"complete"),Ve(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ve(this,"complete"),Ve(this,"abort"),gf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gf(this,!0)),qt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?VE(this):this.bb())},t.bb=function(){VE(this)};function VE(h){if(h.h&&typeof a<"u"&&(!h.v[1]||di(h)!=4||h.Z()!=2)){if(h.u&&di(h)==4)Kr(h.Ea,0,h);else if(Ve(h,"readystatechange"),di(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var N;if(!(N=y)){var I;if(I=oe===0){var $=String(h.D).match(SE)[1]||null;!$&&l.self&&l.self.location&&($=l.self.location.protocol.slice(0,-1)),I=!hL.test($?$.toLowerCase():"")}N=I}if(N)Ve(h,"complete"),Ve(h,"success");else{h.m=6;try{var W=2<di(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",LE(h)}}finally{gf(h)}}}}function gf(h,y){if(h.g){FE(h);const N=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ve(h,"ready");try{N.onreadystatechange=I}catch{}}}function FE(h){h.I&&(l.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function di(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<di(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),js(y)}};function $E(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function mL(h){const y={};h=(h.g&&2<=di(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(w(h[I]))continue;var N=D(h[I]);const $=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const W=y[$]||[];y[$]=W,W.push(N)}T(y,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ju(h,y,N){return N&&N.internalChannelParams&&N.internalChannelParams[h]||y}function UE(h){this.Aa=0,this.i=[],this.j=new yu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ju("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ju("baseRetryDelayMs",5e3,h),this.cb=ju("retryDelaySeedMs",1e4,h),this.Wa=ju("forwardChannelMaxRetries",2,h),this.wa=ju("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new bE(h&&h.concurrentRequestLimit),this.Da=new uL,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=UE.prototype,t.la=8,t.G=1,t.connect=function(h,y,N,I){Wn(0),this.W=h,this.H=y||{},N&&I!==void 0&&(this.H.OSID=N,this.H.OAID=I),this.F=this.X,this.I=QE(this,null,this.W),yf(this)};function Av(h){if(BE(h),h.G==3){var y=h.U++,N=ui(h.I);if(Rt(N,"SID",h.K),Rt(N,"RID",y),Rt(N,"TYPE","terminate"),Tu(h,N),y=new eo(h,h.j,y),y.L=2,y.v=ff(ui(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(y.v.toString(),"")}catch{}!N&&l.Image&&(new Image().src=y.v,N=!0),N||(y.g=ZE(y.j,null),y.g.ea(y.v)),y.F=Date.now(),uf(y)}YE(h)}function vf(h){h.g&&(Mv(h),h.g.cancel(),h.g=null)}function BE(h){vf(h),h.u&&(l.clearTimeout(h.u),h.u=null),xf(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&l.clearTimeout(h.s),h.s=null)}function yf(h){if(!EE(h.h)&&!h.s){h.s=!0;var y=h.Ga;q||re(),M||(q(),M=!0),U.add(y,h),h.B=0}}function pL(h,y){return NE(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=vu(m(h.Ga,h,y),GE(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new eo(this,this.j,h);let W=this.o;if(this.S&&(W?(W=j(W),R(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)e:{for(var y=0,N=0;N<this.i.length;N++){t:{var I=this.i[N];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=N;break e}if(y===4096||N===this.i.length-1){y=N+1;break e}}y=1e3}else y=1e3;y=WE(this,$,y),N=ui(this.I),Rt(N,"RID",h),Rt(N,"CVER",22),this.D&&Rt(N,"X-HTTP-Session-Id",this.D),Tu(this,N),W&&(this.O?y="headers="+encodeURIComponent(String(ME(W)))+"&"+y:this.m&&Pv(N,this.m,W)),Rv(this.h,$),this.Ua&&Rt(N,"TYPE","init"),this.P?(Rt(N,"$req",y),Rt(N,"SID","null"),$.T=!0,Cv($,N,null)):Cv($,N,y),this.G=2}}else this.G==3&&(h?zE(this,h):this.i.length==0||EE(this.h)||zE(this))};function zE(h,y){var N;y?N=y.l:N=h.U++;const I=ui(h.I);Rt(I,"SID",h.K),Rt(I,"RID",N),Rt(I,"AID",h.T),Tu(h,I),h.m&&h.o&&Pv(I,h.m,h.o),N=new eo(h,h.j,N,h.B+1),h.m===null&&(N.H=h.o),y&&(h.i=y.D.concat(h.i)),y=WE(h,N,1e3),N.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Rv(h.h,N),Cv(N,I,y)}function Tu(h,y){h.H&&V(h.H,function(N,I){Rt(y,I,N)}),h.l&&CE({},function(N,I){Rt(y,I,N)})}function WE(h,y,N){N=Math.min(h.i.length,N);var I=h.l?m(h.l.Na,h.l,h):null;e:{var $=h.i;let W=-1;for(;;){const oe=["count="+N];W==-1?0<N?(W=$[0].g,oe.push("ofs="+W)):W=0:oe.push("ofs="+W);let Ct=!0;for(let vn=0;vn<N;vn++){let pt=$[vn].g;const Tn=$[vn].map;if(pt-=W,0>pt)W=Math.max(0,$[vn].g-100),Ct=!1;else try{dL(Tn,oe,"req"+pt+"_")}catch{I&&I(Tn)}}if(Ct){I=oe.join("&");break e}}}return h=h.i.splice(0,N),y.D=h,I}function HE(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;q||re(),M||(q(),M=!0),U.add(y,h),h.v=0}}function Dv(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=vu(m(h.Fa,h),GE(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,qE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=vu(m(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wn(10),vf(this),qE(this))};function Mv(h){h.A!=null&&(l.clearTimeout(h.A),h.A=null)}function qE(h){h.g=new eo(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=ui(h.qa);Rt(y,"RID","rpc"),Rt(y,"SID",h.K),Rt(y,"AID",h.T),Rt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Rt(y,"TO",h.ja),Rt(y,"TYPE","xmlhttp"),Tu(h,y),h.m&&h.o&&Pv(y,h.m,h.o),h.L&&(h.g.I=h.L);var N=h.g;h=h.ia,N.L=1,N.v=ff(ui(y)),N.m=null,N.P=!0,xE(N,h)}t.Za=function(){this.C!=null&&(this.C=null,vf(this),Dv(this),Wn(19))};function xf(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function KE(h,y){var N=null;if(h.g==y){xf(h),Mv(h),h.g=null;var I=2}else if(kv(h.h,y))N=y.D,jE(h.h,y),I=1;else return;if(h.G!=0){if(y.o)if(I==1){N=y.m?y.m.length:0,y=Date.now()-y.F;var $=h.B;I=af(),Ve(I,new pE(I,N)),yf(h)}else HE(h);else if($=y.s,$==3||$==0&&0<y.X||!(I==1&&pL(h,y)||I==2&&Dv(h)))switch(N&&0<N.length&&(y=h.h,y.i=y.i.concat(N)),$){case 1:ja(h,5);break;case 4:ja(h,10);break;case 3:ja(h,6);break;default:ja(h,2)}}}function GE(h,y){let N=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(N*=2),N*y}function ja(h,y){if(h.j.info("Error code "+y),y==2){var N=m(h.fb,h),I=h.Xa;const $=!I;I=new Na(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||df(I,"https"),ff(I),$?lL(I.toString(),N):cL(I.toString(),N)}else Wn(2);h.G=0,h.l&&h.l.sa(y),YE(h),BE(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Wn(2)):(this.j.info("Failed to ping google.com"),Wn(1))};function YE(h){if(h.G=0,h.ka=[],h.l){const y=TE(h.h);(y.length!=0||h.i.length!=0)&&(x(h.ka,y),x(h.ka,h.i),h.h.i.length=0,v(h.i),h.i.length=0),h.l.ra()}}function QE(h,y,N){var I=N instanceof Na?ui(N):new Na(N);if(I.g!="")y&&(I.g=y+"."+I.g),hf(I,I.s);else{var $=l.location;I=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var W=new Na(null);I&&df(W,I),y&&(W.g=y),$&&hf(W,$),N&&(W.l=N),I=W}return N=h.D,y=h.ya,N&&y&&Rt(I,N,y),Rt(I,"VER",h.la),Tu(h,I),I}function ZE(h,y,N){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new qt(new mf({eb:N})):new qt(h.pa),y.Ha(h.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function XE(){}t=XE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wf(){}wf.prototype.g=function(h,y){return new vr(h,y)};function vr(h,y){Le.call(this),this.g=new UE(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!w(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new jl(this)}_(vr,Le),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Av(this.g)},vr.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var N={};N.__data__=h,h=N}else this.u&&(N={},N.__data__=Ns(h),h=N);y.i.push(new X4(y.Ya++,h)),y.G==3&&yf(y)},vr.prototype.N=function(){this.g.l=null,delete this.j,Av(this.g),delete this.g,vr.aa.N.call(this)};function JE(h){nr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const N in y){h=N;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}_(JE,nr);function e1(){Ji.call(this),this.status=1}_(e1,Ji);function jl(h){this.g=h}_(jl,XE),jl.prototype.ua=function(){Ve(this.g,"a")},jl.prototype.ta=function(h){Ve(this.g,new JE(h))},jl.prototype.sa=function(h){Ve(this.g,new e1)},jl.prototype.ra=function(){Ve(this.g,"b")},wf.prototype.createWebChannel=wf.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,HP=function(){return new wf},WP=function(){return af()},zP=ci,Ew={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lf.NO_ERROR=0,lf.TIMEOUT=8,lf.HTTP_ERROR=6,Nm=lf,gE.COMPLETE="complete",BP=gE,_t.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",Le.prototype.listen=Le.prototype.K,Gu=_t,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,UP=qt}).apply(typeof Kf<"u"?Kf:typeof self<"u"?self:typeof window<"u"?window:{});const Mj="@firebase/firestore",Oj="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new __("@firebase/firestore");function Al(){return el.logLevel}function me(t,...e){if(el.logLevel<=rt.DEBUG){const n=e.map($_);el.debug(`Firestore (${lu}): ${t}`,...n)}}function $i(t,...e){if(el.logLevel<=rt.ERROR){const n=e.map($_);el.error(`Firestore (${lu}): ${t}`,...n)}}function Mc(t,...e){if(el.logLevel<=rt.WARN){const n=e.map($_);el.warn(`Firestore (${lu}): ${t}`,...n)}}function $_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qP(t,r,n)}function qP(t,e,n){let r=`FIRESTORE (${lu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $i(r),new Error(r)}function wt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||qP(e,s,r)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class VW{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FW{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new zo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new zo,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new zo)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new KP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class $W{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UW{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $W(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BW{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,me("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lj(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zW(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function Nw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Qe(r,s);{const i=GP(),a=WW(i.encode(Vj(t,n)),i.encode(Vj(e,n)));return a!==0?a:Qe(r,s)}}n+=r>65535?2:1}return Qe(t.length,e.length)}function Vj(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WW(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Qe(t[n],e[n]);return Qe(t.length,e.length)}function Oc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=-62135596800,$j=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$j);return new un(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Fj)throw new we(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$j}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Fj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new un(0,0))}static max(){return new De(new un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="__name__";class Ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ss.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Qe(e.length,n.length)}static compareSegments(e,n){const r=Ss.isNumericId(e),s=Ss.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ss.extractNumericId(e).compare(Ss.extractNumericId(n)):Nw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bo.fromString(e.substring(4,e.length-2))}}class Vt extends Ss{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const HW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Ss{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return HW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uj}static keyField(){return new wn([Uj])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new we(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new we(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new we(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new we(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Vt.fromString(e))}static fromName(e){return new Ne(Vt.fromString(e).popFirst(5))}static empty(){return new Ne(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=-1;function qW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new Xo(s,Ne.empty(),e)}function KW(t){return new Xo(t.readTime,t.key,Yd)}class Xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xo(De.min(),Ne.empty(),Yd)}static max(){return new Xo(De.max(),Ne.empty(),Yd)}}function GW(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==YW)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&n()},c=>r(c))}),a=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&r(a)},d=>s(d))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ZW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hg.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=-1;function qg(t){return t==null}function Ep(t){return t===0&&1/t==-1/0}function XW(t){return typeof t=="number"&&Number.isInteger(t)&&!Ep(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="";function JW(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bj(e)),e=eH(t.get(n),e);return Bj(e)}function eH(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case QP:n+="";break;default:n+=i}}return n}function Bj(t){return t+QP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??xn.RED,this.left=s??xn.EMPTY,this.right=i??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new xn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return xn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wj(this.data.getIterator())}getIteratorFrom(e){return new Wj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dn(this.comparator);return n.data=e,n}}class Wj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new dn(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new XP("Invalid base64 string: "+i):i}}(e);return new Nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const tH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=tH.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ea(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="server_timestamp",eA="__type__",tA="__previous_value__",nA="__local_write_time__";function B_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eA])===null||n===void 0?void 0:n.stringValue)===JP}function Kg(t){const e=t.mapValue.fields[tA];return B_(e)?Kg(e):e}function Qd(t){const e=Jo(t.mapValue.fields[nA].timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r,s,i,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}const Np="(default)";class Zd{constructor(e,n){this.projectId=e,this.database=n||Np}static empty(){return new Zd("","")}get isDefaultDatabase(){return this.database===Np}isEqual(e){return e instanceof Zd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="__type__",sA="__max__",Yf={mapValue:{fields:{__type__:{stringValue:sA}}}},iA="__vector__",jp="value";function ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B_(t)?4:sH(t)?9007199254740991:rH(t)?10:11:Se(28295,{value:t})}function Zs(t,e){if(t===e)return!0;const n=ta(t);if(n!==ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qd(t).isEqual(Qd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Jo(s.timestampValue),l=Jo(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ea(s.bytesValue).isEqual(ea(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Jt(s.geoPointValue.latitude)===Jt(i.geoPointValue.latitude)&&Jt(s.geoPointValue.longitude)===Jt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Jt(s.integerValue)===Jt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Jt(s.doubleValue),l=Jt(i.doubleValue);return a===l?Ep(a)===Ep(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Oc(t.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(zj(a)!==zj(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Zs(a[c],l[c])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function Xd(t,e){return(t.values||[]).find(n=>Zs(n,e))!==void 0}function Lc(t,e){if(t===e)return 0;const n=ta(t),r=ta(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Jt(i.integerValue||i.doubleValue),c=Jt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Hj(t.timestampValue,e.timestampValue);case 4:return Hj(Qd(t),Qd(e));case 5:return Nw(t.stringValue,e.stringValue);case 6:return function(i,a){const l=ea(i),c=ea(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Qe(l[u],c[u]);if(d!==0)return d}return Qe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Qe(Jt(i.latitude),Jt(a.latitude));return l!==0?l:Qe(Jt(i.longitude),Jt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qj(t.arrayValue,e.arrayValue);case 10:return function(i,a){var l,c,u,d;const f=i.fields||{},m=a.fields||{},g=(l=f[jp])===null||l===void 0?void 0:l.arrayValue,_=(c=m[jp])===null||c===void 0?void 0:c.arrayValue,v=Qe(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:qj(g,_)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Yf.mapValue&&a===Yf.mapValue)return 0;if(i===Yf.mapValue)return 1;if(a===Yf.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=Nw(c[f],d[f]);if(m!==0)return m;const g=Lc(l[c[f]],u[d[f]]);if(g!==0)return g}return Qe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{Pe:n})}}function Hj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=Jo(t),r=Jo(e),s=Qe(n.seconds,r.seconds);return s!==0?s:Qe(n.nanos,r.nanos)}function qj(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Lc(n[s],r[s]);if(i)return i}return Qe(n.length,r.length)}function Vc(t){return jw(t)}function jw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ea(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${jw(n.fields[a])}`;return s+"}"}(t.mapValue):Se(61005,{value:t})}function jm(t){switch(ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kg(t);return e?16+jm(e):16;case 5:return 2*t.stringValue.length;case 6:return ea(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+jm(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ma(r.fields,(i,a)=>{s+=i.length+jm(a)}),s}(t.mapValue);default:throw Se(13486,{value:t})}}function Tw(t){return!!t&&"integerValue"in t}function z_(t){return!!t&&"arrayValue"in t}function Kj(t){return!!t&&"nullValue"in t}function Gj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tm(t){return!!t&&"mapValue"in t}function rH(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[rA])===null||n===void 0?void 0:n.stringValue)===iA}function gd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.value=e}static empty(){return new ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gd(n)}setAll(e){let n=wn.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}a?r[l.lastSegment()]=gd(a):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ma(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ar(gd(this.value))}}function oA(t){const e=[];return ma(t.fields,(n,r)=>{const s=new wn([n]);if(Tm(r)){const i=oA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r,s,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new On(e,0,De.min(),De.min(),De.min(),ar.empty(),0)}static newFoundDocument(e,n,r,s){return new On(e,1,n,De.min(),r,s,0)}static newNoDocument(e,n){return new On(e,2,n,De.min(),De.min(),ar.empty(),0)}static newUnknownDocument(e,n){return new On(e,3,n,De.min(),De.min(),ar.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.position=e,this.inclusive=n}}function Yj(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=Ne.comparator(Ne.fromName(a.referenceValue),n.key):r=Lc(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n="asc"){this.field=e,this.dir=n}}function iH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{}class an extends aA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aH(e,n,r):n==="array-contains"?new uH(e,r):n==="in"?new dH(e,r):n==="not-in"?new hH(e,r):n==="array-contains-any"?new fH(e,r):new an(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lH(e,r):new cH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Lc(n,this.value)):n!==null&&ta(this.value)===ta(n)&&this.matchesComparison(Lc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xs extends aA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Xs(e,n)}matches(e){return lA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lA(t){return t.op==="and"}function cA(t){return oH(t)&&lA(t)}function oH(t){for(const e of t.filters)if(e instanceof Xs)return!1;return!0}function Cw(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+Vc(t.value);if(cA(t))return t.filters.map(e=>Cw(e)).join(",");{const e=t.filters.map(n=>Cw(n)).join(",");return`${t.op}(${e})`}}function uA(t,e){return t instanceof an?function(r,s){return s instanceof an&&r.op===s.op&&r.field.isEqual(s.field)&&Zs(r.value,s.value)}(t,e):t instanceof Xs?function(r,s){return s instanceof Xs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&uA(a,s.filters[l]),!0):!1}(t,e):void Se(19439)}function dA(t){return t instanceof an?function(n){return`${n.field.canonicalString()} ${n.op} ${Vc(n.value)}`}(t):t instanceof Xs?function(n){return n.op.toString()+" {"+n.getFilters().map(dA).join(" ,")+"}"}(t):"Filter"}class aH extends an{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class lH extends an{constructor(e,n){super(e,"in",n),this.keys=hA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cH extends an{constructor(e,n){super(e,"not-in",n),this.keys=hA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class uH extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z_(n)&&Xd(n.arrayValue,this.value)}}class dH extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xd(this.value.arrayValue,n)}}class hH extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xd(this.value.arrayValue,n)}}class fH extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Ie=null}}function Zj(t,e=null,n=[],r=[],s=null,i=null,a=null){return new mH(t,e,n,r,s,i,a)}function W_(t){const e=Oe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vc(r)).join(",")),e.Ie=n}return e.Ie}function H_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qj(t.startAt,e.startAt)&&Qj(t.endAt,e.endAt)}function Sw(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n=null,r=[],s=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pH(t,e,n,r,s,i,a,l){return new Gg(t,e,n,r,s,i,a,l)}function q_(t){return new Gg(t)}function Xj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gH(t){return t.collectionGroup!==null}function vd(t){const e=Oe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new dn(wn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Cp(i,r))}),n.has(wn.keyField().canonicalString())||e.Ee.push(new Cp(wn.keyField(),r))}return e.Ee}function Us(t){const e=Oe(t);return e.de||(e.de=vH(e,vd(t))),e.de}function vH(t,e){if(t.limitType==="F")return Zj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cp(s.field,i)});const n=t.endAt?new Tp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tp(t.startAt.position,t.startAt.inclusive):null;return Zj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iw(t,e,n){return new Gg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yg(t,e){return H_(Us(t),Us(e))&&t.limitType===e.limitType}function fA(t){return`${W_(Us(t))}|lt:${t.limitType}`}function Dl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>dA(s)).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Vc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Vc(s)).join(",")),`Target(${r})`}(Us(t))}; limitType=${t.limitType})`}function Qg(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of vd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,l,c){const u=Yj(a,l,c);return a.inclusive?u<=0:u<0}(r.startAt,vd(r),s)||r.endAt&&!function(a,l,c){const u=Yj(a,l,c);return a.inclusive?u>=0:u>0}(r.endAt,vd(r),s))}(t,e)}function yH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mA(t){return(e,n)=>{let r=!1;for(const s of vd(t)){const i=xH(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function xH(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Lc(c,u):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ZP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=new Wt(Ne.comparator);function Ui(){return wH}const pA=new Wt(Ne.comparator);function Yu(...t){let e=pA;for(const n of t)e=e.insert(n.key,n);return e}function gA(t){let e=pA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Da(){return yd()}function vA(){return yd()}function yd(){return new pl(t=>t.toString(),(t,e)=>t.isEqual(e))}const _H=new Wt(Ne.comparator),bH=new dn(Ne.comparator);function it(...t){let e=bH;for(const n of t)e=e.add(n);return e}const EH=new dn(Qe);function NH(){return EH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ep(e)?"-0":e}}function yA(t){return{integerValue:""+t}}function jH(t,e){return XW(e)?yA(e):K_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this._=void 0}}function TH(t,e,n){return t instanceof Sp?function(s,i){const a={fields:{[eA]:{stringValue:JP},[nA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&B_(i)&&(i=Kg(i)),i&&(a.fields[tA]=i),{mapValue:a}}(n,e):t instanceof Jd?wA(t,e):t instanceof eh?_A(t,e):function(s,i){const a=xA(s,i),l=Jj(a)+Jj(s.Re);return Tw(a)&&Tw(s.Re)?yA(l):K_(s.serializer,l)}(t,e)}function CH(t,e,n){return t instanceof Jd?wA(t,e):t instanceof eh?_A(t,e):n}function xA(t,e){return t instanceof Ip?function(r){return Tw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Sp extends Zg{}class Jd extends Zg{constructor(e){super(),this.elements=e}}function wA(t,e){const n=bA(e);for(const r of t.elements)n.some(s=>Zs(s,r))||n.push(r);return{arrayValue:{values:n}}}class eh extends Zg{constructor(e){super(),this.elements=e}}function _A(t,e){let n=bA(e);for(const r of t.elements)n=n.filter(s=>!Zs(s,r));return{arrayValue:{values:n}}}class Ip extends Zg{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Jj(t){return Jt(t.integerValue||t.doubleValue)}function bA(t){return z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SH(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Jd&&s instanceof Jd||r instanceof eh&&s instanceof eh?Oc(r.elements,s.elements,Zs):r instanceof Ip&&s instanceof Ip?Zs(r.Re,s.Re):r instanceof Sp&&s instanceof Sp}(t.transform,e.transform)}class IH{constructor(e,n){this.version=e,this.transformResults=n}}class ls{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ls}static exists(e){return new ls(void 0,e)}static updateTime(e){return new ls(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xg{}function EA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new G_(t.key,ls.none()):new Bh(t.key,t.data,ls.none());{const n=t.data,r=ar.empty();let s=new dn(wn.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new pa(t.key,r,new Nr(s.toArray()),ls.none())}}function kH(t,e,n){t instanceof Bh?function(s,i,a){const l=s.value.clone(),c=tT(s.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof pa?function(s,i,a){if(!Cm(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=tT(s.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(NA(s)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function xd(t,e,n,r){return t instanceof Bh?function(i,a,l,c){if(!Cm(i.precondition,a))return l;const u=i.value.clone(),d=nT(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof pa?function(i,a,l,c){if(!Cm(i.precondition,a))return l;const u=nT(i.fieldTransforms,c,a),d=a.data;return d.setAll(NA(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,a,l){return Cm(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function RH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xA(r.transform,s||null);i!=null&&(n===null&&(n=ar.empty()),n.set(r.field,i))}return n||null}function eT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oc(r,s,(i,a)=>SH(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bh extends Xg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class pa extends Xg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tT(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,CH(a,l,n[s]))}return r}function nT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,TH(i,a,e))}return r}class G_ extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PH extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&kH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vA();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(s.key)?null:l;const c=EA(a,l);c!==null&&r.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&Oc(this.mutations,e.mutations,(n,r)=>eT(n,r))&&Oc(this.baseMutations,e.baseMutations,(n,r)=>eT(n,r))}}class Y_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return _H}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Y_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DH=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,lt;function OH(t){switch(t){case X.OK:return Se(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function jA(t){if(t===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(t){case nn.OK:return X.OK;case nn.CANCELLED:return X.CANCELLED;case nn.UNKNOWN:return X.UNKNOWN;case nn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case nn.INTERNAL:return X.INTERNAL;case nn.UNAVAILABLE:return X.UNAVAILABLE;case nn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case nn.NOT_FOUND:return X.NOT_FOUND;case nn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case nn.ABORTED:return X.ABORTED;case nn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case nn.DATA_LOSS:return X.DATA_LOSS;default:return Se(39323,{code:t})}}(lt=nn||(nn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new Bo([4294967295,4294967295],0);function rT(t){const e=GP().encode(t),n=new $P;return n.update(e),new Uint8Array(n.digest())}function sT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Bo([n,r],0),new Bo([s,i],0)]}class Q_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qu(`Invalid padding: ${n}`);if(r<0)throw new Qu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Bo.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Bo.fromNumber(r)));return s.compare(LH)===1&&(s=new Bo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=rT(e),[r,s]=sT(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);if(!this.be(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Q_(i,s,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=rT(e),[r,s]=sT(n);for(let i=0;i<this.hashCount;i++){const a=this.we(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jg(De.min(),s,new Wt(Qe),Ui(),it())}}class zh{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zh(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class TA{constructor(e,n){this.targetId=e,this.Ce=n}}class CA{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class iT{constructor(){this.Fe=0,this.Me=oT(),this.xe=Nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=it(),n=it(),r=it();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Se(38017,{changeType:i})}}),new zh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=oT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,wt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VH{constructor(e){this.ze=e,this.je=new Map,this.He=Ui(),this.Je=Qf(),this.Ye=Qf(),this.Ze=new Wt(Qe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Sw(i))if(r===0){const a=new Ne(i.path);this.tt(n,a,On.newNoDocument(a,De.min()))}else wt(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,l;try{a=ea(r).toUint8Array()}catch(c){if(c instanceof XP)return Mc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Q_(a,s,i)}catch(c){return Mc(c instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,a)=>{const l=this._t(a);if(l){if(i.current&&Sw(l.target)){const c=new Ne(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,On.newNoDocument(c,e))}i.Le&&(n.set(a,i.qe()),i.Qe())}});let r=it();this.Ye.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,a)=>a.setReadTime(e));const s=new Jg(e,n,this.Ze,this.He,r);return this.He=Ui(),this.Je=Qf(),this.Ye=Qf(),this.Ze=new Wt(Qe),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new iT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new dn(Qe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new dn(Qe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new iT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Qf(){return new Wt(Ne.comparator)}function oT(){return new Wt(Ne.comparator)}const FH={asc:"ASCENDING",desc:"DESCENDING"},$H={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UH={and:"AND",or:"OR"};class BH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kw(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function kp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zH(t,e){return kp(t,e.toTimestamp())}function Bs(t){return wt(!!t,49232),De.fromTimestamp(function(n){const r=Jo(n);return new un(r.seconds,r.nanos)}(t))}function Z_(t,e){return Rw(t,e).canonicalString()}function Rw(t,e){const n=function(s){return new Vt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IA(t){const e=Vt.fromString(t);return wt(DA(e),10190,{key:e.toString()}),e}function Pw(t,e){return Z_(t.databaseId,e.path)}function Ry(t,e){const n=IA(e);if(n.get(1)!==t.databaseId.projectId)throw new we(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(RA(n))}function kA(t,e){return Z_(t.databaseId,e)}function WH(t){const e=IA(t);return e.length===4?Vt.emptyPath():RA(e)}function Aw(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RA(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aT(t,e,n){return{name:Pw(t,e),fields:n.value.mapValue.fields}}function HH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(wt(d===void 0||typeof d=="string",58123),Nn.fromBase64String(d||"")):(wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Nn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?X.UNKNOWN:jA(u.code);return new we(d,u.message||"")}(a);n=new CA(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ry(t,r.document.name),i=Bs(r.document.updateTime),a=r.document.createTime?Bs(r.document.createTime):De.min(),l=new ar({mapValue:{fields:r.document.fields}}),c=On.newFoundDocument(s,i,a,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Sm(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ry(t,r.document),i=r.readTime?Bs(r.readTime):De.min(),a=On.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Sm([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ry(t,r.document),i=r.removedTargetIds||[];n=new Sm([],i,s,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new MH(s,i),l=r.targetId;n=new TA(l,a)}}return n}function qH(t,e){let n;if(e instanceof Bh)n={update:aT(t,e.key,e.value)};else if(e instanceof G_)n={delete:Pw(t,e.key)};else if(e instanceof pa)n={update:aT(t,e.key,e.data),updateMask:tq(e.fieldMask)};else{if(!(e instanceof PH))return Se(16599,{ft:e.type});n={verify:Pw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Sp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Jd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof eh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ip)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw Se(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:zH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se(27497)}(t,e.precondition)),n}function KH(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map(n=>function(s,i){let a=s.updateTime?Bs(s.updateTime):Bs(i);return a.isEqual(De.min())&&(a=Bs(i)),new IH(a,s.transformResults||[])}(n,e))):[]}function GH(t,e){return{documents:[kA(t,e.path)]}}function YH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kA(t,s);const i=function(u){if(u.length!==0)return AA(Xs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Ml(m.field),direction:XH(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=kw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function QH(t){let e=WH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=PA(f);return m instanceof Xs&&cA(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(_){return new Cp(Ol(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,qg(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,g=f.values||[];return new Tp(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new Tp(g,m)}(n.endAt)),pH(e,s,a,i,l,"F",c,u)}function ZH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ol(n.unaryFilter.field);return an.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ol(n.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ol(n.unaryFilter.field);return an.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ol(n.unaryFilter.field);return an.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return an.create(Ol(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xs.create(n.compositeFilter.filters.map(r=>PA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function XH(t){return FH[t]}function JH(t){return $H[t]}function eq(t){return UH[t]}function Ml(t){return{fieldPath:t.canonicalString()}}function Ol(t){return wn.fromServerFormat(t.fieldPath)}function AA(t){return t instanceof an?function(n){if(n.op==="=="){if(Gj(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NAN"}};if(Kj(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gj(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NAN"}};if(Kj(n.value))return{unaryFilter:{field:Ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(n.field),op:JH(n.op),value:n.value}}}(t):t instanceof Xs?function(n){const r=n.getFilters().map(s=>AA(s));return r.length===1?r[0]:{compositeFilter:{op:eq(n.op),filters:r}}}(t):Se(54877,{filter:t})}function tq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r,s,i=De.min(),a=De.min(),l=Nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.wt=e}}function rq(t){const e=QH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.yn=new iq}addToCollectionParentIndex(e,n){return this.yn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Xo.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Xo.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class iq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new dn(Vt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new dn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MA=41943040;class ir{static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(MA,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Fc(0)}static ir(){return new Fc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",oq=1048576;function uT([t,e],[n,r]){const s=Qe(t,n);return s===0?Qe(e,r):s}class aq{constructor(e){this.cr=e,this.buffer=new dn(uT),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){me(cT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uu(n)?me(cT,"Ignoring IndexedDB error during garbage collection: ",n):await cu(n)}await this.Ir(3e5)})}}class cq{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Hg.le);const r=new aq(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(lT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lT):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,a=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,l=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Al()<=rt.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function uq(t,e){return new cq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this.changes=new pl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&xd(r.mutation,s,Nr.empty(),un.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){const s=Da();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=Yu();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,s){let i=Ui();const a=yd(),l=function(){return yd()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof pa)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),xd(d.mutation,u,d.mutation.getFieldMask(),un.now())):a.set(u.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new hq(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=yd();let s=new Wt((a,l)=>a-l),i=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Nr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||it()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=vA();d.forEach(m=>{if(!i.has(m)){const g=EA(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Q.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return Ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Da());let l=Yd,c=i;return a.next(u=>Q.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,it())).next(d=>({batchId:l,changes:gA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let s=Yu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=Yu();return this.indexManager.getCollectionParents(e,i).next(l=>Q.forEach(l,c=>{const u=function(f,m){return new Gg(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,On.newInvalidDocument(d)))});let l=Yu();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&xd(d.mutation,u,Nr.empty(),un.now()),Qg(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Bs(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:rq(s.bundledQuery),readTime:Bs(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(){this.overlays=new Wt(Ne.comparator),this.Or=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Da();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Da(),i=n.length+1,a=new Ne(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Wt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Da(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Da(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return Q.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new DH(n,r));let i=this.Or.get(n);i===void 0&&(i=it(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.Nr=new dn(fn.Br),this.Lr=new dn(fn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new fn(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Ne(new Vt([])),r=new fn(n,e),s=new fn(n,e+1),i=[];return this.Lr.forEachInRange([r,s],a=>{this.Qr(a),i.push(a.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Ne(new Vt([])),r=new fn(n,e),s=new fn(n,e+1);let i=it();return this.Lr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new fn(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Ne.comparator(e.key,n.key)||Qe(e.Gr,n.Gr)}static kr(e,n){return Qe(e.Gr,n.Gr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new dn(fn.Br)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new AH(i,n,r,s);this.mutationQueue.push(a);for(const l of s)this.zr=this.zr.add(new fn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Q.resolve(a)}lookupMutationBatch(e,n){return Q.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?U_:this.Jn-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),s=new fn(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],a=>{const l=this.jr(a.Gr);i.push(l)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dn(Qe);return n.forEach(s=>{const i=new fn(s,0),a=new fn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,a],l=>{r=r.add(l.Gr)})}),Q.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Ne.isDocumentKey(i)||(i=i.child(""));const a=new fn(new Ne(i),0);let l=new dn(Qe);return this.zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Gr)),!0)},a),Q.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){wt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Q.forEach(n.mutations,s=>{const i=new fn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new fn(n,0),s=this.zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.Zr=e,this.docs=function(){return new Wt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=Ui();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():On.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ui();const a=n.path,l=new Ne(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||GW(KW(d),r)<=0||(s.has(d.key)||Qg(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Se(9500)}Xr(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xq(this)}getSize(e){return Q.resolve(this.size)}}class xq extends dq{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e){this.persistence=e,this.ei=new pl(n=>W_(n),H_),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ti=0,this.ni=new X_,this.targetCount=0,this.ri=Fc.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),Q.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Fc(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.ar(n),Q.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n){this.ii={},this.overlays={},this.si=new Hg(0),this.oi=!1,this.oi=!0,this._i=new gq,this.referenceDelegate=e(this),this.ai=new wq(this),this.indexManager=new sq,this.remoteDocumentCache=function(s){return new yq(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new nq(n),this.ci=new mq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new vq(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new _q(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return Q.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class _q extends QW{constructor(e){super(),this.currentSequenceNumber=e}}class J_{constructor(e){this.persistence=e,this.Ti=new X_,this.Ii=null}static Ei(e){return new J_(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.di,r=>{const s=Ne.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,De.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return Q.or([()=>Q.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Rp{constructor(e,n){this.persistence=e,this.Ri=new pl(r=>JW(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=uq(this,n)}static Ei(e,n){return new Rp(e,n)}li(){}hi(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return Q.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?Q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,a=>this.gr(e,a,n).next(l=>{l||(r++,i.removeEntry(a,De.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),Q.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jm(e.data.value)),n}gr(e,n,r){return Q.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=it(),s=it();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new eb(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return N9()?8:ZW($n())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new bq;return this.fs(e,n,a).next(l=>{if(i.result=l,this.Is)return this.gs(e,n,a,l.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(Al()<=rt.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Dl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Q.resolve()):(Al()<=rt.DEBUG&&me("QueryEngine","Query:",Dl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Al()<=rt.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Dl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(n))):Q.resolve())}Rs(e,n){if(Xj(n))return Q.resolve(null);let r=Us(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Iw(n,null,"F"),r=Us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=it(...i);return this.As.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ps(n,l);return this.ys(n,u,a,c.readTime)?this.Rs(e,Iw(n,null,"F")):this.ws(e,u,n,c)}))})))}Vs(e,n,r,s){return Xj(n)||s.isEqual(De.min())?Q.resolve(null):this.As.getDocuments(e,r).next(i=>{const a=this.ps(n,i);return this.ys(n,a,r,s)?Q.resolve(null):(Al()<=rt.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dl(n)),this.ws(e,a,n,qW(s,Yd)).next(l=>l))})}ps(e,n){let r=new dn(mA(e));return n.forEach((s,i)=>{Qg(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return Al()<=rt.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Dl(n)),this.As.getDocumentsMatchingQuery(e,n,Xo.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="LocalStore",Nq=3e8;class jq{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Wt(Qe),this.Ds=new pl(i=>W_(i),H_),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fq(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function Tq(t,e,n,r){return new jq(t,e,n,r)}async function LA(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let c=it();for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ms:u,removedBatchIds:a,addedBatchIds:l}))})})}function Cq(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,m=f.keys();let g=Q.resolve();return m.forEach(_=>{g=g.next(()=>d.getEntry(c,_)).next(v=>{const x=u.docVersions.get(_);wt(x!==null,48541),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=it();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function VA(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Sq(t,e){const n=Oe(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const l=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;l.push(n.ai.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.ai.addMatchingKeys(i,d.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Nn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(v,x,b){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Nq?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,g,d)&&l.push(n.ai.updateTargetData(i,g))});let c=Ui(),u=it();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(Iq(i,a,e.documentUpdates).next(d=>{c=d.xs,u=d.Os})),!r.isEqual(De.min())){const d=n.ai.getLastRemoteSnapshotVersion(i).next(f=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return Q.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ss=s,i))}function Iq(t,e,n){let r=it(),s=it();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=Ui();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(De.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):me(tb,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{xs:a,Os:s}})}function kq(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=U_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rq(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.ai.allocateTargetId(r).next(a=>(s=new Ro(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Dw(t,e,n){const r=Oe(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!uu(a))throw a;me(tb,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function dT(t,e,n){const r=Oe(t);let s=De.min(),i=it();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const f=Oe(c),m=f.Ds.get(d);return m!==void 0?Q.resolve(f.Ss.get(m)):f.ai.getTargetData(u,d)}(r,a,Us(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>r.bs.getDocumentsMatchingQuery(a,e,n?s:De.min(),n?i:it())).next(l=>(Pq(r,yH(e),l),{documents:l,Ns:i})))}function Pq(t,e,n){let r=t.vs.get(e)||De.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class hT{constructor(){this.activeTargetIds=NH()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Aq{constructor(){this.So=new hT,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new hT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="ConnectivityMonitor";class mT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){me(fT,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){me(fT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf=null;function Mw(){return Zf===null?Zf=function(){return 268435456+Math.round(2147483648*Math.random())}():Zf++,"0x"+Zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="RestConnection",Mq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oq{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Np?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const a=Mw(),l=this.$o(e,n.toUriEncodedString());me(Py,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,s,i),this.Ko(e,l,c,r).then(u=>(me(Py,`Received RPC '${e}' ${a}: `,u),u),u=>{throw Mc(Py,`RPC '${e}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Wo(e,n,r,s,i,a){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=Mq[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class Vq extends Oq{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s){const i=Mw();return new Promise((a,l)=>{const c=new UP;c.setWithCredentials(!0),c.listenOnce(BP.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nm.NO_ERROR:const d=c.getResponseJson();me(Rn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),a(d);break;case Nm.TIMEOUT:me(Rn,`RPC '${e}' ${i} timed out`),l(new we(X.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const f=c.getStatus();if(me(Rn,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const _=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(b)>=0?b:X.UNKNOWN}(g.status);l(new we(_,g.message))}else l(new we(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new we(X.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:i,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{me(Rn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);me(Rn,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}a_(e,n,r){const s=Mw(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=HP(),l=WP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");me(Rn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=a.createWebChannel(d,c);let m=!1,g=!1;const _=new Lq({Go:x=>{g?me(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(me(Rn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),me(Rn,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},zo:()=>f.close()}),v=(x,b,w)=>{x.listen(b,E=>{try{w(E)}catch(S){setTimeout(()=>{throw S},0)}})};return v(f,Gu.EventType.OPEN,()=>{g||(me(Rn,`RPC '${e}' stream ${s} transport opened.`),_.t_())}),v(f,Gu.EventType.CLOSE,()=>{g||(g=!0,me(Rn,`RPC '${e}' stream ${s} transport closed`),_.r_())}),v(f,Gu.EventType.ERROR,x=>{g||(g=!0,Mc(Rn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),_.r_(new we(X.UNAVAILABLE,"The operation could not be completed")))}),v(f,Gu.EventType.MESSAGE,x=>{var b;if(!g){const w=x.data[0];wt(!!w,16349);const E=w,S=(E==null?void 0:E.error)||((b=E[0])===null||b===void 0?void 0:b.error);if(S){me(Rn,`RPC '${e}' stream ${s} received error:`,S);const A=S.status;let V=function(C){const R=nn[C];if(R!==void 0)return jA(R)}(A),T=S.message;V===void 0&&(V=X.INTERNAL,T="Unknown error status: "+A+" with message "+S.message),g=!0,_.r_(new we(V,T)),f.close()}else me(Rn,`RPC '${e}' stream ${s} received:`,w),_.i_(w)}}),v(l,zP.STAT_EVENT,x=>{x.stat===Ew.PROXY?me(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Ew.NOPROXY&&me(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.n_()},0),_}}function Ay(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){return new BH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="PersistentStream";class $A{constructor(e,n,r,s,i,a,l,c){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new FA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new we(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return me(pT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(me(pT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fq extends $A{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=HH(this.serializer,e),r=function(i){if(!("targetChange"in i))return De.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?De.min():a.readTime?Bs(a.readTime):De.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Aw(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=Sw(c)?{documents:GH(i,c)}:{query:YH(i,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=SA(i,a.resumeToken);const u=kw(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(De.min())>0){l.readTime=kp(i,a.snapshotVersion.toTimestamp());const u=kw(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=ZH(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Aw(this.serializer),n.removeTarget=e,this.F_(n)}}class $q extends $A{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=KH(e.writeResults,e.commitTime),r=Bs(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Aw(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qH(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{}class Bq extends Uq{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new we(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Qo(e,Rw(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(X.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,Rw(n,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(X.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class zq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?($i(n),this.ea=!1):me("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="RemoteStore";class Wq{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(a=>{r.enqueueAndForget(async()=>{gl(this)&&(me(tl,"Restarting streams for network reachability change."),await async function(c){const u=Oe(c);u.aa.add(4),await Wh(u),u.la.set("Unknown"),u.aa.delete(4),await tv(u)}(this))})}),this.la=new zq(r,s)}}async function tv(t){if(gl(t))for(const e of t.ua)await e(!0)}async function Wh(t){for(const e of t.ua)await e(!1)}function UA(t,e){const n=Oe(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),ib(n)?sb(n):du(n).b_()&&rb(n,e))}function nb(t,e){const n=Oe(t),r=du(n);n._a.delete(e),r.b_()&&BA(n,e),n._a.size===0&&(r.b_()?r.v_():gl(n)&&n.la.set("Unknown"))}function rb(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}du(t).U_(e)}function BA(t,e){t.ha.Ke(e),du(t).K_(e)}function sb(t){t.ha=new VH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),du(t).start(),t.la.ta()}function ib(t){return gl(t)&&!du(t).w_()&&t._a.size>0}function gl(t){return Oe(t).aa.size===0}function zA(t){t.ha=void 0}async function Hq(t){t.la.set("Online")}async function qq(t){t._a.forEach((e,n)=>{rb(t,e)})}async function Kq(t,e){zA(t),ib(t)?(t.la.ia(e),sb(t)):t.la.set("Unknown")}async function Gq(t,e,n){if(t.la.set("Online"),e instanceof CA&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s._a.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s._a.delete(l),s.ha.removeTarget(l))}(t,e)}catch(r){me(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pp(t,r)}else if(e instanceof Sm?t.ha.Xe(e):e instanceof TA?t.ha.ot(e):t.ha.nt(e),!n.isEqual(De.min()))try{const r=await VA(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.ha.It(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i._a.get(u);d&&i._a.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i._a.get(c);if(!d)return;i._a.set(c,d.withResumeToken(Nn.EMPTY_BYTE_STRING,d.snapshotVersion)),BA(i,c);const f=new Ro(d.target,c,u,d.sequenceNumber);rb(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){me(tl,"Failed to raise snapshot:",r),await Pp(t,r)}}async function Pp(t,e,n){if(!uu(e))throw e;t.aa.add(1),await Wh(t),t.la.set("Offline"),n||(n=()=>VA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(tl,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await tv(t)})}function WA(t,e){return e().catch(n=>Pp(t,n,e))}async function nv(t){const e=Oe(t),n=na(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:U_;for(;Yq(e);)try{const s=await kq(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,Qq(e,s)}catch(s){await Pp(e,s)}HA(e)&&qA(e)}function Yq(t){return gl(t)&&t.oa.length<10}function Qq(t,e){t.oa.push(e);const n=na(t);n.b_()&&n.W_&&n.G_(e.mutations)}function HA(t){return gl(t)&&!na(t).w_()&&t.oa.length>0}function qA(t){na(t).start()}async function Zq(t){na(t).H_()}async function Xq(t){const e=na(t);for(const n of t.oa)e.G_(n.mutations)}async function Jq(t,e,n){const r=t.oa.shift(),s=Y_.from(r,e,n);await WA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await nv(t)}async function eK(t,e){e&&na(t).W_&&await async function(r,s){if(function(a){return OH(a)&&a!==X.ABORTED}(s.code)){const i=r.oa.shift();na(r).D_(),await WA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await nv(r)}}(t,e),HA(t)&&qA(t)}async function gT(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),me(tl,"RemoteStore received new credentials");const r=gl(n);n.aa.add(3),await Wh(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await tv(n)}async function tK(t,e){const n=Oe(t);e?(n.aa.delete(2),await tv(n)):e||(n.aa.add(2),await Wh(n),n.la.set("Unknown"))}function du(t){return t.Pa||(t.Pa=function(n,r,s){const i=Oe(n);return i.Y_(),new Fq(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:Hq.bind(null,t),Jo:qq.bind(null,t),Zo:Kq.bind(null,t),Q_:Gq.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),ib(t)?sb(t):t.la.set("Unknown")):(await t.Pa.stop(),zA(t))})),t.Pa}function na(t){return t.Ta||(t.Ta=function(n,r,s){const i=Oe(n);return i.Y_(),new $q(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Zq.bind(null,t),Zo:eK.bind(null,t),z_:Xq.bind(null,t),j_:Jq.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await nv(t)):(await t.Ta.stop(),t.oa.length>0&&(me(tl,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new ob(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ab(t,e){if($i("AsyncQueue",`${e}: ${t}`),uu(t))return new we(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{static emptySet(e){return new uc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Yu(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.Ia=new Wt(Ne.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class $c{constructor(e,n,r,s,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new $c(e,n,uc.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class rK{constructor(){this.queries=yT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=Oe(n),i=s.queries;s.queries=yT(),i.forEach((a,l)=>{for(const c of l.Ra)c.onError(r)})})(this,new we(X.ABORTED,"Firestore shutting down"))}}function yT(){return new pl(t=>fA(t),Yg)}async function KA(t,e){const n=Oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new nK,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=ab(a,`Initialization of query '${Dl(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&lb(n)}async function GA(t,e){const n=Oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Ra.indexOf(e);a>=0&&(i.Ra.splice(a,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sK(t,e){const n=Oe(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const l of a.Ra)l.pa(s)&&(r=!0);a.Aa=s}}r&&lb(n)}function iK(t,e,n){const r=Oe(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function lb(t){t.fa.forEach(e=>{e.next()})}var Ow,xT;(xT=Ow||(Ow={})).ya="default",xT.Cache="cache";class YA{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new $c(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=$c.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Ow.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.key=e}}class ZA{constructor(e){this.key=e}}class oK{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=it(),this.mutatedKeys=it(),this.Ua=mA(e),this.Ka=new uc(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new vT,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),g=Qg(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;m&&g?m.data.isEqual(g.data)?_!==v&&(r.track({type:3,doc:g}),x=!0):this.ja(m,g)||(r.track({type:2,doc:g}),x=!0,(c&&this.Ua(g,c)>0||u&&this.Ua(g,u)<0)&&(l=!0)):!m&&g?(r.track({type:0,doc:g}),x=!0):m&&!g&&(r.track({type:1,doc:m}),x=!0,(c||u)&&(l=!0)),x&&(g?(a=a.add(g),i=v?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ka:a,za:r,ys:l,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const a=e.za.da();a.sort((d,f)=>function(g,_){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:x})}};return v(g)-v(_)}(d.type,f.type)||this.Ua(d.doc,f.doc)),this.Ha(r),s=s!=null&&s;const l=n&&!s?this.Ja():[],c=this.$a.size===0&&this.current&&!s?1:0,u=c!==this.Qa;return this.Qa=c,a.length!==0||u?{snapshot:new $c(this.query,e.Ka,i,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new vT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=it(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new ZA(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new QA(r))}),n}Xa(e){this.qa=e.Ns,this.$a=it();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return $c.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const cb="SyncEngine";class aK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lK{constructor(e){this.key=e,this.tu=!1}}class cK{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new pl(l=>fA(l),Yg),this.iu=new Map,this.su=new Set,this.ou=new Wt(Ne.comparator),this._u=new Map,this.au=new X_,this.uu={},this.cu=new Map,this.lu=Fc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function uK(t,e,n=!0){const r=r2(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await XA(r,e,n,!0),s}async function dK(t,e){const n=r2(t);await XA(n,e,!0,!1)}async function XA(t,e,n,r){const s=await Rq(t.localStore,Us(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await hK(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&UA(t.remoteStore,s),l}async function hK(t,e,n,r,s){t.Pu=(f,m,g)=>async function(v,x,b,w){let E=x.view.Ga(b);E.ys&&(E=await dT(v.localStore,x.query,!1).then(({documents:T})=>x.view.Ga(T,E)));const S=w&&w.targetChanges.get(x.targetId),A=w&&w.targetMismatches.get(x.targetId)!=null,V=x.view.applyChanges(E,v.isPrimaryClient,S,A);return _T(v,x.targetId,V.Ya),V.snapshot}(t,f,m,g);const i=await dT(t.localStore,e,!0),a=new oK(e,i.Ns),l=a.Ga(i.documents),c=zh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=a.applyChanges(l,t.isPrimaryClient,c);_T(t,n,u.Ya);const d=new aK(e,n,a);return t.ru.set(e,d),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function fK(t,e,n){const r=Oe(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(a=>!Yg(a,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&nb(r.remoteStore,s.targetId),Lw(r,s.targetId)}).catch(cu)):(Lw(r,s.targetId),await Dw(r.localStore,s.targetId,!0))}async function mK(t,e){const n=Oe(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nb(n.remoteStore,r.targetId))}async function pK(t,e,n){const r=bK(t);try{const s=await function(a,l){const c=Oe(a),u=un.now(),d=l.reduce((g,_)=>g.add(_.key),it());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ui(),v=it();return c.Cs.getEntries(g,d).next(x=>{_=x,_.forEach((b,w)=>{w.isValidDocument()||(v=v.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(x=>{f=x;const b=[];for(const w of l){const E=RH(w,f.get(w.key).overlayedDocument);E!=null&&b.push(new pa(w.key,E,oA(E.value.mapValue),ls.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,b,l)}).next(x=>{m=x;const b=x.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(g,x.batchId,b)})}).then(()=>({batchId:m.batchId,changes:gA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let u=a.uu[a.currentUser.toKey()];u||(u=new Wt(Qe)),u=u.insert(l,c),a.uu[a.currentUser.toKey()]=u}(r,s.batchId,n),await Hh(r,s.changes),await nv(r.remoteStore)}catch(s){const i=ab(s,"Failed to persist write");n.reject(i)}}async function JA(t,e){const n=Oe(t);try{const r=await Sq(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n._u.get(i);a&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.tu=!0:s.modifiedDocuments.size>0?wt(a.tu,14607):s.removedDocuments.size>0&&(wt(a.tu,42227),a.tu=!1))}),await Hh(n,r,e)}catch(r){await cu(r)}}function wT(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,a)=>{const l=a.view.ga(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=Oe(a);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Ra)m.ga(l)&&(u=!0)}),u&&lb(c)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gK(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let a=new Wt(Ne.comparator);a=a.insert(i,On.newNoDocument(i,De.min()));const l=it().add(i),c=new Jg(De.min(),new Map,new Wt(Qe),a,l);await JA(r,c),r.ou=r.ou.remove(i),r._u.delete(e),ub(r)}else await Dw(r.localStore,e,!1).then(()=>Lw(r,e,n)).catch(cu)}async function vK(t,e){const n=Oe(t),r=e.batch.batchId;try{const s=await Cq(n.localStore,e);t2(n,r,null),e2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hh(n,s)}catch(s){await cu(s)}}async function yK(t,e,n){const r=Oe(t);try{const s=await function(a,l){const c=Oe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(wt(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);t2(r,e,n),e2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hh(r,s)}catch(s){await cu(s)}}function e2(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function t2(t,e,n){const r=Oe(t);let s=r.uu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function Lw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||n2(t,r)})}function n2(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(nb(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),ub(t))}function _T(t,e,n){for(const r of n)r instanceof QA?(t.au.addReference(r.key,e),xK(t,r)):r instanceof ZA?(me(cb,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||n2(t,r.key)):Se(19791,{Iu:r})}function xK(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(me(cb,"New document in limbo: "+n),t.su.add(r),ub(t))}function ub(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Ne(Vt.fromString(e)),r=t.lu.next();t._u.set(r,new lK(n)),t.ou=t.ou.insert(n,r),UA(t.remoteStore,new Ro(Us(q_(n.path)),r,"TargetPurposeLimboResolution",Hg.le))}}async function Hh(t,e,n){const r=Oe(t),s=[],i=[],a=[];r.ru.isEmpty()||(r.ru.forEach((l,c)=>{a.push(r.Pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=eb.Ps(c.targetId,u);i.push(f)}}))}),await Promise.all(a),r.nu.Q_(s),await async function(c,u){const d=Oe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Q.forEach(u,m=>Q.forEach(m.ls,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>Q.forEach(m.hs,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!uu(f))throw f;me(tb,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=d.Ss.get(m),_=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(_);d.Ss=d.Ss.insert(m,v)}}}(r.localStore,i))}async function wK(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){me(cb,"User change. New user:",e.toKey());const r=await LA(n.localStore,e);n.currentUser=e,function(i,a){i.cu.forEach(l=>{l.forEach(c=>{c.reject(new we(X.CANCELLED,a))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hh(n,r.Ms)}}function _K(t,e){const n=Oe(t),r=n._u.get(e);if(r&&r.tu)return it().add(r.key);{let s=it();const i=n.iu.get(e);if(!i)return s;for(const a of i){const l=n.ru.get(a);s=s.unionWith(l.view.Wa)}return s}}function r2(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_K.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gK.bind(null,e),e.nu.Q_=sK.bind(null,e.eventManager),e.nu.Tu=iK.bind(null,e.eventManager),e}function bK(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yK.bind(null,e),e}class Ap{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ev(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return Tq(this.persistence,new Eq,e.initialUser,this.serializer)}Ru(e){return new OA(J_.Ei,this.serializer)}Au(e){return new Aq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ap.provider={build:()=>new Ap};class EK extends Ap{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){wt(this.persistence.referenceDelegate instanceof Rp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new lq(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?ir.withCacheSize(this.cacheSizeBytes):ir.DEFAULT;return new OA(r=>Rp.Ei(r,n),this.serializer)}}class Vw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wK.bind(null,this.syncEngine),await tK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rK}()}createDatastore(e){const n=ev(e.databaseInfo.databaseId),r=function(i){return new Vq(i)}(e.databaseInfo);return function(i,a,l,c){return new Bq(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,l){return new Wq(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>wT(this.syncEngine,n,0),function(){return mT.C()?new mT:new Dq}())}createSyncEngine(e,n){return function(s,i,a,l,c,u,d){const f=new cK(s,i,a,l,c,u);return d&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Oe(s);me(tl,"RemoteStore shutting down."),i.aa.add(5),await Wh(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vw.provider={build:()=>new Vw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="FirestoreClient";class NK{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=YP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{me(ra,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(me(ra,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ab(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dy(t,e){t.asyncQueue.verifyOperationInProgress(),me(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jK(t);me(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>gT(e.remoteStore,s)),t._onlineComponents=e}async function jK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ra,"Using user provided OfflineComponentProvider");try{await Dy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Mc("Error using user provided cache. Falling back to memory cache: "+n),await Dy(t,new Ap)}}else me(ra,"Using default OfflineComponentProvider"),await Dy(t,new EK(void 0));return t._offlineComponents}async function i2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ra,"Using user provided OnlineComponentProvider"),await bT(t,t._uninitializedComponentsProvider._online)):(me(ra,"Using default OnlineComponentProvider"),await bT(t,new Vw))),t._onlineComponents}function TK(t){return i2(t).then(e=>e.syncEngine)}async function Fw(t){const e=await i2(t),n=e.eventManager;return n.onListen=uK.bind(null,e.syncEngine),n.onUnlisten=fK.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dK.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mK.bind(null,e.syncEngine),n}function CK(t,e,n={}){const r=new zo;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new s2({next:m=>{d.yu(),a.enqueueAndForget(()=>GA(i,f)),m.fromCache&&c.source==="server"?u.reject(new we(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new YA(l,d,{includeMetadataChanges:!0,Fa:!0});return KA(i,f)}(await Fw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,n){if(!n)throw new we(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SK(t,e,n,r){if(e===!0&&r===!0)throw new we(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NT(t){if(!Ne.isDocumentKey(t))throw new we(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jT(t){if(Ne.isDocumentKey(t))throw new we(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function db(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=db(t);throw new we(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firestore.googleapis.com",TT=!0;class CT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=l2,this.ssl=TT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:TT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oq)throw new we(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new we(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LW;switch(r.type){case"firstParty":return new UW(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ET.get(n);r&&(me("ComponentProvider","Removing Datastore"),ET.delete(n),r.terminate())}(this),Promise.resolve()}}function IK(t,e,n,r={}){var s;const i=(t=cs(t,rv))._getSettings(),a=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i.host!==l2&&i.host!==l&&Mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},i),{host:l,ssl:!1,emulatorOptions:r});if(!Ya(c,a)&&(t._setSettings(c),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=An.MOCK_USER;else{u=v9(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new we(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new An(f)}t._authCredentials=new VW(new KP(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qh(this.firestore,e,this._query)}}class fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class Wo extends qh{constructor(e,n,r){super(e,n,q_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Ne(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function hb(t,e,...n){if(t=Xt(t),a2("collection","path",e),t instanceof rv){const r=Vt.fromString(e,...n);return jT(r),new Wo(t,null,r)}{if(!(t instanceof fr||t instanceof Wo))throw new we(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return jT(r),new Wo(t.firestore,null,r)}}function Dp(t,e,...n){if(t=Xt(t),arguments.length===1&&(e=YP.newId()),a2("doc","path",e),t instanceof rv){const r=Vt.fromString(e,...n);return NT(r),new fr(t,null,new Ne(r))}{if(!(t instanceof fr||t instanceof Wo))throw new we(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return NT(r),new fr(t.firestore,t instanceof Wo?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="AsyncQueue";class IT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new FA(this,"async_queue_retry"),this.ju=()=>{const r=Ay();r&&me(ST,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Ay();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Ay();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new zo;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!uu(e))throw e;me(ST,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,$i("INTERNAL UNHANDLED ERROR: ",kT(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=ob.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&Se(47125,{ec:kT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function kT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class nl extends rv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new IT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IT(e),this._firestoreClient=void 0,await e}}}function kK(t,e){const n=typeof t=="object"?t:E_(),r=typeof t=="string"?t:Np,s=iu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=p9("firestore");i&&IK(s,...i)}return s}function fb(t){if(t._terminated)throw new we(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RK(t),t._firestoreClient}function RK(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new nH(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,o2(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new NK(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uc(Nn.fromBase64String(e))}catch(n){throw new we(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uc(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=/^__.*__$/;class AK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bh(e,this.data,n,this.fieldTransforms)}}class c2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function u2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:t})}}class vb{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new vb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Mp(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(u2(this.oc)&&PK.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class DK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ev(e)}dc(e,n,r,s=!1){return new vb({oc:e,methodName:n,Ec:r,path:wn.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d2(t){const e=t._freezeSettings(),n=ev(t._databaseId);return new DK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MK(t,e,n,r,s,i={}){const a=t.dc(i.merge||i.mergeFields?2:0,e,n,s);yb("Data must be an object, but it was:",a,r);const l=h2(r,a);let c,u;if(i.merge)c=new Nr(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=$w(e,f,n);if(!a.contains(m))throw new we(X.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);m2(d,m)||d.push(m)}c=new Nr(d),u=a.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=a.fieldTransforms;return new AK(new ar(l),c,u)}class iv extends mb{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iv}}function OK(t,e,n,r){const s=t.dc(1,e,n);yb("Data must be an object, but it was:",s,r);const i=[],a=ar.empty();ma(r,(c,u)=>{const d=xb(e,c,n);u=Xt(u);const f=s.hc(d);if(u instanceof iv)i.push(d);else{const m=ov(u,f);m!=null&&(i.push(d),a.set(d,m))}});const l=new Nr(i);return new c2(a,l,s.fieldTransforms)}function LK(t,e,n,r,s,i){const a=t.dc(1,e,n),l=[$w(e,r,n)],c=[s];if(i.length%2!=0)throw new we(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push($w(e,i[m])),c.push(i[m+1]);const u=[],d=ar.empty();for(let m=l.length-1;m>=0;--m)if(!m2(u,l[m])){const g=l[m];let _=c[m];_=Xt(_);const v=a.hc(g);if(_ instanceof iv)u.push(g);else{const x=ov(_,v);x!=null&&(u.push(g),d.set(g,x))}}const f=new Nr(u);return new c2(d,f,a.fieldTransforms)}function ov(t,e){if(f2(t=Xt(t)))return yb("Unsupported field value:",e,t),h2(t,e);if(t instanceof mb)return function(r,s){if(!u2(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const l of r){let c=ov(l,s.Pc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jH(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=un.fromDate(r);return{timestampValue:kp(s.serializer,i)}}if(r instanceof un){const i=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kp(s.serializer,i)}}if(r instanceof pb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uc)return{bytesValue:SA(s.serializer,r._byteString)};if(r instanceof fr){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Z_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof gb)return function(a,l){return{mapValue:{fields:{[rA]:{stringValue:iA},[jp]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Tc("VectorValues must only contain numeric values.");return K_(l.serializer,u)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${db(r)}`)}(t,e)}function h2(t,e){const n={};return ZP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,(r,s)=>{const i=ov(s,e.uc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function f2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof pb||t instanceof Uc||t instanceof fr||t instanceof mb||t instanceof gb)}function yb(t,e,n){if(!f2(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=db(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function $w(t,e,n){if((e=Xt(e))instanceof sv)return e._internalPath;if(typeof e=="string")return xb(t,e);throw Mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const VK=new RegExp("[~\\*/\\[\\]]");function xb(t,e,n){if(e.search(VK)>=0)throw Mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sv(...e.split("."))._internalPath}catch{throw Mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mp(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${r}`),a&&(c+=` in document ${s}`),c+=")"),new we(X.INVALID_ARGUMENT,l+t+c)}function m2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(g2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class FK extends p2{data(){return super.data()}}function g2(t,e){return typeof e=="string"?xb(t,e):e instanceof sv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $K{convertValue(e,n="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ma(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[jp].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>Jt(a.doubleValue));return new gb(i)}convertGeoPoint(e){return new pb(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qd(e));default:return null}}convertTimestamp(e){const n=Jo(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);wt(DA(r),9688,{name:e});const s=new Zd(r.get(1),r.get(3)),i=new Ne(r.popFirst(5));return s.isEqual(n)||$i(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class y2 extends p2{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Im(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(g2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Im extends y2{data(e={}){return super.data(e)}}class x2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Im(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new Im(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Zu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Im(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Zu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:BK(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function BK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}class wb extends $K{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}}function zK(t){t=cs(t,qh);const e=cs(t.firestore,nl),n=fb(e),r=new wb(e);return v2(t._query),CK(n,t._query).then(s=>new x2(e,r,t,s))}function WK(t,e,n){t=cs(t,fr);const r=cs(t.firestore,nl),s=UK(t.converter,e);return _b(r,[MK(d2(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ls.none())])}function HK(t,e,n,...r){t=cs(t,fr);const s=cs(t.firestore,nl),i=d2(s);let a;return a=typeof(e=Xt(e))=="string"||e instanceof sv?LK(i,"updateDoc",t._key,e,n,r):OK(i,"updateDoc",t._key,e),_b(s,[a.toMutation(t._key,ls.exists(!0))])}function qK(t){return _b(cs(t.firestore,nl),[new G_(t._key,ls.none())])}function KK(t,...e){var n,r,s;t=Xt(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||RT(e[a])||(i=e[a],a++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(RT(e[a])){const f=e[a];e[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[a+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,u,d;if(t instanceof fr)u=cs(t.firestore,nl),d=q_(t._key.path),c={next:f=>{e[a]&&e[a](GK(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=cs(t,qh);u=cs(f.firestore,nl),d=f._query;const m=new wb(u);c={next:g=>{e[a]&&e[a](new x2(u,m,f,g))},error:e[a+1],complete:e[a+2]},v2(t._query)}return function(m,g,_,v){const x=new s2(v),b=new YA(g,x,_);return m.asyncQueue.enqueueAndForget(async()=>KA(await Fw(m),b)),()=>{x.yu(),m.asyncQueue.enqueueAndForget(async()=>GA(await Fw(m),b))}}(fb(u),d,l,c)}function _b(t,e){return function(r,s){const i=new zo;return r.asyncQueue.enqueueAndForget(async()=>pK(await TK(r),s,i)),i.promise}(fb(t),e)}function GK(t,e,n){const r=n.docs.get(e._key),s=new wb(t);return new y2(t,s,e._key,r,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){lu=s})(ou),Qs(new ms("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new nl(new FW(r.getProvider("auth-internal")),new BW(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new we(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(u.options.projectId,d)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),$r(Mj,Oj,e),$r(Mj,Oj,"esm2017")})();const Kh=kK(F_),Op=t=>{if(t==null)return null;if(typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>Op(n));const e={};for(const n in t)t[n]!==void 0&&(e[n]=Op(t[n]));return e},YK=async()=>{try{console.log("Checking Firestore connection...");const t=hb(Kh,"test");return await zK(t),console.log("Firestore connection successful"),!0}catch(t){return console.error("Firestore connection error:",t),mt.error(`Firestore connection error: ${t.message||"Unknown error"}`),!1}},av=()=>{const e=mP().currentUser;return console.log("Auth state:",{currentUser:e?{uid:e.uid,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,providerData:e.providerData}:null,isSignedIn:!!e}),e?(console.log("Current user ID:",e.uid),e.uid):(console.warn("No user is currently signed in"),null)},Yi=async(t,e)=>{try{if(console.log(`Adding document to ${t}:`,e),!await YK())throw new Error("Firestore is not connected");if(!av())throw console.error("User not authenticated"),mt.error("You must be signed in to add data"),new Error("User not authenticated");const s=hb(Kh,t),i=e.id?Dp(s,e.id):Dp(s),a={...e,id:e.id||i.id},l=Op(a);return console.log("Cleaned data for Firestore:",l),await WK(i,l),console.log(`Document added successfully to ${t}:`,l),mt.success("Added successfully"),a}catch(n){console.error(`Error adding document to ${t}:`,n);let r="Failed to add data";throw n.code==="permission-denied"?r="Permission denied. Check Firestore security rules.":n.code==="unavailable"?r="Firestore service is unavailable. Check your internet connection.":n.code==="not-found"?r="Firestore collection not found. Make sure Firestore is enabled in your Firebase project.":n.message&&(r=n.message),mt.error(r),n}},ga=async(t,e,n)=>{try{if(console.log(`Updating document in ${t} with ID ${e}:`,n),!av())throw console.error("User not authenticated"),mt.error("You must be signed in to update data"),new Error("User not authenticated");const s=Op(n);console.log("Cleaned data for Firestore:",s);const i=Dp(Kh,t,e);await HK(i,s),console.log(`Document updated successfully in ${t} with ID ${e}`),mt.success("Updated successfully")}catch(r){console.error(`Error updating document in ${t} with ID ${e}:`,r);let s="Failed to update data";throw r.code==="permission-denied"?s="Permission denied. Check Firestore security rules.":r.code==="unavailable"?s="Firestore service is unavailable. Check your internet connection.":r.code==="not-found"?s="Document not found. It may have been deleted.":r.message&&(s=r.message),mt.error(s),r}},vl=async(t,e)=>{try{if(console.log(`Deleting document from ${t} with ID ${e}`),!av())throw console.error("User not authenticated"),mt.error("You must be signed in to delete data"),new Error("User not authenticated");const r=Dp(Kh,t,e);await qK(r),console.log(`Document deleted successfully from ${t} with ID ${e}`),mt.success("Deleted successfully")}catch(n){console.error(`Error deleting document from ${t} with ID ${e}:`,n);let r="Failed to delete data";throw n.code==="permission-denied"?r="Permission denied. Check Firestore security rules.":n.code==="unavailable"?r="Firestore service is unavailable. Check your internet connection.":n.code==="not-found"?r="Document not found. It may have been deleted already.":n.message&&(r=n.message),mt.error(r),n}},Qi=(t,e)=>{try{console.log(`Setting up subscription to ${t}`);const n=av();if(console.log(`User ID for ${t} subscription:`,n),!n)return console.error(`User not authenticated for ${t} subscription`),e([]),()=>{};const r=t;console.log(`Collection path for ${t}:`,r);const s=hb(Kh,r);return KK(s,i=>{const a=i.docs.map(l=>l.data());console.log(`Received update from ${t}:`,{collectionPath:r,documentCount:a.length,documents:a}),e(a)},i=>{console.error(`Error in subscription to ${t}:`,{collectionPath:r,error:i});let a="Failed to subscribe to data updates";i.code==="permission-denied"?a="Permission denied. Check Firestore security rules.":i.code==="unavailable"?a="Firestore service is unavailable. Check your internet connection.":i.message&&(a=i.message),mt.error(a)})}catch(n){return console.error(`Error setting up subscription to ${t}:`,n),e([]),()=>{}}},QK=t=>Yi("vehicles",t),Xf=(t,e)=>ga("vehicles",t,e),ZK=t=>vl("vehicles",t),XK=t=>Qi("vehicles",t),JK=t=>{const e={...t,createdAt:new Date().toISOString(),rentalHistory:[]};return Yi("customers",e)},eG=(t,e)=>ga("customers",t,e),tG=t=>vl("customers",t),nG=t=>Qi("customers",t),rG=t=>Yi("insurances",t),sG=(t,e)=>ga("insurances",t,e),iG=t=>vl("insurances",t),oG=t=>Qi("insurances",t),aG=t=>Yi("registrations",t),lG=(t,e)=>ga("registrations",t,e),cG=t=>vl("registrations",t),uG=t=>Qi("registrations",t),dG=t=>Yi("maintenances",t),hG=(t,e)=>ga("maintenances",t,e),fG=t=>vl("maintenances",t),mG=t=>Qi("maintenances",t),pG=t=>Yi("annualFees",t),gG=(t,e)=>ga("annualFees",t,e),vG=t=>vl("annualFees",t),yG=t=>Qi("annualFees",t),xG=t=>Yi("incidents",t),wG=(t,e)=>ga("incidents",t,e),_G=t=>vl("incidents",t),bG=t=>Qi("incidents",t),EG=t=>Yi("rentals",t),My=(t,e)=>ga("rentals",t,e),NG=t=>Qi("rentals",t);let ki=null;const Xu=new Set,jG=async()=>{try{ki=await DW(),ki?(console.log("Notification service initialized with token:",ki),TG(),CG()):console.warn("Notification permission denied or FCM token not available")}catch(t){console.error("Error initializing notification service:",t)}},TG=()=>{Qi("notifications",t=>{t.forEach(e=>{e.sent&&Xu.add(`${e.rentalId}_${e.type}`)})})},CG=()=>{const t=setInterval(PT,6e4);return PT(),()=>clearInterval(t)},PT=async()=>{try{const e=(await SG()).filter(r=>r.status==="active"),n=new Date().getTime();for(const r of e){const i=new Date(r.endTime).getTime()-n,a=30*60*1e3;if(i>0&&i<=a){const l=`${r.id}_pre_end`;Xu.has(l)||(await IG(r),await AT(r.id,"pre_end"),Xu.add(l))}if(i<=0){const l=`${r.id}_ended`;Xu.has(l)||(await kG(r),await AT(r.id,"ended"),Xu.add(l))}}}catch(t){console.error("Error checking rental end times:",t)}},SG=async()=>{try{return[]}catch(t){return console.error("Error getting rentals:",t),[]}},IG=async t=>{try{if(!ki){console.warn("FCM token not available");return}const e=await w2(t.vehicleId),n="Rental Ending Soon",r=`Your rental for ${e} will end in 30 minutes.`;await _2(n,r,ki),mt.info(r,{duration:5e3}),console.log("Sent rental ending soon notification for rental:",t.id)}catch(e){console.error("Error sending rental ending soon notification:",e)}},kG=async t=>{try{if(!ki){console.warn("FCM token not available");return}const e=await w2(t.vehicleId),n="Rental Ended",r=`Your rental for ${e} has ended. Please return the vehicle.`;await _2(n,r,ki),mt.warning(r,{duration:5e3}),console.log("Sent rental ended notification for rental:",t.id)}catch(e){console.error("Error sending rental ended notification:",e)}},w2=async t=>{try{return"your vehicle"}catch(e){return console.error("Error getting vehicle details:",e),"your vehicle"}},_2=async(t,e,n)=>{try{console.log("Sending notification:",{title:t,body:e,token:n}),"Notification"in window&&Notification.permission==="granted"&&new Notification(t,{body:e})}catch(r){console.error("Error sending notification:",r)}},AT=async(t,e)=>{try{if(!ki){console.warn("FCM token not available");return}const r={rentalId:t,userId:"current_user_id",type:e,sent:!0,sentAt:new Date().toISOString(),fcmToken:ki};await Yi("notifications",r),console.log("Recorded notification:",r)}catch(n){console.error("Error recording notification:",n)}},b2=p.createContext(void 0),Xe=()=>{const t=p.useContext(b2);if(!t)throw new Error("useGarage must be used within a GarageProvider");return t},_s=({children:t})=>{const[e,n]=p.useState([]),[r,s]=p.useState([]),[i,a]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState([]),[f,m]=p.useState([]),[g,_]=p.useState([]),[v,x]=p.useState([]),[b,w]=p.useState(!1),[E,S]=p.useState(null),[A,V]=p.useState(!1);p.useEffect(()=>{v.length>0&&!A&&(jG(),V(!0))},[v,A]);const T=()=>{console.log("Setting up all Firestore subscriptions");const L=XK(n),B=nG(s),G=oG(a),K=uG(c),he=mG(d),Te=yG(m),Le=bG(_),Ve=NG(x);return{unsubscribeAll:()=>{L(),B(),G(),K(),he(),Te(),Le(),Ve()}}},j=()=>{w(!0),C.current&&C.current.unsubscribeAll(),C.current=T(),S(new Date),w(!1)},C=p.useRef(null);p.useEffect(()=>(C.current=T(),S(new Date),()=>{C.current&&C.current.unsubscribeAll()}),[]),p.useEffect(()=>{const L=setInterval(()=>{console.log("Performing periodic subscription refresh"),j()},3e5);return()=>clearInterval(L)},[]);const R=L=>{QK(L).catch(B=>console.error("Error adding vehicle:",B))},D=(L,B)=>{Xf(L,B).catch(G=>console.error("Error updating vehicle:",G))},P=L=>{ZK(L).catch(B=>console.error("Error deleting vehicle:",B))},k=L=>{console.log("Adding customer:",L),JK(L).then(B=>console.log("Customer added successfully:",B)).catch(B=>console.error("Error adding customer:",B))},H=(L,B)=>{eG(L,B).catch(G=>console.error("Error updating customer:",G))},le=L=>r.find(B=>B.id===L),ne=L=>{tG(L).catch(B=>console.error("Error deleting customer:",B))},q=L=>{rG(L).catch(B=>console.error("Error adding insurance:",B))},M=(L,B)=>{sG(L,B).catch(G=>console.error("Error updating insurance:",G))},U=L=>{iG(L).catch(B=>console.error("Error deleting insurance:",B))},re=L=>{aG(L).catch(B=>console.error("Error adding registration:",B))},ee=(L,B)=>{lG(L,B).catch(G=>console.error("Error updating registration:",G))},ce=L=>{cG(L).catch(B=>console.error("Error deleting registration:",B))},ge=L=>{dG(L).catch(B=>console.error("Error adding maintenance:",B))},Ue=(L,B)=>{hG(L,B).catch(G=>console.error("Error updating maintenance:",G))},gt=L=>{fG(L).catch(B=>console.error("Error deleting maintenance:",B))},je=L=>{pG(L).catch(B=>console.error("Error adding annual fee:",B))},de=(L,B)=>{gG(L,B).catch(G=>console.error("Error updating annual fee:",G))},Fe=L=>{vG(L).catch(B=>console.error("Error deleting annual fee:",B))},Ye=L=>{xG(L).catch(B=>console.error("Error adding incident:",B))},Me=(L,B)=>{wG(L,B).catch(G=>console.error("Error updating incident:",G))},He=L=>{_G(L).catch(B=>console.error("Error deleting incident:",B))},qe=(L,B)=>{const G={...B,vehicleId:L,status:"active"};EG(G).then(K=>{const he={isRented:!0,currentRentalId:K.id};return Xf(L,he)}).catch(K=>console.error("Error renting vehicle:",K))},Ot=L=>{const B=v.find(K=>K.id===L);if(!B){console.error(`Rental with ID ${L} not found`);return}const G=B.vehicleId;My(L,{status:"completed"}).then(()=>Xf(G,{isRented:!1,currentRentalId:null})).catch(K=>console.error("Error completing rental:",K))},Ht=L=>{const B=v.find(K=>K.id===L);if(!B){console.error(`Rental with ID ${L} not found`);return}const G=B.vehicleId;My(L,{status:"cancelled"}).then(()=>Xf(G,{isRented:!1,currentRentalId:null})).catch(K=>console.error("Error cancelling rental:",K))},Bn=()=>{const L=v.filter(G=>G.status==="active"),B=new Set(L.map(G=>G.vehicleId));n(G=>G.map(K=>{const he=B.has(K.id);if(he===!!K.isRented)return K;if(he){const Te=L.find(Le=>Le.vehicleId===K.id);return{...K,isRented:!0,currentRentalId:Te?Te.id:void 0}}else return{...K,isRented:!1,currentRentalId:void 0}}))};p.useEffect(()=>{Bn()},[v]);const hn=(L,B)=>{const G=v.find(he=>he.id===L);if(!G||G.status!=="active"){console.error(`Active rental with ID ${L} not found`);return}const K=G.rentalFee+B.additionalFee;My(L,{endTime:B.endTime,rentalFee:K}).catch(he=>console.error("Error extending rental:",he))},Rr=L=>{const B=v.find(he=>he.id===L);if(!B||B.status!=="active")return 0;const G=new Date(B.endTime).getTime(),K=new Date().getTime();return Math.max(0,G-K)},O=L=>v.find(B=>B.id===L),F=L=>v.filter(B=>B.customerId===L||B.renter.customerId===L||B.renter.id&&B.renter.id===L);return o.jsx(b2.Provider,{value:{vehicles:e,customers:r,insurances:i,registrations:l,maintenances:u,annualFees:f,incidents:g,rentals:v,isRefreshing:b,lastRefreshed:E,refreshSubscriptions:j,addVehicle:R,updateVehicle:D,deleteVehicle:P,addCustomer:k,updateCustomer:H,deleteCustomer:ne,getCustomerById:le,addInsurance:q,updateInsurance:M,deleteInsurance:U,addRegistration:re,updateRegistration:ee,deleteRegistration:ce,addMaintenance:ge,updateMaintenance:Ue,deleteMaintenance:gt,addAnnualFee:je,updateAnnualFee:de,deleteAnnualFee:Fe,addIncident:Ye,updateIncident:Me,deleteIncident:He,rentVehicle:qe,completeRental:Ot,cancelRental:Ht,extendRental:hn,getRentalTimeRemaining:Rr,getRentalById:O,getRentalsByCustomerId:F},children:t})},yt=({children:t})=>{const{isAuthenticated:e,isLoading:n}=Wg();return n?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-garage-blue"})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(zU,{to:"/signin",replace:!0})},th=kh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?qs:"button";return o.jsx(a,{className:ie(th({variant:e,size:n,className:t})),ref:i,...s})});z.displayName="Button";const Oy=768;function RG(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Oy-1}px)`),r=()=>{e(window.innerWidth<Oy)};return n.addEventListener("change",r),e(window.innerWidth<Oy),()=>n.removeEventListener("change",r)},[]),!!t}var PG=p.createContext(void 0);function lv(t){const e=p.useContext(PG);return t||e||"ltr"}var Ly=0;function cv(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??DT()),document.body.insertAdjacentElement("beforeend",t[1]??DT()),Ly++,()=>{Ly===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ly--}},[])}function DT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vy="focusScope.autoFocusOnMount",Fy="focusScope.autoFocusOnUnmount",MT={bubbles:!1,cancelable:!0},AG="FocusScope",Gh=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[l,c]=p.useState(null),u=Vn(s),d=Vn(i),f=p.useRef(null),m=ot(e,v=>c(v)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(E){if(g.paused||!l)return;const S=E.target;l.contains(S)?f.current=S:co(f.current,{select:!0})},x=function(E){if(g.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||co(f.current,{select:!0}))},b=function(E){if(document.activeElement===document.body)for(const A of E)A.removedNodes.length>0&&co(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),w.disconnect()}}},[r,l,g.paused]),p.useEffect(()=>{if(l){LT.add(g);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(Vy,MT);l.addEventListener(Vy,u),l.dispatchEvent(b),b.defaultPrevented||(DG(FG(E2(l)),{select:!0}),document.activeElement===v&&co(l))}return()=>{l.removeEventListener(Vy,u),setTimeout(()=>{const b=new CustomEvent(Fy,MT);l.addEventListener(Fy,d),l.dispatchEvent(b),b.defaultPrevented||co(v??document.body,{select:!0}),l.removeEventListener(Fy,d),LT.remove(g)},0)}}},[l,u,d,g]);const _=p.useCallback(v=>{if(!n&&!r||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(x&&b){const w=v.currentTarget,[E,S]=MG(w);E&&S?!v.shiftKey&&b===S?(v.preventDefault(),n&&co(E,{select:!0})):v.shiftKey&&b===E&&(v.preventDefault(),n&&co(S,{select:!0})):b===w&&v.preventDefault()}},[n,r,g.paused]);return o.jsx(ke.div,{tabIndex:-1,...a,ref:m,onKeyDown:_})});Gh.displayName=AG;function DG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(co(r,{select:e}),document.activeElement!==n)return}function MG(t){const e=E2(t),n=OT(e,t),r=OT(e.reverse(),t);return[n,r]}function E2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function OT(t,e){for(const n of t)if(!OG(n,{upTo:e}))return n}function OG(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function LG(t){return t instanceof HTMLInputElement&&"select"in t}function co(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&LG(t)&&e&&t.select()}}var LT=VG();function VG(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=VT(t,e),t.unshift(e)},remove(e){var n;t=VT(t,e),(n=t[0])==null||n.resume()}}}function VT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function FG(t){return t.filter(e=>e.tagName!=="A")}function $G(t,e=[]){let n=[];function r(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:m,children:g,..._}=f,v=(m==null?void 0:m[t][c])||l,x=p.useMemo(()=>_,Object.values(_));return o.jsx(v.Provider,{value:x,children:g})}function d(f,m){const g=(m==null?void 0:m[t][c])||l,_=p.useContext(g);if(_)return _;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,UG(s,...e)]}function UG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var $y="rovingFocusGroup.onEntryFocus",BG={bubbles:!1,cancelable:!0},uv="RovingFocusGroup",[Uw,N2,zG]=yg(uv),[WG,dv]=$G(uv,[zG]),[HG,qG]=WG(uv),j2=p.forwardRef((t,e)=>o.jsx(Uw.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Uw.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(KG,{...t,ref:e})})}));j2.displayName=uv;var KG=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=p.useRef(null),g=ot(e,m),_=lv(i),[v=null,x]=Ks({prop:a,defaultProp:l,onChange:c}),[b,w]=p.useState(!1),E=Vn(u),S=N2(n),A=p.useRef(!1),[V,T]=p.useState(0);return p.useEffect(()=>{const j=m.current;if(j)return j.addEventListener($y,E),()=>j.removeEventListener($y,E)},[E]),o.jsx(HG,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(j=>x(j),[x]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>T(j=>j+1),[]),onFocusableItemRemove:p.useCallback(()=>T(j=>j-1),[]),children:o.jsx(ke.div,{tabIndex:b||V===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{A.current=!0}),onFocus:se(t.onFocus,j=>{const C=!A.current;if(j.target===j.currentTarget&&C&&!b){const R=new CustomEvent($y,BG);if(j.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=S().filter(ne=>ne.focusable),P=D.find(ne=>ne.active),k=D.find(ne=>ne.id===v),le=[P,k,...D].filter(Boolean).map(ne=>ne.ref.current);S2(le,d)}}A.current=!1}),onBlur:se(t.onBlur,()=>w(!1))})})}),T2="RovingFocusGroupItem",C2=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,l=Fr(),c=i||l,u=qG(T2,n),d=u.currentTabStopId===c,f=N2(n),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return p.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),o.jsx(Uw.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(ke.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:se(t.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:se(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:se(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=QG(_,u.orientation,u.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let b=f().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const w=b.indexOf(_.currentTarget);b=u.loop?ZG(b,w+1):b.slice(w+1)}setTimeout(()=>S2(b))}})})})});C2.displayName=T2;var GG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function QG(t,e,n){const r=YG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return GG[r]}function S2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function ZG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var I2=j2,k2=C2,XG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sl=new WeakMap,Jf=new WeakMap,em={},Uy=0,R2=function(t){return t&&(t.host||R2(t.parentNode))},JG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=R2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},eY=function(t,e,n,r){var s=JG(e,Array.isArray(t)?t:[t]);em[n]||(em[n]=new WeakMap);var i=em[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(r),_=g!==null&&g!=="false",v=(Sl.get(m)||0)+1,x=(i.get(m)||0)+1;Sl.set(m,v),i.set(m,x),a.push(m),v===1&&_&&Jf.set(m,!0),x===1&&m.setAttribute(n,"true"),_||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(e),l.clear(),Uy++,function(){a.forEach(function(f){var m=Sl.get(f)-1,g=i.get(f)-1;Sl.set(f,m),i.set(f,g),m||(Jf.has(f)||f.removeAttribute(r),Jf.delete(f)),g||f.removeAttribute(n)}),Uy--,Uy||(Sl=new WeakMap,Sl=new WeakMap,Jf=new WeakMap,em={})}},hv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=XG(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),eY(r,s,n,"aria-hidden")):function(){return null}},km="right-scroll-bar-position",Rm="width-before-scroll-bar",tY="with-scroll-bars-hidden",nY="--removed-body-scroll-bar-size";function By(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function rY(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var sY=typeof window<"u"?p.useLayoutEffect:p.useEffect,FT=new WeakMap;function iY(t,e){var n=rY(null,function(r){return t.forEach(function(s){return By(s,r)})});return sY(function(){var r=FT.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(l){i.has(l)||By(l,null)}),i.forEach(function(l){s.has(l)||By(l,a)})}FT.set(n,t)},[t]),n}function oY(t){return t}function aY(t,e){e===void 0&&(e=oY);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function lY(t){t===void 0&&(t={});var e=aY(null);return e.options=As({async:!0,ssr:!1},t),e}var P2=function(t){var e=t.sideCar,n=Lh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,As({},n))};P2.isSideCarExport=!0;function cY(t,e){return t.useMedium(e),P2}var A2=lY(),zy=function(){},fv=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:zy,onWheelCapture:zy,onTouchMoveCapture:zy}),s=r[0],i=r[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,g=t.noIsolation,_=t.inert,v=t.allowPinchZoom,x=t.as,b=x===void 0?"div":x,w=t.gapMode,E=Lh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,A=iY([n,e]),V=As(As({},E),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:A2,removeScrollBar:u,shards:f,noIsolation:g,inert:_,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),a?p.cloneElement(p.Children.only(l),As(As({},V),{ref:A})):p.createElement(b,As({},V,{className:c,ref:A}),l))});fv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fv.classNames={fullWidth:Rm,zeroRight:km};var uY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uY();return e&&t.setAttribute("nonce",e),t}function hY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=dY())&&(hY(e,n),fY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pY=function(){var t=mY();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},D2=function(){var t=pY(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},gY={left:0,top:0,right:0,gap:0},Wy=function(t){return parseInt(t||"",10)||0},vY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Wy(n),Wy(r),Wy(s)]},yY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return gY;var e=vY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},xY=D2(),dc="data-scroll-locked",wY=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tY,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(dc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(km,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Rm,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(km," .").concat(km,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rm," .").concat(Rm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(dc,`] {
    `).concat(nY,": ").concat(l,`px;
  }
`)},$T=function(){var t=parseInt(document.body.getAttribute(dc)||"0",10);return isFinite(t)?t:0},_Y=function(){p.useEffect(function(){return document.body.setAttribute(dc,($T()+1).toString()),function(){var t=$T()-1;t<=0?document.body.removeAttribute(dc):document.body.setAttribute(dc,t.toString())}},[])},bY=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;_Y();var i=p.useMemo(function(){return yY(s)},[s]);return p.createElement(xY,{styles:wY(i,!e,s,n?"":"!important")})},Bw=!1;if(typeof window<"u")try{var tm=Object.defineProperty({},"passive",{get:function(){return Bw=!0,!0}});window.addEventListener("test",tm,tm),window.removeEventListener("test",tm,tm)}catch{Bw=!1}var Il=Bw?{passive:!1}:!1,EY=function(t){return t.tagName==="TEXTAREA"},M2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!EY(t)&&n[e]==="visible")},NY=function(t){return M2(t,"overflowY")},jY=function(t){return M2(t,"overflowX")},UT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=O2(t,r);if(s){var i=L2(t,r),a=i[1],l=i[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},TY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},CY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},O2=function(t,e){return t==="v"?NY(e):jY(e)},L2=function(t,e){return t==="v"?TY(e):CY(e)},SY=function(t,e){return t==="h"&&e==="rtl"?-1:1},IY=function(t,e,n,r,s){var i=SY(t,window.getComputedStyle(e).direction),a=i*r,l=n.target,c=e.contains(l),u=!1,d=a>0,f=0,m=0;do{var g=L2(t,l),_=g[0],v=g[1],x=g[2],b=v-x-i*_;(_||b)&&O2(t,l)&&(f+=b,m+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},nm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},BT=function(t){return[t.deltaX,t.deltaY]},zT=function(t){return t&&"current"in t?t.current:t},kY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},RY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},PY=0,kl=[];function AY(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(PY++)[0],i=p.useState(D2)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=$B([t.lockRef.current],(t.shards||[]).map(zT),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var b=nm(v),w=n.current,E="deltaX"in v?v.deltaX:w[0]-b[0],S="deltaY"in v?v.deltaY:w[1]-b[1],A,V=v.target,T=Math.abs(E)>Math.abs(S)?"h":"v";if("touches"in v&&T==="h"&&V.type==="range")return!1;var j=UT(T,V);if(!j)return!0;if(j?A=T:(A=T==="v"?"h":"v",j=UT(T,V)),!j)return!1;if(!r.current&&"changedTouches"in v&&(E||S)&&(r.current=A),!A)return!0;var C=r.current||A;return IY(C,x,v,C==="h"?E:S,!0)},[]),c=p.useCallback(function(v){var x=v;if(!(!kl.length||kl[kl.length-1]!==i)){var b="deltaY"in x?BT(x):nm(x),w=e.current.filter(function(A){return A.name===x.type&&(A.target===x.target||x.target===A.shadowParent)&&kY(A.delta,b)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var E=(a.current.shards||[]).map(zT).filter(Boolean).filter(function(A){return A.contains(x.target)}),S=E.length>0?l(x,E[0]):!a.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(v,x,b,w){var E={name:v,delta:x,target:b,should:w,shadowParent:DY(b)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(S){return S!==E})},1)},[]),d=p.useCallback(function(v){n.current=nm(v),r.current=void 0},[]),f=p.useCallback(function(v){u(v.type,BT(v),v.target,l(v,t.lockRef.current))},[]),m=p.useCallback(function(v){u(v.type,nm(v),v.target,l(v,t.lockRef.current))},[]);p.useEffect(function(){return kl.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Il),document.addEventListener("touchmove",c,Il),document.addEventListener("touchstart",d,Il),function(){kl=kl.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Il),document.removeEventListener("touchmove",c,Il),document.removeEventListener("touchstart",d,Il)}},[]);var g=t.removeScrollBar,_=t.inert;return p.createElement(p.Fragment,null,_?p.createElement(i,{styles:RY(s)}):null,g?p.createElement(bY,{gapMode:t.gapMode}):null)}function DY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const MY=cY(A2,AY);var Yh=p.forwardRef(function(t,e){return p.createElement(fv,As({},t,{ref:e,sideCar:MY}))});Yh.classNames=fv.classNames;var zw=["Enter"," "],OY=["ArrowDown","PageUp","Home"],V2=["ArrowUp","PageDown","End"],LY=[...OY,...V2],VY={ltr:[...zw,"ArrowRight"],rtl:[...zw,"ArrowLeft"]},FY={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qh="Menu",[nh,$Y,UY]=yg(Qh),[yl,F2]=ni(Qh,[UY,fa,dv]),mv=fa(),$2=dv(),[BY,xl]=yl(Qh),[zY,Zh]=yl(Qh),U2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,l=mv(e),[c,u]=p.useState(null),d=p.useRef(!1),f=Vn(i),m=lv(s);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),o.jsx(jg,{...l,children:o.jsx(BY,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(zY,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:a,children:r})})})};U2.displayName=Qh;var WY="MenuAnchor",bb=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=mv(n);return o.jsx(Ah,{...s,...r,ref:e})});bb.displayName=WY;var Eb="MenuPortal",[HY,B2]=yl(Eb,{forceMount:void 0}),z2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=xl(Eb,e);return o.jsx(HY,{scope:e,forceMount:n,children:o.jsx(gr,{present:n||i.open,children:o.jsx(Qc,{asChild:!0,container:s,children:r})})})};z2.displayName=Eb;var Ur="MenuContent",[qY,Nb]=yl(Ur),W2=p.forwardRef((t,e)=>{const n=B2(Ur,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=xl(Ur,t.__scopeMenu),a=Zh(Ur,t.__scopeMenu);return o.jsx(nh.Provider,{scope:t.__scopeMenu,children:o.jsx(gr,{present:r||i.open,children:o.jsx(nh.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(KY,{...s,ref:e}):o.jsx(GY,{...s,ref:e})})})})}),KY=p.forwardRef((t,e)=>{const n=xl(Ur,t.__scopeMenu),r=p.useRef(null),s=ot(e,r);return p.useEffect(()=>{const i=r.current;if(i)return hv(i)},[]),o.jsx(jb,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),GY=p.forwardRef((t,e)=>{const n=xl(Ur,t.__scopeMenu);return o.jsx(jb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),jb=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:_,...v}=t,x=xl(Ur,n),b=Zh(Ur,n),w=mv(n),E=$2(n),S=$Y(n),[A,V]=p.useState(null),T=p.useRef(null),j=ot(e,T,x.onContentChange),C=p.useRef(0),R=p.useRef(""),D=p.useRef(0),P=p.useRef(null),k=p.useRef("right"),H=p.useRef(0),le=_?Yh:p.Fragment,ne=_?{as:qs,allowPinchZoom:!0}:void 0,q=U=>{var de,Fe;const re=R.current+U,ee=S().filter(Ye=>!Ye.disabled),ce=document.activeElement,ge=(de=ee.find(Ye=>Ye.ref.current===ce))==null?void 0:de.textValue,Ue=ee.map(Ye=>Ye.textValue),gt=oQ(Ue,re,ge),je=(Fe=ee.find(Ye=>Ye.textValue===gt))==null?void 0:Fe.ref.current;(function Ye(Me){R.current=Me,window.clearTimeout(C.current),Me!==""&&(C.current=window.setTimeout(()=>Ye(""),1e3))})(re),je&&setTimeout(()=>je.focus())};p.useEffect(()=>()=>window.clearTimeout(C.current),[]),cv();const M=p.useCallback(U=>{var ee,ce;return k.current===((ee=P.current)==null?void 0:ee.side)&&lQ(U,(ce=P.current)==null?void 0:ce.area)},[]);return o.jsx(qY,{scope:n,searchRef:R,onItemEnter:p.useCallback(U=>{M(U)&&U.preventDefault()},[M]),onItemLeave:p.useCallback(U=>{var re;M(U)||((re=T.current)==null||re.focus(),V(null))},[M]),onTriggerLeave:p.useCallback(U=>{M(U)&&U.preventDefault()},[M]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(U=>{P.current=U},[]),children:o.jsx(le,{...ne,children:o.jsx(Gh,{asChild:!0,trapped:s,onMountAutoFocus:se(i,U=>{var re;U.preventDefault(),(re=T.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(hl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:o.jsx(I2,{asChild:!0,...E,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:V,onEntryFocus:se(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Tg,{role:"menu","aria-orientation":"vertical","data-state":oD(x.open),"data-radix-menu-content":"",dir:b.dir,...w,...v,ref:j,style:{outline:"none",...v.style},onKeyDown:se(v.onKeyDown,U=>{const ee=U.target.closest("[data-radix-menu-content]")===U.currentTarget,ce=U.ctrlKey||U.altKey||U.metaKey,ge=U.key.length===1;ee&&(U.key==="Tab"&&U.preventDefault(),!ce&&ge&&q(U.key));const Ue=T.current;if(U.target!==Ue||!LY.includes(U.key))return;U.preventDefault();const je=S().filter(de=>!de.disabled).map(de=>de.ref.current);V2.includes(U.key)&&je.reverse(),sQ(je)}),onBlur:se(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(C.current),R.current="")}),onPointerMove:se(t.onPointerMove,rh(U=>{const re=U.target,ee=H.current!==U.clientX;if(U.currentTarget.contains(re)&&ee){const ce=U.clientX>H.current?"right":"left";k.current=ce,H.current=U.clientX}}))})})})})})})});W2.displayName=Ur;var YY="MenuGroup",Tb=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(ke.div,{role:"group",...r,ref:e})});Tb.displayName=YY;var QY="MenuLabel",H2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(ke.div,{...r,ref:e})});H2.displayName=QY;var Lp="MenuItem",WT="menu.itemSelect",pv=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),a=Zh(Lp,t.__scopeMenu),l=Nb(Lp,t.__scopeMenu),c=ot(e,i),u=p.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(WT,{bubbles:!0,cancelable:!0});f.addEventListener(WT,g=>r==null?void 0:r(g),{once:!0}),e_(f,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(q2,{...s,ref:c,disabled:n,onClick:se(t.onClick,d),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),u.current=!0},onPointerUp:se(t.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:se(t.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||zw.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});pv.displayName=Lp;var q2=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=Nb(Lp,n),l=$2(n),c=p.useRef(null),u=ot(e,c),[d,f]=p.useState(!1),[m,g]=p.useState("");return p.useEffect(()=>{const _=c.current;_&&g((_.textContent??"").trim())},[i.children]),o.jsx(nh.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:o.jsx(k2,{asChild:!0,...l,focusable:!r,children:o.jsx(ke.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:se(t.onPointerMove,rh(_=>{r?a.onItemLeave(_):(a.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(t.onPointerLeave,rh(_=>a.onItemLeave(_))),onFocus:se(t.onFocus,()=>f(!0)),onBlur:se(t.onBlur,()=>f(!1))})})})}),ZY="MenuCheckboxItem",K2=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return o.jsx(X2,{scope:t.__scopeMenu,checked:n,children:o.jsx(pv,{role:"menuitemcheckbox","aria-checked":Vp(n)?"mixed":n,...s,ref:e,"data-state":Sb(n),onSelect:se(s.onSelect,()=>r==null?void 0:r(Vp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});K2.displayName=ZY;var G2="MenuRadioGroup",[XY,JY]=yl(G2,{value:void 0,onValueChange:()=>{}}),Y2=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Vn(r);return o.jsx(XY,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(Tb,{...s,ref:e})})});Y2.displayName=G2;var Q2="MenuRadioItem",Z2=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=JY(Q2,t.__scopeMenu),i=n===s.value;return o.jsx(X2,{scope:t.__scopeMenu,checked:i,children:o.jsx(pv,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Sb(i),onSelect:se(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});Z2.displayName=Q2;var Cb="MenuItemIndicator",[X2,eQ]=yl(Cb,{checked:!1}),J2=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=eQ(Cb,n);return o.jsx(gr,{present:r||Vp(i.checked)||i.checked===!0,children:o.jsx(ke.span,{...s,ref:e,"data-state":Sb(i.checked)})})});J2.displayName=Cb;var tQ="MenuSeparator",eD=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return o.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});eD.displayName=tQ;var nQ="MenuArrow",tD=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=mv(n);return o.jsx(Cg,{...s,...r,ref:e})});tD.displayName=nQ;var rQ="MenuSub",[Yre,nD]=yl(rQ),Ju="MenuSubTrigger",rD=p.forwardRef((t,e)=>{const n=xl(Ju,t.__scopeMenu),r=Zh(Ju,t.__scopeMenu),s=nD(Ju,t.__scopeMenu),i=Nb(Ju,t.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(bb,{asChild:!0,...u,children:o.jsx(q2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":oD(n.open),...t,ref:vg(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(t.onPointerMove,rh(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(t.onPointerLeave,rh(f=>{var g,_;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(_=n.content)==null?void 0:_.dataset.side,x=v==="right",b=x?-5:5,w=m[x?"left":"right"],E=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:w,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:w,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:se(t.onKeyDown,f=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||VY[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});rD.displayName=Ju;var sD="MenuSubContent",iD=p.forwardRef((t,e)=>{const n=B2(Ur,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=xl(Ur,t.__scopeMenu),a=Zh(Ur,t.__scopeMenu),l=nD(sD,t.__scopeMenu),c=p.useRef(null),u=ot(e,c);return o.jsx(nh.Provider,{scope:t.__scopeMenu,children:o.jsx(gr,{present:r||i.open,children:o.jsx(nh.Slot,{scope:t.__scopeMenu,children:o.jsx(jb,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:se(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:se(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=FY[a.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});iD.displayName=sD;function oD(t){return t?"open":"closed"}function Vp(t){return t==="indeterminate"}function Sb(t){return Vp(t)?"indeterminate":t?"checked":"unchecked"}function sQ(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function iQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function oQ(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=iQ(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function aQ(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i].x,c=e[i].y,u=e[a].x,d=e[a].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function lQ(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return aQ(n,e)}function rh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var cQ=U2,uQ=bb,dQ=z2,hQ=W2,fQ=Tb,mQ=H2,pQ=pv,gQ=K2,vQ=Y2,yQ=Z2,xQ=J2,wQ=eD,_Q=tD,bQ=rD,EQ=iD,Ib="DropdownMenu",[NQ,Qre]=ni(Ib,[F2]),tr=F2(),[jQ,aD]=NQ(Ib),lD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=tr(e),u=p.useRef(null),[d=!1,f]=Ks({prop:s,defaultProp:i,onChange:a});return o.jsx(jQ,{scope:e,triggerId:Fr(),triggerRef:u,contentId:Fr(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:l,children:o.jsx(cQ,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};lD.displayName=Ib;var cD="DropdownMenuTrigger",uD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=aD(cD,n),a=tr(n);return o.jsx(uQ,{asChild:!0,...a,children:o.jsx(ke.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:vg(e,i.triggerRef),onPointerDown:se(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:se(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});uD.displayName=cD;var TQ="DropdownMenuPortal",dD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=tr(e);return o.jsx(dQ,{...r,...n})};dD.displayName=TQ;var hD="DropdownMenuContent",fD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=aD(hD,n),i=tr(n),a=p.useRef(!1);return o.jsx(hQ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:se(t.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:se(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fD.displayName=hD;var CQ="DropdownMenuGroup",SQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(fQ,{...s,...r,ref:e})});SQ.displayName=CQ;var IQ="DropdownMenuLabel",mD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(mQ,{...s,...r,ref:e})});mD.displayName=IQ;var kQ="DropdownMenuItem",pD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(pQ,{...s,...r,ref:e})});pD.displayName=kQ;var RQ="DropdownMenuCheckboxItem",gD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(gQ,{...s,...r,ref:e})});gD.displayName=RQ;var PQ="DropdownMenuRadioGroup",AQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(vQ,{...s,...r,ref:e})});AQ.displayName=PQ;var DQ="DropdownMenuRadioItem",vD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(yQ,{...s,...r,ref:e})});vD.displayName=DQ;var MQ="DropdownMenuItemIndicator",yD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(xQ,{...s,...r,ref:e})});yD.displayName=MQ;var OQ="DropdownMenuSeparator",xD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(wQ,{...s,...r,ref:e})});xD.displayName=OQ;var LQ="DropdownMenuArrow",VQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(_Q,{...s,...r,ref:e})});VQ.displayName=LQ;var FQ="DropdownMenuSubTrigger",wD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(bQ,{...s,...r,ref:e})});wD.displayName=FQ;var $Q="DropdownMenuSubContent",_D=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=tr(n);return o.jsx(EQ,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_D.displayName=$Q;var UQ=lD,BQ=uD,zQ=dD,bD=fD,ED=mD,ND=pD,jD=gD,TD=vD,CD=yD,SD=xD,ID=wD,kD=_D;const HT=UQ,qT=BQ,WQ=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>o.jsxs(ID,{ref:s,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,o.jsx(yk,{className:"ml-auto h-4 w-4"})]}));WQ.displayName=ID.displayName;const HQ=p.forwardRef(({className:t,...e},n)=>o.jsx(kD,{ref:n,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));HQ.displayName=kD.displayName;const Ww=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>o.jsx(zQ,{children:o.jsx(bD,{ref:r,sideOffset:e,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Ww.displayName=bD.displayName;const Ll=p.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(ND,{ref:r,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Ll.displayName=ND.displayName;const qQ=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>o.jsxs(jD,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(CD,{children:o.jsx(s_,{className:"h-4 w-4"})})}),e]}));qQ.displayName=jD.displayName;const KQ=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(TD,{ref:r,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(CD,{children:o.jsx(z5,{className:"h-2 w-2 fill-current"})})}),e]}));KQ.displayName=TD.displayName;const RD=p.forwardRef(({className:t,inset:e,...n},r)=>o.jsx(ED,{ref:r,className:ie("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));RD.displayName=ED.displayName;const PD=p.forwardRef(({className:t,...e},n)=>o.jsx(SD,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",t),...e}));PD.displayName=SD.displayName;const Nt=()=>{var u;const{user:t,logout:e}=Wg(),n=We(),r=RG(),[s,i]=p.useState(!1),a=async()=>{await e(),n("/signin")},l=()=>{i(!s)},c=()=>{i(!1)};return o.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10 shadow-sm",children:[o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs(Hn,{to:"/",className:"flex items-center text-garage-blue",children:[o.jsx(vN,{className:"mr-2 h-6 w-6"}),o.jsx("span",{className:"font-bold text-xl",children:"Sike Rentals"})]})}),r?o.jsx("button",{onClick:l,className:"p-2 rounded-md md:hidden",children:o.jsx(H5,{className:"h-6 w-6"})}):o.jsxs("nav",{className:"hidden md:flex space-x-6 ml-10",children:[o.jsx(Hn,{to:"/",className:({isActive:d})=>`text-sm font-medium transition-colors hover:text-garage-blue ${d?"text-garage-blue":"text-gray-600"}`,end:!0,children:"Dashboard"}),o.jsx(Hn,{to:"/vehicles",className:({isActive:d})=>`text-sm font-medium transition-colors hover:text-garage-blue ${d?"text-garage-blue":"text-gray-600"}`,children:"Vehicles"}),o.jsx(Hn,{to:"/customers",className:({isActive:d})=>`text-sm font-medium transition-colors hover:text-garage-blue ${d?"text-garage-blue":"text-gray-600"}`,children:"Customers"}),o.jsx(Hn,{to:"/rentals",className:({isActive:d})=>`text-sm font-medium transition-colors hover:text-garage-blue ${d?"text-garage-blue":"text-gray-600"}`,children:"Rentals"}),o.jsxs(HT,{children:[o.jsx(qT,{className:"text-sm font-medium text-gray-600 hover:text-garage-blue transition-colors outline-none",children:"Records"}),o.jsxs(Ww,{children:[o.jsxs(Ll,{onClick:()=>n("/insurance"),children:[o.jsx(rs,{className:"mr-2 h-4 w-4"}),"Insurance"]}),o.jsxs(Ll,{onClick:()=>n("/registration"),children:[o.jsx(xN,{className:"mr-2 h-4 w-4"}),"Registration"]}),o.jsxs(Ll,{onClick:()=>n("/maintenance"),children:[o.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Maintenance"]}),o.jsxs(Ll,{onClick:()=>n("/annualfees"),children:[o.jsx(md,{className:"mr-2 h-4 w-4"}),"Annual Fees"]})]})]}),o.jsx(Hn,{to:"/documents",className:({isActive:d})=>`text-sm font-medium transition-colors hover:text-garage-blue ${d?"text-garage-blue":"text-gray-600"}`,children:"Documents"})]}),o.jsx("div",{className:"hidden md:flex items-center",children:o.jsxs(HT,{children:[o.jsx(qT,{asChild:!0,children:o.jsx(z,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:o.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-garage-blue text-white",children:(u=t==null?void 0:t.email)==null?void 0:u.charAt(0).toUpperCase()})})}),o.jsxs(Ww,{align:"end",children:[o.jsx(RD,{children:"My Account"}),o.jsx(PD,{}),o.jsxs(Ll,{onClick:a,children:[o.jsx(wN,{className:"mr-2 h-4 w-4"}),"Log Out"]})]})]})})]})}),r&&s&&o.jsxs("div",{className:"fixed inset-0 bg-white z-50 flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[o.jsxs("div",{className:"flex items-center text-garage-blue",children:[o.jsx(vN,{className:"mr-2 h-6 w-6"}),o.jsx("span",{className:"font-bold text-xl",children:"Garage Tracker"})]}),o.jsx("button",{onClick:c,children:o.jsx(i_,{className:"h-6 w-6"})})]}),o.jsxs("nav",{className:"flex flex-col p-4 space-y-4",children:[o.jsx(Hn,{to:"/",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"}`,onClick:c,end:!0,children:"Dashboard"}),o.jsx(Hn,{to:"/vehicles",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"}`,onClick:c,children:"Vehicles"}),o.jsxs(Hn,{to:"/customers",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"}`,onClick:c,children:[o.jsx(kc,{className:"inline mr-2 h-4 w-4"}),"Customers"]}),o.jsx(Hn,{to:"/rentals",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"}`,onClick:c,children:"Rentals"}),o.jsx("div",{className:"border-t border-gray-200 pt-2",children:o.jsx("p",{className:"text-sm font-medium text-gray-500 px-2",children:"Records"})}),o.jsxs(Hn,{to:"/insurance",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"} pl-4`,onClick:c,children:[o.jsx(rs,{className:"inline mr-2 h-4 w-4"}),"Insurance"]}),o.jsxs(Hn,{to:"/registration",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"} pl-4`,onClick:c,children:[o.jsx(xN,{className:"inline mr-2 h-4 w-4"}),"Registration"]}),o.jsxs(Hn,{to:"/maintenance",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"} pl-4`,onClick:c,children:[o.jsx(Ds,{className:"inline mr-2 h-4 w-4"}),"Maintenance"]}),o.jsxs(Hn,{to:"/annualfees",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"} pl-4`,onClick:c,children:[o.jsx(md,{className:"inline mr-2 h-4 w-4"}),"Annual Fees"]}),o.jsxs(Hn,{to:"/documents",className:({isActive:d})=>`text-lg font-medium p-2 rounded-md transition-colors ${d?"bg-blue-50 text-garage-blue":"text-gray-600"}`,onClick:c,children:[o.jsx(sp,{className:"inline mr-2 h-4 w-4"}),"Documents"]}),o.jsx("div",{className:"border-t border-gray-200 pt-2 mt-auto",children:o.jsxs("button",{className:"w-full text-lg font-medium p-2 rounded-md text-red-600 hover:bg-red-50",onClick:()=>{a(),c()},children:[o.jsx(wN,{className:"inline mr-2 h-4 w-4"}),"Log Out"]})})]})]})]})},jt=()=>o.jsx("footer",{className:"bg-garage-blue text-white py-4 mt-auto",children:o.jsx("div",{className:"container mx-auto text-center",children:o.jsxs("p",{children:[" ",new Date().getFullYear()," Sike Rentals. All rights reserved. Created By Sympskalhey"]})})}),GQ=()=>{const{vehicles:t,customers:e,rentals:n}=Xe(),r=We(),[s,i]=p.useState(0);p.useEffect(()=>{const f=setInterval(()=>{i(m=>m+1)},3e4);return()=>clearInterval(f)},[]);const a=t.length,l=t.filter(f=>!f.isRented).length,c=a-l,u=e.length,d=n.filter(f=>f.status==="active").length;return c!==d&&console.log("Mismatch between rented vehicles count and active rentals count:",{rentedVehicles:c,activeRentalsCount:d}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("/vehicles"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Total Vehicles"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-car text-garage-blue",children:[o.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1h-2"}),o.jsx("path",{d:"M5 17H3c-.6 0-1-.4-1-1v-3c0-.6.4-1 1-1h2"}),o.jsx("rect",{width:"14",height:"8",x:"5",y:"9",rx:"2"}),o.jsx("circle",{cx:"9",cy:"17",r:"2"}),o.jsx("circle",{cx:"15",cy:"17",r:"2"}),o.jsx("path",{d:"M5 9 8 2h8l3 7"})]})]}),o.jsxs("div",{className:"flex items-end justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold",children:a}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Vehicles in your garage"})]}),o.jsx(z,{variant:"ghost",className:"p-0 h-auto",onClick:f=>{f.stopPropagation(),r("/vehicles/add")},children:"Add Vehicle"})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("/vehicles"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Availability"}),o.jsxs("div",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:[l," Available"]})]}),o.jsx("div",{className:"relative pt-1",children:o.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-gray-200",children:o.jsx("div",{style:{width:`${a>0?l/a*100:0}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500"})})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"mr-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Available"}),o.jsxs("div",{className:"font-semibold",children:[l," vehicles"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Rented"}),o.jsxs("div",{className:"font-semibold",children:[c," vehicles"]})]})]})}),o.jsx(z,{variant:"ghost",className:"p-0 h-auto",onClick:f=>{f.stopPropagation(),r("/rentals")},children:"View Rentals"})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r("/customers"),children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Customers"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users text-garage-blue",children:[o.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})]}),o.jsxs("div",{className:"flex items-end justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold",children:u}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Registered customers"})]}),o.jsx(z,{variant:"ghost",className:"p-0 h-auto",onClick:f=>{f.stopPropagation(),r("/customers/add")},children:"Add Customer"})]})]})]})},ve=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ve.displayName="Card";const _e=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",t),...e}));_e.displayName="CardHeader";const be=p.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));be.displayName="CardTitle";const ht=p.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));ht.displayName="CardDescription";const ye=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ie("p-6 pt-0",t),...e}));ye.displayName="CardContent";const hu=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",t),...e}));hu.displayName="CardFooter";const YQ=()=>{const{vehicles:t,maintenances:e}=Xe(),n=We(),r=[...e].sort((l,c)=>new Date(c.date).getTime()-new Date(l.date).getTime()).slice(0,5).map(l=>{const c=t.find(u=>u.id===l.vehicleId);return{...l,vehicleName:c?`${c.year} ${c.make} ${c.model}`:"Unknown Vehicle"}}),s=e.reduce((l,c)=>l+c.cost,0),i=e.reduce((l,c)=>(l[c.type]=(l[c.type]||0)+1,l),{}),a=Object.entries(i).sort((l,c)=>c[1]-l[1]).slice(0,3);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>n("/maintenance"),children:[o.jsxs(_e,{className:"pb-2",children:[o.jsx(be,{className:"text-garage-blue",children:"Maintenance Records"}),o.jsx(ht,{children:"Total maintenance records"})]}),o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-wrench text-garage-blue mr-3",children:o.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),o.jsx("span",{className:"text-3xl font-bold",children:e.length})]})})]}),o.jsxs(ve,{children:[o.jsxs(_e,{className:"pb-2",children:[o.jsx(be,{className:"text-garage-blue",children:"Total Expenses"}),o.jsx(ht,{children:"Lifetime maintenance costs"})]}),o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-dollar-sign text-garage-blue mr-3",children:[o.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),o.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),o.jsxs("span",{className:"text-3xl font-bold",children:["MVR",s.toFixed(2)]})]})})]}),o.jsxs(ve,{children:[o.jsxs(_e,{className:"pb-2",children:[o.jsx(be,{className:"text-garage-blue",children:"Common Services"}),o.jsx(ht,{children:"Most frequent maintenance types"})]}),o.jsx(ye,{children:o.jsx("div",{className:"space-y-2",children:a.length>0?a.map(([l,c],u)=>o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:l}),o.jsxs("span",{className:"font-medium",children:[c," times"]})]},u)):o.jsx("p",{className:"text-muted-foreground",children:"No maintenance records yet"})})})]})]}),o.jsxs(ve,{children:[o.jsxs(_e,{children:[o.jsx(be,{className:"text-garage-blue",children:"Recent Maintenance"}),o.jsx(ht,{children:"Latest service records for your vehicles"})]}),o.jsx(ye,{children:r.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left border-b",children:[o.jsx("th",{className:"pb-2",children:"Vehicle"}),o.jsx("th",{className:"pb-2",children:"Service"}),o.jsx("th",{className:"pb-2",children:"Date"}),o.jsx("th",{className:"pb-2",children:"Cost"})]})}),o.jsx("tbody",{children:r.map(l=>o.jsxs("tr",{className:"border-b last:border-0",children:[o.jsx("td",{className:"py-3",children:l.vehicleName}),o.jsx("td",{className:"py-3",children:l.type}),o.jsx("td",{className:"py-3",children:new Date(l.date).toLocaleDateString()}),o.jsxs("td",{className:"py-3",children:["MVR",l.cost.toFixed(2)]})]},l.id))})]})}):o.jsx("p",{className:"text-muted-foreground",children:"No maintenance records yet"})})]})]})},QQ=()=>{const{vehicles:t,incidents:e}=Xe(),n=We(),r=[...e].sort((i,a)=>new Date(a.date).getTime()-new Date(i.date).getTime()).slice(0,3).map(i=>{const a=t.find(l=>l.id===i.vehicleId);return{...i,vehicleName:a?`${a.year} ${a.make} ${a.model}`:"Unknown Vehicle"}}),s=e.reduce((i,a)=>i+(a.cost||0),0);return e.reduce((i,a)=>(i[a.type]=(i[a.type]||0)+1,i),{}),o.jsxs(ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>n("/incidents"),children:[o.jsxs(_e,{children:[o.jsx(be,{className:"text-garage-blue",children:"Incidents & Claims"}),o.jsx(ht,{children:"Summary of accidents and insurance claims"})]}),o.jsxs(ye,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{className:"bg-garage-silver/30 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Incidents"}),o.jsx("p",{className:"text-2xl font-bold",children:e.length})]}),o.jsxs("div",{className:"bg-garage-silver/30 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Cost"}),o.jsxs("p",{className:"text-2xl font-bold",children:["MVR",s.toFixed(2)]})]}),o.jsxs("div",{className:"bg-garage-silver/30 p-3 rounded-lg",children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Insurance Claims"}),o.jsx("p",{className:"text-2xl font-bold",children:e.filter(i=>i.insuranceClaim).length})]})]}),r.length>0?o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-sm text-gray-500 mb-2",children:"Recent Incidents:"}),o.jsx("div",{className:"space-y-2",children:r.map(i=>o.jsxs("div",{className:"p-2 bg-garage-silver/20 rounded",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-medium",children:i.vehicleName}),o.jsx("span",{children:new Date(i.date).toLocaleDateString()})]}),o.jsx("p",{className:"text-sm mt-1 text-gray-600",children:i.description})]},i.id))})]}):o.jsx("p",{className:"text-muted-foreground",children:"No incident records yet"})]})]})},ZQ=()=>{const{rentals:t,vehicles:e}=Xe(),n=We(),[r,s]=p.useState(0);p.useEffect(()=>{const u=setInterval(()=>{s(d=>d+1)},3e4);return()=>clearInterval(u)},[]);const i=t.filter(u=>u.status==="active"),a=i.map(u=>{const d=e.find(f=>f.id===u.vehicleId);return{rental:u,vehicle:d||null}}).filter(u=>u.vehicle!==null),l=e.filter(u=>!u.isRented).length,c=t.filter(u=>u.status==="completed").reduce((u,d)=>u+d.rentalFee,0);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>n("/rentals"),children:[o.jsxs(_e,{className:"pb-2",children:[o.jsx(be,{className:"text-garage-blue",children:"Active Rentals"}),o.jsx(ht,{children:"Currently rented vehicles"})]}),o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-car text-garage-blue mr-3",children:[o.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1h-2"}),o.jsx("path",{d:"M5 17H3c-.6 0-1-.4-1-1v-3c0-.6.4-1 1-1h2"}),o.jsx("rect",{width:"14",height:"8",x:"5",y:"9",rx:"2"}),o.jsx("circle",{cx:"9",cy:"17",r:"2"}),o.jsx("circle",{cx:"15",cy:"17",r:"2"}),o.jsx("path",{d:"M5 9 8 2h8l3 7"})]}),o.jsx("span",{className:"text-3xl font-bold",children:i.length})]})})]}),o.jsxs(ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>n("/rental-records"),children:[o.jsxs(_e,{className:"pb-2",children:[o.jsx(be,{className:"text-garage-blue",children:"Total Revenue"}),o.jsx(ht,{children:"From completed rentals"})]}),o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-calendar-check text-garage-blue mr-3",children:[o.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),o.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),o.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),o.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"}),o.jsx("path",{d:"m9 16 2 2 4-4"})]}),o.jsxs("span",{className:"text-3xl font-bold",children:["MVR",c.toFixed(2)]})]})})]}),o.jsxs(ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>n("/vehicles"),children:[o.jsxs(_e,{className:"pb-2",children:[o.jsx(be,{className:"text-garage-blue",children:"Available Vehicles"}),o.jsx(ht,{children:"Vehicles ready to rent"})]}),o.jsx(ye,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-car text-green-500 mr-3",children:[o.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1h-2"}),o.jsx("path",{d:"M5 17H3c-.6 0-1-.4-1-1v-3c0-.6.4-1 1-1h2"}),o.jsx("rect",{width:"14",height:"8",x:"5",y:"9",rx:"2"}),o.jsx("circle",{cx:"9",cy:"17",r:"2"}),o.jsx("circle",{cx:"15",cy:"17",r:"2"}),o.jsx("path",{d:"M5 9 8 2h8l3 7"})]}),o.jsx("span",{className:"text-3xl font-bold",children:l})]}),o.jsx(z,{variant:"ghost",className:"text-garage-blue p-0",onClick:u=>{u.stopPropagation(),n("/vehicles")},children:"View All"})]})})]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Recent Rentals"}),o.jsx(z,{variant:"outline",size:"sm",onClick:()=>n("/rental-records"),children:"View All Records"})]}),i.length>0&&o.jsxs(ve,{children:[o.jsxs(_e,{children:[o.jsx(be,{children:"Currently Rented Vehicles"}),o.jsx(ht,{children:"Vehicles that are currently being rented"})]}),o.jsx(ye,{children:o.jsx("ul",{className:"space-y-3",children:a.map(({rental:u,vehicle:d})=>d&&o.jsxs("li",{className:"p-3 bg-green-50 rounded flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium",children:[d.year," ",d.make," ",d.model]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Rented by: ",u.renter.fullName]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm",children:["Return by: ",new Date(u.endTime).toLocaleString()]}),o.jsx(z,{size:"sm",variant:"link",className:"p-0 h-auto",onClick:()=>n(`/rentals/${u.id}`),children:"View Details"})]})]},u.id))})})]})]})},XQ=()=>{const t=We(),{vehicles:e,rentals:n}=Xe();return p.useEffect(()=>{const r=n.filter(i=>i.status==="active"),s=new Set(r.map(i=>i.vehicleId));e.forEach(i=>{const a=s.has(i.id);a!==!!i.isRented&&console.log("Vehicle rental status inconsistency:",{vehicleId:i.id,make:i.make,model:i.model,isMarkedRented:i.isRented,hasActiveRental:a})})},[e,n]),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 space-y-4 md:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage all aspects of your vehicles in one place."})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs(z,{className:"bg-garage-blue hover:bg-garage-blue/90",onClick:()=>t("/vehicles/add"),children:[o.jsx(_g,{className:"mr-2 h-4 w-4"}),"Add Vehicle"]}),o.jsx(z,{variant:"outline",onClick:()=>t("/maintenance/add"),children:"Add Service Record"}),o.jsxs(z,{variant:"outline",onClick:()=>t("/rental-records"),children:[o.jsx(sp,{className:"mr-2 h-4 w-4"}),"Rental Records"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-garage-blue",children:"Vehicle Overview"}),o.jsx(GQ,{})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-garage-blue",children:"Rental Status"}),o.jsx(ZQ,{})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-garage-blue",children:"Maintenance & Service"}),o.jsx(YQ,{})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-4 text-garage-blue",children:"Incidents & Claims"}),o.jsx(QQ,{})]})]})]})},JQ=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(XQ,{})}),o.jsx(jt,{})]})}),eZ=()=>{const t=si();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},tZ=({vehicle:t})=>{const{deleteVehicle:e}=Xe(),n=We(),r=()=>{n(`/vehicles/${t.id}`)},s=l=>{l.stopPropagation(),n(`/vehicles/edit/${t.id}`)},i=l=>{l.stopPropagation(),!t.isRented&&n(`/vehicles/${t.id}/rent`)},a=l=>{l.stopPropagation(),window.confirm(`Are you sure you want to delete this ${t.year} ${t.make} ${t.model}?`)&&e(t.id)};return o.jsxs(ve,{className:"overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:r,children:[o.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[t.imageUrl?o.jsx("img",{src:t.imageUrl,alt:`${t.make} ${t.model}`,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:o.jsx(Jx,{className:"w-16 h-16 text-gray-400"})}),t.isRented?o.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white font-bold px-3 py-1 flex items-center",children:[o.jsx(B5,{className:"w-4 h-4 mr-1"}),"RENTED"]}):o.jsxs("div",{className:"absolute top-0 right-0 bg-green-500 text-white font-bold px-3 py-1 flex items-center",children:[o.jsx(U5,{className:"w-4 h-4 mr-1"}),"AVAILABLE"]})]}),o.jsx(_e,{className:"pb-2",children:o.jsxs(be,{className:"flex justify-between items-center",children:[o.jsxs("span",{children:[t.year," ",t.make," ",t.model]}),o.jsx(z,{variant:"ghost",size:"icon",onClick:s,children:o.jsx(q5,{className:"h-4 w-4"})})]})}),o.jsx(ye,{className:"pb-2",children:o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"License Plate"}),o.jsx("p",{className:"text-muted-foreground",children:t.licensePlate})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Color"}),o.jsx("p",{className:"text-muted-foreground",children:t.color})]})]})}),o.jsxs(hu,{className:"flex justify-between",children:[o.jsx(z,{variant:"outline",size:"sm",onClick:a,children:"Delete"}),o.jsx(z,{variant:t.isRented?"outline":"default",size:"sm",onClick:i,disabled:t.isRented,className:t.isRented?"cursor-not-allowed":"",children:t.isRented?"Currently Rented":"Rent"})]})]})},Ee=p.forwardRef(({className:t,type:e,...n},r)=>o.jsx("input",{type:e,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ee.displayName="Input";var kb="Tabs",[nZ,Zre]=ni(kb,[dv]),AD=dv(),[rZ,Rb]=nZ(kb),DD=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=lv(l),[f,m]=Ks({prop:r,onChange:s,defaultProp:i});return o.jsx(rZ,{scope:n,baseId:Fr(),value:f,onValueChange:m,orientation:a,dir:d,activationMode:c,children:o.jsx(ke.div,{dir:d,"data-orientation":a,...u,ref:e})})});DD.displayName=kb;var MD="TabsList",OD=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Rb(MD,n),a=AD(n);return o.jsx(I2,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:o.jsx(ke.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});OD.displayName=MD;var LD="TabsTrigger",VD=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=Rb(LD,n),l=AD(n),c=UD(a.baseId,r),u=BD(a.baseId,r),d=r===a.value;return o.jsx(k2,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:se(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:se(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:se(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});VD.displayName=LD;var FD="TabsContent",$D=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,l=Rb(FD,n),c=UD(l.baseId,r),u=BD(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(gr,{present:s||d,children:({present:m})=>o.jsx(ke.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});$D.displayName=FD;function UD(t,e){return`${t}-trigger-${e}`}function BD(t,e){return`${t}-content-${e}`}var sZ=DD,zD=OD,WD=VD,HD=$D;const wl=sZ,va=p.forwardRef(({className:t,...e},n)=>o.jsx(zD,{ref:n,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));va.displayName=zD.displayName;const Dt=p.forwardRef(({className:t,...e},n)=>o.jsx(WD,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Dt.displayName=WD.displayName;const ln=p.forwardRef(({className:t,...e},n)=>o.jsx(HD,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ln.displayName=HD.displayName;const iZ=()=>{const{vehicles:t,refreshSubscriptions:e,isRefreshing:n,lastRefreshed:r}=Xe(),s=We(),[i,a]=p.useState(""),[l,c]=p.useState("all"),[u,d]=p.useState(0);p.useEffect(()=>{const x=setInterval(()=>{d(b=>b+1)},3e4);return()=>clearInterval(x)},[]);const f=()=>r?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r):"Never",m=()=>{console.log("Manual refresh triggered"),e()},g=t.filter(x=>!x.isRented).length,_=t.filter(x=>x.isRented).length,v=t.filter(x=>{const b=x.make.toLowerCase().includes(i.toLowerCase())||x.model.toLowerCase().includes(i.toLowerCase())||x.year.toString().includes(i)||x.licensePlate.toLowerCase().includes(i.toLowerCase());return l==="all"?b:l==="available"?b&&!x.isRented:l==="rented"?b&&x.isRented:b});return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 space-y-4 md:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"My Vehicles"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your vehicle collection."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(tu,{children:o.jsxs(Dh,{children:[o.jsx(Mh,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"icon",onClick:m,disabled:n,className:"h-10 w-10",children:[o.jsx(Rh,{className:`h-4 w-4 ${n?"animate-spin":""}`}),o.jsx("span",{className:"sr-only",children:"Refresh data"})]})}),o.jsxs(nu,{children:[o.jsx("p",{children:"Refresh data"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last refreshed: ",f()]})]})]})}),o.jsxs(z,{className:"bg-garage-blue hover:bg-garage-blue/90",onClick:()=>s("/vehicles/add"),children:[o.jsx(_g,{className:"mr-2 h-4 w-4"}),"Add New Vehicle"]})]})]}),o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ee,{placeholder:"Search by make, model, year, or plate number...",value:i,onChange:x=>a(x.target.value),className:"pl-10"})]}),o.jsx(wl,{value:l,onValueChange:c,className:"mb-6",children:o.jsxs(va,{children:[o.jsxs(Dt,{value:"all",children:["All Vehicles (",t.length,")"]}),o.jsxs(Dt,{value:"available",children:["Available (",g,")"]}),o.jsxs(Dt,{value:"rented",children:["Currently Rented (",_,")"]})]})}),v.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(x=>o.jsx(tZ,{vehicle:x},x.id))}):o.jsx("div",{className:"text-center py-12",children:t.length>0?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg mb-2",children:"No vehicles match your search."}),o.jsx("p",{className:"text-muted-foreground",children:"Try a different search term or filter."})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg mb-2",children:"You haven't added any vehicles yet."}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by adding your first vehicle."}),o.jsx(z,{onClick:()=>s("/vehicles/add"),children:"Add Your First Vehicle"})]})})]})},oZ=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(iZ,{})}),o.jsx(jt,{})]});var Xh=t=>t.type==="checkbox",Ma=t=>t instanceof Date,Gn=t=>t==null;const qD=t=>typeof t=="object";var tn=t=>!Gn(t)&&!Array.isArray(t)&&qD(t)&&!Ma(t),KD=t=>tn(t)&&t.target?Xh(t.target)?t.target.checked:t.target.value:t,aZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,GD=(t,e)=>t.has(aZ(e)),lZ=t=>{const e=t.constructor&&t.constructor.prototype;return tn(e)&&e.hasOwnProperty("isPrototypeOf")},Pb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Pb&&(t instanceof Blob||t instanceof FileList))&&(n||tn(t)))if(e=n?[]:{},!n&&!lZ(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=rr(t[r]));else return t;return e}var gv=t=>Array.isArray(t)?t.filter(Boolean):[],Yt=t=>t===void 0,ae=(t,e,n)=>{if(!e||!tn(t))return n;const r=gv(e.split(/[,[\].]+?/)).reduce((s,i)=>Gn(s)?s:s[i],t);return Yt(r)||r===t?Yt(t[e])?n:t[e]:r},Ar=t=>typeof t=="boolean",Ab=t=>/^\w*$/.test(t),YD=t=>gv(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(t,e,n)=>{let r=-1;const s=Ab(e)?[e]:YD(e),i=s.length,a=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==a){const u=t[l];c=tn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Fp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ns={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QD=Y.createContext(null),vv=()=>Y.useContext(QD),cZ=t=>{const{children:e,...n}=t;return Y.createElement(QD.Provider,{value:n},e)};var ZD=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const a=i;return e._proxyFormState[a]!==ns.all&&(e._proxyFormState[a]=!r||ns.all),n&&(n[a]=!0),t[a]}});return s},sr=t=>tn(t)&&!Object.keys(t).length,XD=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return sr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(a=>e[a]===(!r||ns.all))},wd=t=>Array.isArray(t)?t:[t],JD=(t,e,n)=>!t||!e||t===e||wd(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Db(t){const e=Y.useRef(t);e.current=t,Y.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function uZ(t){const e=vv(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[a,l]=Y.useState(n._formState),c=Y.useRef(!0),u=Y.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Y.useRef(s);return d.current=s,Db({disabled:r,next:f=>c.current&&JD(d.current,f.name,i)&&XD(f,u.current,n._updateFormState)&&l({...n._formState,...f}),subject:n._subjects.state}),Y.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),ZD(a,n,u.current,!1)}var Ms=t=>typeof t=="string",eM=(t,e,n,r,s)=>Ms(t)?(r&&e.watch.add(t),ae(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ae(n,i))):(r&&(e.watchAll=!0),n);function dZ(t){const e=vv(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:a}=t||{},l=Y.useRef(r);l.current=r,Db({disabled:i,subject:n._subjects.values,next:d=>{JD(l.current,d.name,a)&&u(rr(eM(l.current,n._names,d.values||n._formValues,!1,s)))}});const[c,u]=Y.useState(n._getWatch(r,s));return Y.useEffect(()=>n._removeUnmounted()),c}function hZ(t){const e=vv(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,a=GD(s._names.array,n),l=dZ({control:s,name:n,defaultValue:ae(s._formValues,n,ae(s._defaultValues,n,t.defaultValue)),exact:!0}),c=uZ({control:s,name:n,exact:!0}),u=Y.useRef(s.register(n,{...t.rules,value:l,...Ar(t.disabled)?{disabled:t.disabled}:{}}));return Y.useEffect(()=>{const d=s._options.shouldUnregister||i,f=(m,g)=>{const _=ae(s._fields,m);_&&_._f&&(_._f.mount=g)};if(f(n,!0),d){const m=rr(ae(s._options.defaultValues,n));xt(s._defaultValues,n,m),Yt(ae(s._formValues,n))&&xt(s._formValues,n,m)}return()=>{(a?d&&!s._state.action:d)?s.unregister(n):f(n,!1)}},[n,s,a,i]),Y.useEffect(()=>{ae(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:ae(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:l,...Ar(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:Y.useCallback(d=>u.current.onChange({target:{value:KD(d),name:n},type:Fp.CHANGE}),[n]),onBlur:Y.useCallback(()=>u.current.onBlur({target:{value:ae(s._formValues,n),name:n},type:Fp.BLUR}),[n,s]),ref:Y.useCallback(d=>{const f=ae(s._fields,n);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:m=>d.setCustomValidity(m),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!ae(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ae(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ae(c.validatingFields,n)},error:{enumerable:!0,get:()=>ae(c.errors,n)}})}}const fZ=t=>t.render(hZ(t));var tM=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},KT=t=>({isOnSubmit:!t||t===ns.onSubmit,isOnBlur:t===ns.onBlur,isOnChange:t===ns.onChange,isOnAll:t===ns.all,isOnTouch:t===ns.onTouched}),GT=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const _d=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ae(t,s);if(i){const{_f:a,...l}=i;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(_d(l,e))break}else if(tn(l)&&_d(l,e))break}}};var mZ=(t,e,n)=>{const r=wd(ae(t,n));return xt(r,"root",e[n]),xt(t,n,r),t},Mb=t=>t.type==="file",Ti=t=>typeof t=="function",$p=t=>{if(!Pb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Pm=t=>Ms(t),Ob=t=>t.type==="radio",Up=t=>t instanceof RegExp;const YT={value:!1,isValid:!1},QT={value:!0,isValid:!0};var nM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Yt(t[0].attributes.value)?Yt(t[0].value)||t[0].value===""?QT:{value:t[0].value,isValid:!0}:QT:YT}return YT};const ZT={isValid:!1,value:null};var rM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,ZT):ZT;function XT(t,e,n="validate"){if(Pm(t)||Array.isArray(t)&&t.every(Pm)||Ar(t)&&!t)return{type:n,message:Pm(t)?t:"",ref:e}}var Rl=t=>tn(t)&&!Up(t)?t:{value:t,message:""},JT=async(t,e,n,r,s)=>{const{ref:i,refs:a,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:m,validate:g,name:_,valueAsNumber:v,mount:x,disabled:b}=t._f,w=ae(e,_);if(!x||b)return{};const E=a?a[0]:i,S=P=>{r&&E.reportValidity&&(E.setCustomValidity(Ar(P)?"":P||""),E.reportValidity())},A={},V=Ob(i),T=Xh(i),j=V||T,C=(v||Mb(i))&&Yt(i.value)&&Yt(w)||$p(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,R=tM.bind(null,_,n,A),D=(P,k,H,le=fi.maxLength,ne=fi.minLength)=>{const q=P?k:H;A[_]={type:P?le:ne,message:q,ref:i,...R(P?le:ne,q)}};if(s?!Array.isArray(w)||!w.length:l&&(!j&&(C||Gn(w))||Ar(w)&&!w||T&&!nM(a).isValid||V&&!rM(a).isValid)){const{value:P,message:k}=Pm(l)?{value:!!l,message:l}:Rl(l);if(P&&(A[_]={type:fi.required,message:k,ref:E,...R(fi.required,k)},!n))return S(k),A}if(!C&&(!Gn(d)||!Gn(f))){let P,k;const H=Rl(f),le=Rl(d);if(!Gn(w)&&!isNaN(w)){const ne=i.valueAsNumber||w&&+w;Gn(H.value)||(P=ne>H.value),Gn(le.value)||(k=ne<le.value)}else{const ne=i.valueAsDate||new Date(w),q=re=>new Date(new Date().toDateString()+" "+re),M=i.type=="time",U=i.type=="week";Ms(H.value)&&w&&(P=M?q(w)>q(H.value):U?w>H.value:ne>new Date(H.value)),Ms(le.value)&&w&&(k=M?q(w)<q(le.value):U?w<le.value:ne<new Date(le.value))}if((P||k)&&(D(!!P,H.message,le.message,fi.max,fi.min),!n))return S(A[_].message),A}if((c||u)&&!C&&(Ms(w)||s&&Array.isArray(w))){const P=Rl(c),k=Rl(u),H=!Gn(P.value)&&w.length>+P.value,le=!Gn(k.value)&&w.length<+k.value;if((H||le)&&(D(H,P.message,k.message),!n))return S(A[_].message),A}if(m&&!C&&Ms(w)){const{value:P,message:k}=Rl(m);if(Up(P)&&!w.match(P)&&(A[_]={type:fi.pattern,message:k,ref:i,...R(fi.pattern,k)},!n))return S(k),A}if(g){if(Ti(g)){const P=await g(w,e),k=XT(P,E);if(k&&(A[_]={...k,...R(fi.validate,k.message)},!n))return S(k.message),A}else if(tn(g)){let P={};for(const k in g){if(!sr(P)&&!n)break;const H=XT(await g[k](w,e),E,k);H&&(P={...H,...R(k,H.message)},S(H.message),n&&(A[_]=P))}if(!sr(P)&&(A[_]={ref:E,...P},!n))return A}}return S(!0),A};function pZ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Yt(t)?r++:t[e[r++]];return t}function gZ(t){for(const e in t)if(t.hasOwnProperty(e)&&!Yt(t[e]))return!1;return!0}function sn(t,e){const n=Array.isArray(e)?e:Ab(e)?[e]:YD(e),r=n.length===1?t:pZ(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(tn(r)&&sr(r)||Array.isArray(r)&&gZ(r))&&sn(t,n.slice(0,-1)),t}var Hy=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Hw=t=>Gn(t)||!qD(t);function _o(t,e){if(Hw(t)||Hw(e))return t===e;if(Ma(t)&&Ma(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Ma(i)&&Ma(a)||tn(i)&&tn(a)||Array.isArray(i)&&Array.isArray(a)?!_o(i,a):i!==a)return!1}}return!0}var sM=t=>t.type==="select-multiple",vZ=t=>Ob(t)||Xh(t),qy=t=>$p(t)&&t.isConnected,iM=t=>{for(const e in t)if(Ti(t[e]))return!0;return!1};function Bp(t,e={}){const n=Array.isArray(t);if(tn(t)||n)for(const r in t)Array.isArray(t[r])||tn(t[r])&&!iM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Bp(t[r],e[r])):Gn(t[r])||(e[r]=!0);return e}function oM(t,e,n){const r=Array.isArray(t);if(tn(t)||r)for(const s in t)Array.isArray(t[s])||tn(t[s])&&!iM(t[s])?Yt(e)||Hw(n[s])?n[s]=Array.isArray(t[s])?Bp(t[s],[]):{...Bp(t[s])}:oM(t[s],Gn(e)?{}:e[s],n[s]):n[s]=!_o(t[s],e[s]);return n}var Vu=(t,e)=>oM(t,e,Bp(e)),aM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Yt(t)?t:e?t===""?NaN:t&&+t:n&&Ms(t)?new Date(t):r?r(t):t;function Ky(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Mb(e)?e.files:Ob(e)?rM(t.refs).value:sM(e)?[...e.selectedOptions].map(({value:n})=>n):Xh(e)?nM(t.refs).value:aM(Yt(e.value)?t.ref.value:e.value,t)}var yZ=(t,e,n,r)=>{const s={};for(const i of t){const a=ae(e,i);a&&xt(s,i,a._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Fu=t=>Yt(t)?t:Up(t)?t.source:tn(t)?Up(t.value)?t.value.source:t.value:t;const eC="AsyncFunction";var xZ=t=>(!t||!t.validate)&&!!(Ti(t.validate)&&t.validate.constructor.name===eC||tn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===eC)),wZ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function tC(t,e,n){const r=ae(t,n);if(r||Ab(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),a=ae(e,i),l=ae(t,i);if(a&&!Array.isArray(a)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var _Z=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,bZ=(t,e)=>!gv(ae(t,e)).length&&sn(t,e);const EZ={mode:ns.onSubmit,reValidateMode:ns.onChange,shouldFocusError:!0};function NZ(t={}){let e={...EZ,...t},n={submitCount:0,isDirty:!1,isLoading:Ti(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=tn(e.defaultValues)||tn(e.values)?rr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:rr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Hy(),array:Hy(),state:Hy()},m=KT(e.mode),g=KT(e.reValidateMode),_=e.criteriaMode===ns.all,v=O=>F=>{clearTimeout(u),u=setTimeout(O,F)},x=async O=>{if(!t.disabled&&(d.isValid||O)){const F=e.resolver?sr((await j()).errors):await R(r,!0);F!==n.isValid&&f.state.next({isValid:F})}},b=(O,F)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((O||Array.from(l.mount)).forEach(L=>{L&&(F?xt(n.validatingFields,L,F):sn(n.validatingFields,L))}),f.state.next({validatingFields:n.validatingFields,isValidating:!sr(n.validatingFields)}))},w=(O,F=[],L,B,G=!0,K=!0)=>{if(B&&L&&!t.disabled){if(a.action=!0,K&&Array.isArray(ae(r,O))){const he=L(ae(r,O),B.argA,B.argB);G&&xt(r,O,he)}if(K&&Array.isArray(ae(n.errors,O))){const he=L(ae(n.errors,O),B.argA,B.argB);G&&xt(n.errors,O,he),bZ(n.errors,O)}if(d.touchedFields&&K&&Array.isArray(ae(n.touchedFields,O))){const he=L(ae(n.touchedFields,O),B.argA,B.argB);G&&xt(n.touchedFields,O,he)}d.dirtyFields&&(n.dirtyFields=Vu(s,i)),f.state.next({name:O,isDirty:P(O,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else xt(i,O,F)},E=(O,F)=>{xt(n.errors,O,F),f.state.next({errors:n.errors})},S=O=>{n.errors=O,f.state.next({errors:n.errors,isValid:!1})},A=(O,F,L,B)=>{const G=ae(r,O);if(G){const K=ae(i,O,Yt(L)?ae(s,O):L);Yt(K)||B&&B.defaultChecked||F?xt(i,O,F?K:Ky(G._f)):le(O,K),a.mount&&x()}},V=(O,F,L,B,G)=>{let K=!1,he=!1;const Te={name:O};if(!t.disabled){const Le=!!(ae(r,O)&&ae(r,O)._f&&ae(r,O)._f.disabled);if(!L||B){d.isDirty&&(he=n.isDirty,n.isDirty=Te.isDirty=P(),K=he!==Te.isDirty);const Ve=Le||_o(ae(s,O),F);he=!!(!Le&&ae(n.dirtyFields,O)),Ve||Le?sn(n.dirtyFields,O):xt(n.dirtyFields,O,!0),Te.dirtyFields=n.dirtyFields,K=K||d.dirtyFields&&he!==!Ve}if(L){const Ve=ae(n.touchedFields,O);Ve||(xt(n.touchedFields,O,L),Te.touchedFields=n.touchedFields,K=K||d.touchedFields&&Ve!==L)}K&&G&&f.state.next(Te)}return K?Te:{}},T=(O,F,L,B)=>{const G=ae(n.errors,O),K=d.isValid&&Ar(F)&&n.isValid!==F;if(t.delayError&&L?(c=v(()=>E(O,L)),c(t.delayError)):(clearTimeout(u),c=null,L?xt(n.errors,O,L):sn(n.errors,O)),(L?!_o(G,L):G)||!sr(B)||K){const he={...B,...K&&Ar(F)?{isValid:F}:{},errors:n.errors,name:O};n={...n,...he},f.state.next(he)}},j=async O=>{b(O,!0);const F=await e.resolver(i,e.context,yZ(O||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return b(O),F},C=async O=>{const{errors:F}=await j(O);if(O)for(const L of O){const B=ae(F,L);B?xt(n.errors,L,B):sn(n.errors,L)}else n.errors=F;return F},R=async(O,F,L={valid:!0})=>{for(const B in O){const G=O[B];if(G){const{_f:K,...he}=G;if(K){const Te=l.array.has(K.name),Le=G._f&&xZ(G._f);Le&&d.validatingFields&&b([B],!0);const Ve=await JT(G,i,_,e.shouldUseNativeValidation&&!F,Te);if(Le&&d.validatingFields&&b([B]),Ve[K.name]&&(L.valid=!1,F))break;!F&&(ae(Ve,K.name)?Te?mZ(n.errors,Ve,K.name):xt(n.errors,K.name,Ve[K.name]):sn(n.errors,K.name))}!sr(he)&&await R(he,F,L)}}return L.valid},D=()=>{for(const O of l.unMount){const F=ae(r,O);F&&(F._f.refs?F._f.refs.every(L=>!qy(L)):!qy(F._f.ref))&&je(O)}l.unMount=new Set},P=(O,F)=>!t.disabled&&(O&&F&&xt(i,O,F),!_o(ee(),s)),k=(O,F,L)=>eM(O,l,{...a.mount?i:Yt(F)?s:Ms(O)?{[O]:F}:F},L,F),H=O=>gv(ae(a.mount?i:s,O,t.shouldUnregister?ae(s,O,[]):[])),le=(O,F,L={})=>{const B=ae(r,O);let G=F;if(B){const K=B._f;K&&(!K.disabled&&xt(i,O,aM(F,K)),G=$p(K.ref)&&Gn(F)?"":F,sM(K.ref)?[...K.ref.options].forEach(he=>he.selected=G.includes(he.value)):K.refs?Xh(K.ref)?K.refs.length>1?K.refs.forEach(he=>(!he.defaultChecked||!he.disabled)&&(he.checked=Array.isArray(G)?!!G.find(Te=>Te===he.value):G===he.value)):K.refs[0]&&(K.refs[0].checked=!!G):K.refs.forEach(he=>he.checked=he.value===G):Mb(K.ref)?K.ref.value="":(K.ref.value=G,K.ref.type||f.values.next({name:O,values:{...i}})))}(L.shouldDirty||L.shouldTouch)&&V(O,G,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&re(O)},ne=(O,F,L)=>{for(const B in F){const G=F[B],K=`${O}.${B}`,he=ae(r,K);(l.array.has(O)||tn(G)||he&&!he._f)&&!Ma(G)?ne(K,G,L):le(K,G,L)}},q=(O,F,L={})=>{const B=ae(r,O),G=l.array.has(O),K=rr(F);xt(i,O,K),G?(f.array.next({name:O,values:{...i}}),(d.isDirty||d.dirtyFields)&&L.shouldDirty&&f.state.next({name:O,dirtyFields:Vu(s,i),isDirty:P(O,K)})):B&&!B._f&&!Gn(K)?ne(O,K,L):le(O,K,L),GT(O,l)&&f.state.next({...n}),f.values.next({name:a.mount?O:void 0,values:{...i}})},M=async O=>{a.mount=!0;const F=O.target;let L=F.name,B=!0;const G=ae(r,L),K=()=>F.type?Ky(G._f):KD(O),he=Te=>{B=Number.isNaN(Te)||Ma(Te)&&isNaN(Te.getTime())||_o(Te,ae(i,L,Te))};if(G){let Te,Le;const Ve=K(),zn=O.type===Fp.BLUR||O.type===Fp.FOCUS_OUT,Kr=!wZ(G._f)&&!e.resolver&&!ae(n.errors,L)&&!G._f.deps||_Z(zn,ae(n.touchedFields,L),n.isSubmitted,g,m),li=GT(L,l,zn);xt(i,L,Ve),zn?(G._f.onBlur&&G._f.onBlur(O),c&&c(0)):G._f.onChange&&G._f.onChange(O);const ba=V(L,Ve,zn,!1),Es=!sr(ba)||li;if(!zn&&f.values.next({name:L,type:O.type,values:{...i}}),Kr)return d.isValid&&(t.mode==="onBlur"?zn&&x():x()),Es&&f.state.next({name:L,...li?{}:ba});if(!zn&&li&&f.state.next({...n}),e.resolver){const{errors:Xi}=await j([L]);if(he(Ve),B){const bl=tC(n.errors,r,L),Ns=tC(Xi,r,bl.name||L);Te=Ns.error,L=Ns.name,Le=sr(Xi)}}else b([L],!0),Te=(await JT(G,i,_,e.shouldUseNativeValidation))[L],b([L]),he(Ve),B&&(Te?Le=!1:d.isValid&&(Le=await R(r,!0)));B&&(G._f.deps&&re(G._f.deps),T(L,Le,Te,ba))}},U=(O,F)=>{if(ae(n.errors,F)&&O.focus)return O.focus(),1},re=async(O,F={})=>{let L,B;const G=wd(O);if(e.resolver){const K=await C(Yt(O)?O:G);L=sr(K),B=O?!G.some(he=>ae(K,he)):L}else O?(B=(await Promise.all(G.map(async K=>{const he=ae(r,K);return await R(he&&he._f?{[K]:he}:he)}))).every(Boolean),!(!B&&!n.isValid)&&x()):B=L=await R(r);return f.state.next({...!Ms(O)||d.isValid&&L!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:L}:{},errors:n.errors}),F.shouldFocus&&!B&&_d(r,U,O?G:l.mount),B},ee=O=>{const F={...a.mount?i:s};return Yt(O)?F:Ms(O)?ae(F,O):O.map(L=>ae(F,L))},ce=(O,F)=>({invalid:!!ae((F||n).errors,O),isDirty:!!ae((F||n).dirtyFields,O),error:ae((F||n).errors,O),isValidating:!!ae(n.validatingFields,O),isTouched:!!ae((F||n).touchedFields,O)}),ge=O=>{O&&wd(O).forEach(F=>sn(n.errors,F)),f.state.next({errors:O?n.errors:{}})},Ue=(O,F,L)=>{const B=(ae(r,O,{_f:{}})._f||{}).ref,G=ae(n.errors,O)||{},{ref:K,message:he,type:Te,...Le}=G;xt(n.errors,O,{...Le,...F,ref:B}),f.state.next({name:O,errors:n.errors,isValid:!1}),L&&L.shouldFocus&&B&&B.focus&&B.focus()},gt=(O,F)=>Ti(O)?f.values.subscribe({next:L=>O(k(void 0,F),L)}):k(O,F,!0),je=(O,F={})=>{for(const L of O?wd(O):l.mount)l.mount.delete(L),l.array.delete(L),F.keepValue||(sn(r,L),sn(i,L)),!F.keepError&&sn(n.errors,L),!F.keepDirty&&sn(n.dirtyFields,L),!F.keepTouched&&sn(n.touchedFields,L),!F.keepIsValidating&&sn(n.validatingFields,L),!e.shouldUnregister&&!F.keepDefaultValue&&sn(s,L);f.values.next({values:{...i}}),f.state.next({...n,...F.keepDirty?{isDirty:P()}:{}}),!F.keepIsValid&&x()},de=({disabled:O,name:F,field:L,fields:B,value:G})=>{if(Ar(O)&&a.mount||O){const K=O?void 0:Yt(G)?Ky(L?L._f:ae(B,F)._f):G;xt(i,F,K),V(F,K,!1,!1,!0)}},Fe=(O,F={})=>{let L=ae(r,O);const B=Ar(F.disabled)||Ar(t.disabled);return xt(r,O,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:O}},name:O,mount:!0,...F}}),l.mount.add(O),L?de({field:L,disabled:Ar(F.disabled)?F.disabled:t.disabled,name:O,value:F.value}):A(O,!0,F.value),{...B?{disabled:F.disabled||t.disabled}:{},...e.progressive?{required:!!F.required,min:Fu(F.min),max:Fu(F.max),minLength:Fu(F.minLength),maxLength:Fu(F.maxLength),pattern:Fu(F.pattern)}:{},name:O,onChange:M,onBlur:M,ref:G=>{if(G){Fe(O,F),L=ae(r,O);const K=Yt(G.value)&&G.querySelectorAll&&G.querySelectorAll("input,select,textarea")[0]||G,he=vZ(K),Te=L._f.refs||[];if(he?Te.find(Le=>Le===K):K===L._f.ref)return;xt(r,O,{_f:{...L._f,...he?{refs:[...Te.filter(qy),K,...Array.isArray(ae(s,O))?[{}]:[]],ref:{type:K.type,name:O}}:{ref:K}}}),A(O,!1,void 0,K)}else L=ae(r,O,{}),L._f&&(L._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(GD(l.array,O)&&a.action)&&l.unMount.add(O)}}},Ye=()=>e.shouldFocusError&&_d(r,U,l.mount),Me=O=>{Ar(O)&&(f.state.next({disabled:O}),_d(r,(F,L)=>{const B=ae(r,L);B&&(F.disabled=B._f.disabled||O,Array.isArray(B._f.refs)&&B._f.refs.forEach(G=>{G.disabled=B._f.disabled||O}))},0,!1))},He=(O,F)=>async L=>{let B;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let G=rr(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:he}=await j();n.errors=K,G=he}else await R(r);if(sn(n.errors,"root"),sr(n.errors)){f.state.next({errors:{}});try{await O(G,L)}catch(K){B=K}}else F&&await F({...n.errors},L),Ye(),setTimeout(Ye);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sr(n.errors)&&!B,submitCount:n.submitCount+1,errors:n.errors}),B)throw B},qe=(O,F={})=>{ae(r,O)&&(Yt(F.defaultValue)?q(O,rr(ae(s,O))):(q(O,F.defaultValue),xt(s,O,rr(F.defaultValue))),F.keepTouched||sn(n.touchedFields,O),F.keepDirty||(sn(n.dirtyFields,O),n.isDirty=F.defaultValue?P(O,rr(ae(s,O))):P()),F.keepError||(sn(n.errors,O),d.isValid&&x()),f.state.next({...n}))},Ot=(O,F={})=>{const L=O?rr(O):s,B=rr(L),G=sr(O),K=G?s:B;if(F.keepDefaultValues||(s=L),!F.keepValues){if(F.keepDirtyValues){const he=new Set([...l.mount,...Object.keys(Vu(s,i))]);for(const Te of Array.from(he))ae(n.dirtyFields,Te)?xt(K,Te,ae(i,Te)):q(Te,ae(K,Te))}else{if(Pb&&Yt(O))for(const he of l.mount){const Te=ae(r,he);if(Te&&Te._f){const Le=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if($p(Le)){const Ve=Le.closest("form");if(Ve){Ve.reset();break}}}}r={}}i=t.shouldUnregister?F.keepDefaultValues?rr(s):{}:rr(K),f.array.next({values:{...K}}),f.values.next({values:{...K}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!F.keepIsValid||!!F.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:G?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!_o(O,s)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:G?{}:F.keepDirtyValues?F.keepDefaultValues&&i?Vu(s,i):n.dirtyFields:F.keepDefaultValues&&O?Vu(s,O):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ht=(O,F)=>Ot(Ti(O)?O(i):O,F);return{control:{register:Fe,unregister:je,getFieldState:ce,handleSubmit:He,setError:Ue,_executeSchema:j,_getWatch:k,_getDirty:P,_updateValid:x,_removeUnmounted:D,_updateFieldArray:w,_updateDisabledField:de,_getFieldArray:H,_reset:Ot,_resetDefaultValues:()=>Ti(e.defaultValues)&&e.defaultValues().then(O=>{Ht(O,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:O=>{n={...n,...O}},_disableForm:Me,_subjects:f,_proxyFormState:d,_setErrors:S,get _fields(){return r},get _formValues(){return i},get _state(){return a},set _state(O){a=O},get _defaultValues(){return s},get _names(){return l},set _names(O){l=O},get _formState(){return n},set _formState(O){n=O},get _options(){return e},set _options(O){e={...e,...O}}},trigger:re,register:Fe,handleSubmit:He,watch:gt,setValue:q,getValues:ee,reset:Ht,resetField:qe,clearErrors:ge,unregister:je,setError:Ue,setFocus:(O,F={})=>{const L=ae(r,O),B=L&&L._f;if(B){const G=B.refs?B.refs[0]:B.ref;G.focus&&(G.focus(),F.shouldSelect&&G.select())}},getFieldState:ce}}function ai(t={}){const e=Y.useRef(),n=Y.useRef(),[r,s]=Y.useState({isDirty:!1,isValidating:!1,isLoading:Ti(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ti(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...NZ(t),formState:r});const i=e.current.control;return i._options=t,Db({subject:i._subjects.state,next:a=>{XD(a,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Y.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Y.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==r.isDirty&&i._subjects.state.next({isDirty:a})}},[i,r.isDirty]),Y.useEffect(()=>{t.values&&!_o(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(a=>({...a}))):i._resetDefaultValues()},[t.values,i]),Y.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Y.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Y.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Y.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=ZD(r,i),e.current}const nC=(t,e,n)=>{if(t&&"reportValidity"in t){const r=ae(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},lM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?nC(r.ref,n,t):r.refs&&r.refs.forEach(s=>nC(s,n,t))}},jZ=(t,e)=>{e.shouldUseNativeValidation&&lM(t,e);const n={};for(const r in t){const s=ae(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(TZ(e.names||Object.keys(t),r)){const a=Object.assign({},ae(n,r));xt(a,"root",i),xt(n,r,a)}else xt(n,r,i)}return n},TZ=(t,e)=>t.some(n=>n.startsWith(e+"."));var CZ=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=n[a].types,u=c&&c[r.code];n[a]=tM(a,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},ya=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&lM({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(a){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(a))return{values:{},errors:jZ(CZ(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},ut;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(ut||(ut={}));var qw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(qw||(qw={}));const fe=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bo=t=>{switch(typeof t){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return isNaN(t)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(t)?fe.array:t===null?fe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?fe.promise:typeof Map<"u"&&t instanceof Map?fe.map:typeof Set<"u"&&t instanceof Set?fe.set:typeof Date<"u"&&t instanceof Date?fe.date:fe.object;default:return fe.unknown}},te=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),SZ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Cr extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(a))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof Cr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Cr.create=t=>new Cr(t);const Bc=(t,e)=>{let n;switch(t.code){case te.invalid_type:t.received===fe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case te.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ut.jsonStringifyReplacer)}`;break;case te.unrecognized_keys:n=`Unrecognized key(s) in object: ${ut.joinValues(t.keys,", ")}`;break;case te.invalid_union:n="Invalid input";break;case te.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ut.joinValues(t.options)}`;break;case te.invalid_enum_value:n=`Invalid enum value. Expected ${ut.joinValues(t.options)}, received '${t.received}'`;break;case te.invalid_arguments:n="Invalid function arguments";break;case te.invalid_return_type:n="Invalid function return type";break;case te.invalid_date:n="Invalid date";break;case te.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ut.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case te.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case te.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case te.custom:n="Invalid input";break;case te.invalid_intersection_types:n="Intersection results could not be merged";break;case te.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case te.not_finite:n="Number must be finite";break;default:n=e.defaultError,ut.assertNever(t)}return{message:n}};let cM=Bc;function IZ(t){cM=t}function zp(){return cM}const Wp=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}},kZ=[];function ue(t,e){const n=zp(),r=Wp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Bc?void 0:Bc].filter(s=>!!s)});t.common.issues.push(r)}class Un{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return Pe;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Un.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Pe;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const Pe=Object.freeze({status:"aborted"}),Xl=t=>({status:"dirty",value:t}),Xn=t=>({status:"valid",value:t}),Kw=t=>t.status==="aborted",Gw=t=>t.status==="dirty",sh=t=>t.status==="valid",ih=t=>typeof Promise<"u"&&t instanceof Promise;function Hp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function uM(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(xe||(xe={}));var ed,td;class Js{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rC=(t,e)=>{if(sh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Cr(t.common.issues);return this._error=n,this._error}}};function $e(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{var c,u;const{message:d}=t;return a.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Ge{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return bo(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:bo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Un,ctx:{common:e.parent.common,data:e.data,parsedType:bo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ih(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bo(e)},i=this._parseSync({data:e,path:s.path,parent:s});return rC(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bo(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(ih(s)?s:Promise.resolve(s));return rC(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),l=()=>i.addIssue({code:te.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new gs({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return zs.create(this,this._def)}nullable(){return aa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this,this._def)}promise(){return Wc.create(this,this._def)}or(e){return ch.create([this,e],this._def)}and(e){return uh.create(this,e,this._def)}transform(e){return new gs({...$e(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ph({...$e(this._def),innerType:this,defaultValue:n,typeName:Ie.ZodDefault})}brand(){return new Lb({typeName:Ie.ZodBranded,type:this,...$e(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new gh({...$e(this._def),innerType:this,catchValue:n,typeName:Ie.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Jh.create(this,e)}readonly(){return vh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const RZ=/^c[^\s-]{8,}$/i,PZ=/^[0-9a-z]+$/,AZ=/^[0-9A-HJKMNP-TV-Z]{26}$/,DZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,MZ=/^[a-z0-9_-]{21}$/i,OZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,LZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,VZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gy;const FZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$Z=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,UZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BZ=new RegExp(`^${dM}$`);function hM(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function zZ(t){return new RegExp(`^${hM(t)}$`)}function fM(t){let e=`${dM}T${hM(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function WZ(t,e){return!!((e==="v4"||!e)&&FZ.test(t)||(e==="v6"||!e)&&$Z.test(t))}class is extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==fe.string){const i=this._getOrReturnCtx(e);return ue(i,{code:te.invalid_type,expected:fe.string,received:i.parsedType}),Pe}const r=new Un;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?ue(s,{code:te.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ue(s,{code:te.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")LZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"email",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Gy||(Gy=new RegExp(VZ,"u")),Gy.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"emoji",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")DZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"uuid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")MZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"nanoid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")RZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")PZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"cuid2",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")AZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ulid",code:te.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ue(s,{validation:"url",code:te.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"regex",code:te.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?fM(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?BZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?zZ(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{code:te.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?OZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"duration",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?WZ(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"ip",code:te.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?UZ.test(e.data)||(s=this._getOrReturnCtx(e,s),ue(s,{validation:"base64",code:te.invalid_string,message:i.message}),r.dirty()):ut.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:te.invalid_string,...xe.errToObj(r)})}_addCheck(e){return new is({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...xe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...xe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...xe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...xe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...xe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...xe.errToObj(n)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new is({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new is({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new is({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}is.create=t=>{var e;return new is({checks:[],typeName:Ie.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...$e(t)})};function HZ(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}class sa extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==fe.number){const i=this._getOrReturnCtx(e);return ue(i,{code:te.invalid_type,expected:fe.number,received:i.parsedType}),Pe}let r;const s=new Un;for(const i of this._def.checks)i.kind==="int"?ut.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:te.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?HZ(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ue(r,{code:te.not_finite,message:i.message}),s.dirty()):ut.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new sa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new sa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ut.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}sa.create=t=>new sa({checks:[],typeName:Ie.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class ia extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==fe.bigint){const i=this._getOrReturnCtx(e);return ue(i,{code:te.invalid_type,expected:fe.bigint,received:i.parsedType}),Pe}let r;const s=new Un;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ue(r,{code:te.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ut.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,xe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,xe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,xe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,xe.toString(n))}setLimit(e,n,r,s){return new ia({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:xe.toString(s)}]})}_addCheck(e){return new ia({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ia.create=t=>{var e;return new ia({checks:[],typeName:Ie.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...$e(t)})};class oh extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==fe.boolean){const r=this._getOrReturnCtx(e);return ue(r,{code:te.invalid_type,expected:fe.boolean,received:r.parsedType}),Pe}return Xn(e.data)}}oh.create=t=>new oh({typeName:Ie.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$e(t)});class rl extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==fe.date){const i=this._getOrReturnCtx(e);return ue(i,{code:te.invalid_type,expected:fe.date,received:i.parsedType}),Pe}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ue(i,{code:te.invalid_date}),Pe}const r=new Un;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:te.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ue(s,{code:te.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):ut.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}rl.create=t=>new rl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ie.ZodDate,...$e(t)});class qp extends Ge{_parse(e){if(this._getType(e)!==fe.symbol){const r=this._getOrReturnCtx(e);return ue(r,{code:te.invalid_type,expected:fe.symbol,received:r.parsedType}),Pe}return Xn(e.data)}}qp.create=t=>new qp({typeName:Ie.ZodSymbol,...$e(t)});class ah extends Ge{_parse(e){if(this._getType(e)!==fe.undefined){const r=this._getOrReturnCtx(e);return ue(r,{code:te.invalid_type,expected:fe.undefined,received:r.parsedType}),Pe}return Xn(e.data)}}ah.create=t=>new ah({typeName:Ie.ZodUndefined,...$e(t)});class lh extends Ge{_parse(e){if(this._getType(e)!==fe.null){const r=this._getOrReturnCtx(e);return ue(r,{code:te.invalid_type,expected:fe.null,received:r.parsedType}),Pe}return Xn(e.data)}}lh.create=t=>new lh({typeName:Ie.ZodNull,...$e(t)});class zc extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return Xn(e.data)}}zc.create=t=>new zc({typeName:Ie.ZodAny,...$e(t)});class Ba extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Xn(e.data)}}Ba.create=t=>new Ba({typeName:Ie.ZodUnknown,...$e(t)});class Bi extends Ge{_parse(e){const n=this._getOrReturnCtx(e);return ue(n,{code:te.invalid_type,expected:fe.never,received:n.parsedType}),Pe}}Bi.create=t=>new Bi({typeName:Ie.ZodNever,...$e(t)});class Kp extends Ge{_parse(e){if(this._getType(e)!==fe.undefined){const r=this._getOrReturnCtx(e);return ue(r,{code:te.invalid_type,expected:fe.void,received:r.parsedType}),Pe}return Xn(e.data)}}Kp.create=t=>new Kp({typeName:Ie.ZodVoid,...$e(t)});class us extends Ge{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==fe.array)return ue(n,{code:te.invalid_type,expected:fe.array,received:n.parsedType}),Pe;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(ue(n,{code:a?te.too_big:te.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ue(n,{code:te.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ue(n,{code:te.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new Js(n,a,n.path,l)))).then(a=>Un.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new Js(n,a,n.path,l)));return Un.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new us({...this._def,minLength:{value:e,message:xe.toString(n)}})}max(e,n){return new us({...this._def,maxLength:{value:e,message:xe.toString(n)}})}length(e,n){return new us({...this._def,exactLength:{value:e,message:xe.toString(n)}})}nonempty(e){return this.min(1,e)}}us.create=(t,e)=>new us({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...$e(e)});function Vl(t){if(t instanceof Ft){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=zs.create(Vl(r))}return new Ft({...t._def,shape:()=>e})}else return t instanceof us?new us({...t._def,type:Vl(t.element)}):t instanceof zs?zs.create(Vl(t.unwrap())):t instanceof aa?aa.create(Vl(t.unwrap())):t instanceof ei?ei.create(t.items.map(e=>Vl(e))):t}class Ft extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ut.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==fe.object){const u=this._getOrReturnCtx(e);return ue(u,{code:te.invalid_type,expected:fe.object,received:u.parsedType}),Pe}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Bi&&this._def.unknownKeys==="strip"))for(const u in s.data)a.includes(u)||l.push(u);const c=[];for(const u of a){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Js(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Bi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ue(s,{code:te.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Js(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Un.mergeObjectSync(r,u)):Un.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new Ft({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,a,l;const c=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=xe.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ft({...this._def,unknownKeys:"strip"})}passthrough(){return new Ft({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ft({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ft({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ft({...this._def,catchall:e})}pick(e){const n={};return ut.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}omit(e){const n={};return ut.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ft({...this._def,shape:()=>n})}deepPartial(){return Vl(this)}partial(e){const n={};return ut.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Ft({...this._def,shape:()=>n})}required(e){const n={};return ut.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof zs;)i=i._def.innerType;n[r]=i}}),new Ft({...this._def,shape:()=>n})}keyof(){return mM(ut.objectKeys(this.shape))}}Ft.create=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strip",catchall:Bi.create(),typeName:Ie.ZodObject,...$e(e)});Ft.strictCreate=(t,e)=>new Ft({shape:()=>t,unknownKeys:"strict",catchall:Bi.create(),typeName:Ie.ZodObject,...$e(e)});Ft.lazycreate=(t,e)=>new Ft({shape:t,unknownKeys:"strip",catchall:Bi.create(),typeName:Ie.ZodObject,...$e(e)});class ch extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new Cr(l.ctx.common.issues));return ue(n,{code:te.invalid_union,unionErrors:a}),Pe}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(c=>new Cr(c));return ue(n,{code:te.invalid_union,unionErrors:l}),Pe}}get options(){return this._def.options}}ch.create=(t,e)=>new ch({options:t,typeName:Ie.ZodUnion,...$e(e)});const gi=t=>t instanceof hh?gi(t.schema):t instanceof gs?gi(t.innerType()):t instanceof fh?[t.value]:t instanceof oa?t.options:t instanceof mh?ut.objectValues(t.enum):t instanceof ph?gi(t._def.innerType):t instanceof ah?[void 0]:t instanceof lh?[null]:t instanceof zs?[void 0,...gi(t.unwrap())]:t instanceof aa?[null,...gi(t.unwrap())]:t instanceof Lb||t instanceof vh?gi(t.unwrap()):t instanceof gh?gi(t._def.innerType):[];class yv extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.object)return ue(n,{code:te.invalid_type,expected:fe.object,received:n.parsedType}),Pe;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ue(n,{code:te.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Pe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=gi(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new yv({typeName:Ie.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...$e(r)})}}function Yw(t,e){const n=bo(t),r=bo(e);if(t===e)return{valid:!0,data:t};if(n===fe.object&&r===fe.object){const s=ut.objectKeys(e),i=ut.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const c=Yw(t[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(n===fe.array&&r===fe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],c=Yw(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===fe.date&&r===fe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class uh extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(Kw(i)||Kw(a))return Pe;const l=Yw(i.value,a.value);return l.valid?((Gw(i)||Gw(a))&&n.dirty(),{status:n.value,value:l.data}):(ue(r,{code:te.invalid_intersection_types}),Pe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}uh.create=(t,e,n)=>new uh({left:t,right:e,typeName:Ie.ZodIntersection,...$e(n)});class ei extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.array)return ue(r,{code:te.invalid_type,expected:fe.array,received:r.parsedType}),Pe;if(r.data.length<this._def.items.length)return ue(r,{code:te.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&r.data.length>this._def.items.length&&(ue(r,{code:te.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Js(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Un.mergeArray(n,a)):Un.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ei({...this._def,rest:e})}}ei.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ei({items:t,typeName:Ie.ZodTuple,rest:null,...$e(e)})};class dh extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.object)return ue(r,{code:te.invalid_type,expected:fe.object,received:r.parsedType}),Pe;const s=[],i=this._def.keyType,a=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new Js(r,l,r.path,l)),value:a._parse(new Js(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Un.mergeObjectAsync(n,s):Un.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ge?new dh({keyType:e,valueType:n,typeName:Ie.ZodRecord,...$e(r)}):new dh({keyType:is.create(),valueType:e,typeName:Ie.ZodRecord,...$e(n)})}}class Gp extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.map)return ue(r,{code:te.invalid_type,expected:fe.map,received:r.parsedType}),Pe;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Js(r,l,r.path,[u,"key"])),value:i._parse(new Js(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Pe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of a){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Pe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Gp.create=(t,e,n)=>new Gp({valueType:e,keyType:t,typeName:Ie.ZodMap,...$e(n)});class sl extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==fe.set)return ue(r,{code:te.invalid_type,expected:fe.set,received:r.parsedType}),Pe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ue(r,{code:te.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ue(r,{code:te.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Pe;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Js(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,n){return new sl({...this._def,minSize:{value:e,message:xe.toString(n)}})}max(e,n){return new sl({...this._def,maxSize:{value:e,message:xe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}sl.create=(t,e)=>new sl({valueType:t,minSize:null,maxSize:null,typeName:Ie.ZodSet,...$e(e)});class hc extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.function)return ue(n,{code:te.invalid_type,expected:fe.function,received:n.parsedType}),Pe;function r(l,c){return Wp({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zp(),Bc].filter(u=>!!u),issueData:{code:te.invalid_arguments,argumentsError:c}})}function s(l,c){return Wp({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zp(),Bc].filter(u=>!!u),issueData:{code:te.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Wc){const l=this;return Xn(async function(...c){const u=new Cr([]),d=await l._def.args.parseAsync(c,i).catch(g=>{throw u.addIssue(r(c,g)),u}),f=await Reflect.apply(a,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(g=>{throw u.addIssue(s(f,g)),u})})}else{const l=this;return Xn(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new Cr([r(c,u.error)]);const d=Reflect.apply(a,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new Cr([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new hc({...this._def,args:ei.create(e).rest(Ba.create())})}returns(e){return new hc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new hc({args:e||ei.create([]).rest(Ba.create()),returns:n||Ba.create(),typeName:Ie.ZodFunction,...$e(r)})}}class hh extends Ge{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}hh.create=(t,e)=>new hh({getter:t,typeName:Ie.ZodLazy,...$e(e)});class fh extends Ge{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ue(n,{received:n.data,code:te.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:e.data}}get value(){return this._def.value}}fh.create=(t,e)=>new fh({value:t,typeName:Ie.ZodLiteral,...$e(e)});function mM(t,e){return new oa({values:t,typeName:Ie.ZodEnum,...$e(e)})}class oa extends Ge{constructor(){super(...arguments),ed.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ue(n,{expected:ut.joinValues(r),received:n.parsedType,code:te.invalid_type}),Pe}if(Hp(this,ed)||uM(this,ed,new Set(this._def.values)),!Hp(this,ed).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ue(n,{received:n.data,code:te.invalid_enum_value,options:r}),Pe}return Xn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return oa.create(e,{...this._def,...n})}exclude(e,n=this._def){return oa.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ed=new WeakMap;oa.create=mM;class mh extends Ge{constructor(){super(...arguments),td.set(this,void 0)}_parse(e){const n=ut.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==fe.string&&r.parsedType!==fe.number){const s=ut.objectValues(n);return ue(r,{expected:ut.joinValues(s),received:r.parsedType,code:te.invalid_type}),Pe}if(Hp(this,td)||uM(this,td,new Set(ut.getValidEnumValues(this._def.values))),!Hp(this,td).has(e.data)){const s=ut.objectValues(n);return ue(r,{received:r.data,code:te.invalid_enum_value,options:s}),Pe}return Xn(e.data)}get enum(){return this._def.values}}td=new WeakMap;mh.create=(t,e)=>new mh({values:t,typeName:Ie.ZodNativeEnum,...$e(e)});class Wc extends Ge{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==fe.promise&&n.common.async===!1)return ue(n,{code:te.invalid_type,expected:fe.promise,received:n.parsedType}),Pe;const r=n.parsedType===fe.promise?n.data:Promise.resolve(n.data);return Xn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Wc.create=(t,e)=>new Wc({type:t,typeName:Ie.ZodPromise,...$e(e)});class gs extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{ue(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return Pe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Pe:c.status==="dirty"||n.value==="dirty"?Xl(c.value):c});{if(n.value==="aborted")return Pe;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?Pe:l.status==="dirty"||n.value==="dirty"?Xl(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Pe:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Pe:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!sh(a))return a;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>sh(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):a);ut.assertNever(s)}}gs.create=(t,e,n)=>new gs({schema:t,typeName:Ie.ZodEffects,effect:e,...$e(n)});gs.createWithPreprocess=(t,e,n)=>new gs({schema:e,effect:{type:"preprocess",transform:t},typeName:Ie.ZodEffects,...$e(n)});class zs extends Ge{_parse(e){return this._getType(e)===fe.undefined?Xn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zs.create=(t,e)=>new zs({innerType:t,typeName:Ie.ZodOptional,...$e(e)});class aa extends Ge{_parse(e){return this._getType(e)===fe.null?Xn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}aa.create=(t,e)=>new aa({innerType:t,typeName:Ie.ZodNullable,...$e(e)});class ph extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ph.create=(t,e)=>new ph({innerType:t,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$e(e)});class gh extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ih(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cr(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}gh.create=(t,e)=>new gh({innerType:t,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$e(e)});class Yp extends Ge{_parse(e){if(this._getType(e)!==fe.nan){const r=this._getOrReturnCtx(e);return ue(r,{code:te.invalid_type,expected:fe.nan,received:r.parsedType}),Pe}return{status:"valid",value:e.data}}}Yp.create=t=>new Yp({typeName:Ie.ZodNaN,...$e(t)});const qZ=Symbol("zod_brand");class Lb extends Ge{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Jh extends Ge{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Pe:i.status==="dirty"?(n.dirty(),Xl(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Pe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Jh({in:e,out:n,typeName:Ie.ZodPipeline})}}class vh extends Ge{_parse(e){const n=this._def.innerType._parse(e),r=s=>(sh(s)&&(s.value=Object.freeze(s.value)),s);return ih(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}vh.create=(t,e)=>new vh({innerType:t,typeName:Ie.ZodReadonly,...$e(e)});function pM(t,e={},n){return t?zc.create().superRefine((r,s)=>{var i,a;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(a=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):zc.create()}const KZ={object:Ft.lazycreate};var Ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const GZ=(t,e={message:`Input not instance of ${t.name}`})=>pM(n=>n instanceof t,e),St=is.create,yh=sa.create,YZ=Yp.create,QZ=ia.create,xh=oh.create,il=rl.create,ZZ=qp.create,XZ=ah.create,JZ=lh.create,eX=zc.create,tX=Ba.create,nX=Bi.create,rX=Kp.create,Vb=us.create,fu=Ft.create,sX=Ft.strictCreate,iX=ch.create,oX=yv.create,aX=uh.create,lX=ei.create,cX=dh.create,uX=Gp.create,dX=sl.create,hX=hc.create,fX=hh.create,mX=fh.create,Fb=oa.create,pX=mh.create,gX=Wc.create,sC=gs.create,vX=zs.create,yX=aa.create,xX=gs.createWithPreprocess,wX=Jh.create,_X=()=>St().optional(),bX=()=>yh().optional(),EX=()=>xh().optional(),$b={string:t=>is.create({...t,coerce:!0}),number:t=>sa.create({...t,coerce:!0}),boolean:t=>oh.create({...t,coerce:!0}),bigint:t=>ia.create({...t,coerce:!0}),date:t=>rl.create({...t,coerce:!0})},NX=Pe;var Dn=Object.freeze({__proto__:null,defaultErrorMap:Bc,setErrorMap:IZ,getErrorMap:zp,makeIssue:Wp,EMPTY_PATH:kZ,addIssueToContext:ue,ParseStatus:Un,INVALID:Pe,DIRTY:Xl,OK:Xn,isAborted:Kw,isDirty:Gw,isValid:sh,isAsync:ih,get util(){return ut},get objectUtil(){return qw},ZodParsedType:fe,getParsedType:bo,ZodType:Ge,datetimeRegex:fM,ZodString:is,ZodNumber:sa,ZodBigInt:ia,ZodBoolean:oh,ZodDate:rl,ZodSymbol:qp,ZodUndefined:ah,ZodNull:lh,ZodAny:zc,ZodUnknown:Ba,ZodNever:Bi,ZodVoid:Kp,ZodArray:us,ZodObject:Ft,ZodUnion:ch,ZodDiscriminatedUnion:yv,ZodIntersection:uh,ZodTuple:ei,ZodRecord:dh,ZodMap:Gp,ZodSet:sl,ZodFunction:hc,ZodLazy:hh,ZodLiteral:fh,ZodEnum:oa,ZodNativeEnum:mh,ZodPromise:Wc,ZodEffects:gs,ZodTransformer:gs,ZodOptional:zs,ZodNullable:aa,ZodDefault:ph,ZodCatch:gh,ZodNaN:Yp,BRAND:qZ,ZodBranded:Lb,ZodPipeline:Jh,ZodReadonly:vh,custom:pM,Schema:Ge,ZodSchema:Ge,late:KZ,get ZodFirstPartyTypeKind(){return Ie},coerce:$b,any:eX,array:Vb,bigint:QZ,boolean:xh,date:il,discriminatedUnion:oX,effect:sC,enum:Fb,function:hX,instanceof:GZ,intersection:aX,lazy:fX,literal:mX,map:uX,nan:YZ,nativeEnum:pX,never:nX,null:JZ,nullable:yX,number:yh,object:fu,oboolean:EX,onumber:bX,optional:vX,ostring:_X,pipeline:wX,preprocess:xX,promise:gX,record:cX,set:dX,strictObject:sX,string:St,symbol:ZZ,transformer:sC,tuple:lX,undefined:XZ,union:iX,unknown:tX,void:rX,NEVER:NX,ZodIssueCode:te,quotelessJson:SZ,ZodError:Cr}),jX="Label",gM=p.forwardRef((t,e)=>o.jsx(ke.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gM.displayName=jX;var vM=gM;const TX=kh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=p.forwardRef(({className:t,...e},n)=>o.jsx(vM,{ref:n,className:ie(TX(),t),...e}));ze.displayName=vM.displayName;const mu=cZ,yM=p.createContext({}),st=({...t})=>o.jsx(yM.Provider,{value:{name:t.name},children:o.jsx(fZ,{...t})}),xv=()=>{const t=p.useContext(yM),e=p.useContext(xM),{getFieldState:n,formState:r}=vv(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},xM=p.createContext({}),et=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return o.jsx(xM.Provider,{value:{id:r},children:o.jsx("div",{ref:n,className:ie("space-y-2",t),...e})})});et.displayName="FormItem";const Je=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=xv();return o.jsx(ze,{ref:n,className:ie(r&&"text-destructive",t),htmlFor:s,...e})});Je.displayName="FormLabel";const tt=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=xv();return o.jsx(qs,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});tt.displayName="FormControl";const wh=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=xv();return o.jsx("p",{ref:n,id:r,className:ie("text-sm text-muted-foreground",t),...e})});wh.displayName="FormDescription";const at=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=xv(),a=s?String(s==null?void 0:s.message):e;return a?o.jsx("p",{ref:r,id:i,className:ie("text-sm font-medium text-destructive",t),...n,children:a}):null});at.displayName="FormMessage";const CX=fu({make:St().min(1,"Make is required"),model:St().min(1,"Model is required"),year:St().refine(t=>!isNaN(Number(t))&&Number(t)>=1900&&Number(t)<=new Date().getFullYear()+1,{message:"Year must be a valid year"}),licensePlate:St().min(1,"License plate is required"),color:St().min(1,"Color is required"),vin:St().optional(),purchaseDate:St().optional(),purchasePrice:St().optional(),imageUrl:St().optional()}),wM=({onSubmit:t,initialData:e,buttonText:n="Add Vehicle"})=>{var d;const[r,s]=p.useState((e==null?void 0:e.imageUrl)||null),[i,a]=p.useState(null),l=ai({resolver:ya(CX),defaultValues:e?{...e,year:e.year.toString(),purchasePrice:(d=e.purchasePrice)==null?void 0:d.toString(),purchaseDate:e.purchaseDate||"",vin:e.vin||"",imageUrl:e.imageUrl||""}:{make:"",model:"",year:new Date().getFullYear().toString(),licensePlate:"",color:"",vin:"",purchaseDate:"",purchasePrice:"",imageUrl:""}}),c=f=>{var g;const m=(g=f.target.files)==null?void 0:g[0];if(m){a(m);const _=URL.createObjectURL(m);s(_),l.setValue("imageUrl",_)}},u=f=>{t({make:f.make,model:f.model,year:Number(f.year),licensePlate:f.licensePlate,color:f.color,vin:f.vin||void 0,purchaseDate:f.purchaseDate||void 0,purchasePrice:f.purchasePrice?Number(f.purchasePrice):void 0,imageUrl:r||f.imageUrl||void 0}),e||(l.reset(),s(null),a(null))};return Y.useEffect(()=>()=>{r&&r.startsWith("blob:")&&URL.revokeObjectURL(r)},[r]),o.jsx(mu,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(u),className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(st,{control:l.control,name:"make",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Make"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"e.g. Yamaha , Honda",...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:l.control,name:"model",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Model"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"e.g Exciter 125 , Airblade 160",...f})}),o.jsx(at,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(st,{control:l.control,name:"year",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Year"}),o.jsx(tt,{children:o.jsx(Ee,{type:"number",min:1900,max:new Date().getFullYear()+1,...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:l.control,name:"licensePlate",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"License Plate"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"e.g. A0G1225 , AA0G-P1225",...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:l.control,name:"color",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Color"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"e.g. Blue , Red",...f})}),o.jsx(at,{})]})})]}),o.jsx(st,{control:l.control,name:"vin",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Engine Number (Optional)"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"Engine Number",...f})}),o.jsx(wh,{children:"The unique identification number of your vehicle."}),o.jsx(at,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(st,{control:l.control,name:"purchaseDate",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Purchase Date (Optional)"}),o.jsx(tt,{children:o.jsx(Ee,{type:"date",...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:l.control,name:"purchasePrice",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Purchase Price (Optional)"}),o.jsx(tt,{children:o.jsx(Ee,{type:"number",min:0,step:.01,placeholder:"e.g. 25000",...f})}),o.jsx(at,{})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Je,{children:"Vehicle Image"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"relative h-40 w-64 border-2 border-dashed border-gray-300 rounded-md flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 cursor-pointer overflow-hidden",onClick:()=>{var f;return(f=document.getElementById("vehicle-image"))==null?void 0:f.click()},children:r?o.jsxs("div",{className:"h-full w-full relative",children:[o.jsx("img",{src:r,alt:"Vehicle preview",className:"h-full w-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:o.jsx("p",{className:"text-white text-sm",children:"Change Image"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(G5,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Click to upload image"})]})}),o.jsx("input",{type:"file",id:"vehicle-image",accept:"image/*",className:"hidden",onChange:c}),i&&o.jsxs("div",{className:"text-sm text-gray-500",children:[o.jsx("p",{className:"font-medium",children:i.name}),o.jsxs("p",{children:[Math.round(i.size/1024)," KB"]})]})]}),o.jsx(wh,{children:"Upload an image of your vehicle (optional)."})]}),o.jsx(z,{type:"submit",className:"w-full bg-garage-blue hover:bg-garage-blue/90",children:n})]})})},SX=()=>{const{addVehicle:t}=Xe(),e=We(),n=r=>{t(r),setTimeout(()=>{e("/vehicles")},100)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Add New Vehicle"}),o.jsx("p",{className:"text-muted-foreground",children:"Enter the details for your new vehicle."})]}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:o.jsx(wM,{onSubmit:n})})]})},IX=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(SX,{})}),o.jsx(jt,{})]}),kX=()=>{const{id:t}=qr(),{vehicles:e,updateVehicle:n}=Xe(),r=We(),s=e.find(l=>l.id===t),i=l=>{if(!t){WI({title:"Error",description:"Vehicle ID is missing",variant:"destructive"});return}n(t,l),r(`/vehicles/${t}`)},a=()=>{r(`/vehicles/${t}`)};return s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4",children:o.jsxs(z,{variant:"ghost",className:"flex items-center text-muted-foreground mb-4",onClick:a,children:[o.jsx(bn,{className:"w-4 h-4 mr-1"}),"Back to Vehicle"]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Edit Vehicle"}),o.jsxs("p",{className:"text-muted-foreground",children:["Update the details for your ",s.year," ",s.make," ",s.model]})]}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:o.jsx(wM,{onSubmit:i,initialData:s,buttonText:"Save Changes"})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Vehicle not found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"The vehicle you're looking for doesn't exist or has been removed."}),o.jsx(z,{onClick:()=>r("/vehicles"),children:"Back to Vehicles"})]})},RX=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(kX,{})}),o.jsx(jt,{})]}),PX=()=>{const{id:t}=qr(),{vehicles:e,insurances:n,registrations:r,maintenances:s,incidents:i,deleteVehicle:a}=Xe(),l=We(),c=e.find(v=>v.id===t);if(!c||!t)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-4",children:"Vehicle Not Found"}),o.jsx("p",{className:"mb-6",children:"The vehicle you're looking for doesn't exist or has been removed."}),o.jsx(z,{onClick:()=>l("/vehicles"),children:"Back to Vehicles"})]});const u=n.filter(v=>v.vehicleId===t),d=r.filter(v=>v.vehicleId===t),f=s.filter(v=>v.vehicleId===t).sort((v,x)=>new Date(x.date).getTime()-new Date(v.date).getTime()),m=i.filter(v=>v.vehicleId===t).sort((v,x)=>new Date(x.date).getTime()-new Date(v.date).getTime()),g=f.reduce((v,x)=>v+x.cost,0),_=()=>{confirm(`Are you sure you want to remove ${c.year} ${c.make} ${c.model}?`)&&(a(t),l("/vehicles"))};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsxs(z,{variant:"ghost",onClick:()=>l("/vehicles"),className:"mr-4",children:[o.jsx(bn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-garage-blue",children:[c.year," ",c.make," ",c.model]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs(ve,{className:"md:col-span-1 h-full",children:[o.jsxs(_e,{className:"bg-garage-blue text-white",children:[o.jsx(be,{children:"Vehicle Details"}),o.jsxs(ht,{className:"text-garage-silver",children:["License: ",c.licensePlate]})]}),o.jsxs(ye,{className:"pt-6",children:[o.jsx("div",{className:"aspect-video bg-garage-silver/30 rounded-md mb-6 flex items-center justify-center overflow-hidden",children:c.imageUrl?o.jsx("img",{src:c.imageUrl,alt:`${c.make} ${c.model}`,className:"h-full w-full object-cover"}):o.jsx(gk,{className:"h-12 w-12 text-garage-blue/50"})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Color:"}),o.jsx("span",{className:"font-medium",children:c.color})]}),c.vin&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"VIN:"}),o.jsx("span",{className:"font-medium",children:c.vin})]}),c.purchaseDate&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Purchased:"}),o.jsx("span",{className:"font-medium",children:new Date(c.purchaseDate).toLocaleDateString()})]}),c.purchasePrice!==void 0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Purchase Price:"}),o.jsxs("span",{className:"font-medium",children:["$",c.purchasePrice.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Maintenance Records:"}),o.jsx("span",{className:"font-medium",children:f.length})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Maintenance Cost:"}),o.jsxs("span",{className:"font-medium",children:["$",g.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Incidents:"}),o.jsx("span",{className:"font-medium",children:m.length})]})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t flex flex-col space-y-2",children:[o.jsx(z,{variant:"outline",onClick:()=>l(`/vehicles/edit/${t}`),children:"Edit Vehicle Details"}),o.jsx(z,{variant:"destructive",onClick:_,children:"Remove Vehicle"})]})]})]}),o.jsx("div",{className:"md:col-span-2",children:o.jsxs(wl,{defaultValue:"maintenance",children:[o.jsxs(va,{className:"grid w-full grid-cols-4",children:[o.jsxs(Dt,{value:"maintenance",className:"flex flex-col items-center py-2",children:[o.jsx(Ds,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Maintenance"})]}),o.jsxs(Dt,{value:"insurance",className:"flex flex-col items-center py-2",children:[o.jsx(rs,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Insurance"})]}),o.jsxs(Dt,{value:"registration",className:"flex flex-col items-center py-2",children:[o.jsx(bi,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Registration"})]}),o.jsxs(Dt,{value:"incidents",className:"flex flex-col items-center py-2",children:[o.jsx(Er,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Incidents"})]})]}),o.jsx(ln,{value:"maintenance",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsxs("div",{children:[o.jsx(be,{children:"Maintenance History"}),o.jsxs(ht,{children:[f.length," records found"]})]}),o.jsx(z,{size:"sm",onClick:()=>l(`/maintenance/add?vehicleId=${t}`),children:"Add Record"})]}),o.jsx(ye,{children:f.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"text-left border-b",children:[o.jsx("th",{className:"pb-2",children:"Date"}),o.jsx("th",{className:"pb-2",children:"Service"}),o.jsx("th",{className:"pb-2",children:"Mileage"}),o.jsx("th",{className:"pb-2 text-right",children:"Cost"})]})}),o.jsx("tbody",{children:f.map(v=>o.jsxs("tr",{className:"border-b last:border-0",children:[o.jsx("td",{className:"py-3",children:new Date(v.date).toLocaleDateString()}),o.jsx("td",{className:"py-3",children:v.type}),o.jsxs("td",{className:"py-3",children:[v.mileage," mi"]}),o.jsxs("td",{className:"py-3 text-right",children:["$",v.cost.toFixed(2)]})]},v.id))})]})}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No maintenance records found for this vehicle."})})]})}),o.jsx(ln,{value:"insurance",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsxs("div",{children:[o.jsx(be,{children:"Insurance Information"}),o.jsx(ht,{children:"Policy details and coverage"})]}),o.jsx(z,{size:"sm",onClick:()=>l(`/insurance/add?vehicleId=${t}`),children:"Add Policy"})]}),o.jsx(ye,{children:u.length>0?o.jsx("div",{className:"space-y-4",children:u.map(v=>o.jsxs("div",{className:"border rounded-md p-4",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:v.provider}),o.jsx("span",{className:`rounded px-2 py-0.5 text-xs ${new Date(v.expiryDate)<new Date?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:new Date(v.expiryDate)<new Date?"Expired":"Active"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Policy Number:"}),o.jsx("p",{className:"font-medium",children:v.policyNumber})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Coverage:"}),o.jsx("p",{className:"font-medium",children:v.coverage})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Start Date:"}),o.jsx("p",{className:"font-medium",children:new Date(v.startDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Expiry Date:"}),o.jsx("p",{className:"font-medium",children:new Date(v.expiryDate).toLocaleDateString()})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Annual Premium:"}),o.jsxs("p",{className:"font-medium",children:["$",v.premium.toFixed(2)]})]})]})]},v.id))}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No insurance information added for this vehicle."})})]})}),o.jsx(ln,{value:"registration",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsxs("div",{children:[o.jsx(be,{children:"Registration Information"}),o.jsx(ht,{children:"Registration details and renewal dates"})]}),o.jsx(z,{size:"sm",onClick:()=>l(`/registration/add?vehicleId=${t}`),children:"Add Registration"})]}),o.jsx(ye,{children:d.length>0?o.jsx("div",{className:"space-y-4",children:d.map(v=>o.jsxs("div",{className:"border rounded-md p-4",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsxs("h3",{className:"text-lg font-medium",children:[v.state," Registration"]}),o.jsx("span",{className:`rounded px-2 py-0.5 text-xs ${new Date(v.expiryDate)<new Date?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:new Date(v.expiryDate)<new Date?"Expired":"Active"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Expiry Date:"}),o.jsx("p",{className:"font-medium",children:new Date(v.expiryDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Fee:"}),o.jsxs("p",{className:"font-medium",children:["$",v.fee.toFixed(2)]})]}),v.renewalUrl&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Renewal URL:"}),o.jsx("p",{className:"font-medium",children:o.jsx("a",{href:v.renewalUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:v.renewalUrl})})]})]})]},v.id))}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No registration information added for this vehicle."})})]})}),o.jsx(ln,{value:"incidents",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsxs("div",{children:[o.jsx(be,{children:"Incidents & Claims"}),o.jsx(ht,{children:"Accident records and insurance claims"})]}),o.jsx(z,{size:"sm",onClick:()=>l(`/incidents/add?vehicleId=${t}`),children:"Add Incident"})]}),o.jsx(ye,{children:m.length>0?o.jsx("div",{className:"space-y-4",children:m.map(v=>o.jsxs("div",{className:"border rounded-md p-4",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("h3",{className:"text-lg font-medium capitalize",children:v.type}),o.jsx("span",{children:new Date(v.date).toLocaleDateString()})]}),o.jsx("p",{className:"text-gray-600 mb-3",children:v.description}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.location&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Location:"}),o.jsx("p",{className:"font-medium",children:v.location})]}),v.cost!==void 0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Cost:"}),o.jsxs("p",{className:"font-medium",children:["$",v.cost.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Insurance Claim:"}),o.jsx("p",{className:"font-medium",children:v.insuranceClaim?"Yes":"No"})]})]})]},v.id))}):o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No incident records found for this vehicle."})})]})})]})})]})]})},AX=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(PX,{})}),o.jsx(jt,{})]}),DX=Dn.object({email:Dn.string().email({message:"Please enter a valid email address"}),password:Dn.string().min(6,{message:"Password must be at least 6 characters"})}),MX=()=>{const{login:t,resendVerification:e}=Wg(),n=We(),[r,s]=p.useState(!1),[i,a]=p.useState(""),l=ai({resolver:ya(DX),defaultValues:{email:"",password:""}}),c=async u=>{try{s(!0),a(u.email),await t(u.email,u.password),mt.success("Signed in successfully"),n("/")}catch(d){mt.error(d.message||"Failed to sign in. Please check your credentials."),console.error(d)}finally{s(!1)}};return o.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:o.jsx("div",{className:"w-full max-w-md px-4",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"space-y-1",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-garage-blue",children:[o.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1h-2"}),o.jsx("path",{d:"M5 17H3c-.6 0-1-.4-1-1v-3c0-.6.4-1 1-1h2"}),o.jsx("rect",{width:"14",height:"8",x:"5",y:"9",rx:"2"}),o.jsx("circle",{cx:"9",cy:"17",r:"2"}),o.jsx("circle",{cx:"15",cy:"17",r:"2"}),o.jsx("path",{d:"M5 9 8 2h8l3 7"})]}),o.jsx("h1",{className:"text-2xl font-bold text-garage-blue",children:"Garage Tracker"})]})}),o.jsx(be,{className:"text-2xl text-center",children:"Sign In"}),o.jsx(ht,{className:"text-center",children:"Enter your email and password to access your account"})]}),o.jsx(ye,{children:o.jsx(mu,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[o.jsx(st,{control:l.control,name:"email",render:({field:u})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Email"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"your@email.com",...u})}),o.jsx(at,{})]})}),o.jsx(st,{control:l.control,name:"password",render:({field:u})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Password"}),o.jsx(tt,{children:o.jsx(Ee,{type:"password",placeholder:"",...u})}),o.jsx(at,{})]})}),o.jsx(z,{type:"submit",className:"w-full bg-garage-blue hover:bg-garage-blue/90",disabled:r,children:r?"Signing in...":"Sign In"})]})})}),o.jsx(hu,{className:"flex flex-col space-y-4",children:o.jsxs("div",{className:"text-center text-sm",children:["Don't have an account? "," ",o.jsx(w_,{to:"/signup",className:"text-garage-blue hover:underline",children:"Sign up"})]})})]})})})},OX=kh("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ws=p.forwardRef(({className:t,variant:e,...n},r)=>o.jsx("div",{ref:r,role:"alert",className:ie(OX({variant:e}),t),...n}));Ws.displayName="Alert";const Ri=p.forwardRef(({className:t,...e},n)=>o.jsx("h5",{ref:n,className:ie("mb-1 font-medium leading-none tracking-tight",t),...e}));Ri.displayName="AlertTitle";const Hs=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:ie("text-sm [&_p]:leading-relaxed",t),...e}));Hs.displayName="AlertDescription";const LX=Dn.object({name:Dn.string().min(2,{message:"Name must be at least 2 characters"}),email:Dn.string().email({message:"Please enter a valid email address"}),password:Dn.string().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:Dn.string()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),VX=()=>{const{signup:t}=Wg(),e=We(),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[a,l]=p.useState(""),c=ai({resolver:ya(LX),defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),u=async d=>{try{r(!0),await t(d.email,d.password,d.name),mt.success("Account created successfully"),i(!0),l(d.email)}catch(f){mt.error(f.message||"Failed to create account. Please try again."),console.error(f)}finally{r(!1)}};return o.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:o.jsx("div",{className:"w-full max-w-md px-4",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"space-y-1",children:[o.jsx("div",{className:"flex justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-garage-blue",children:[o.jsx("path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.6-.4-1-1-1h-2"}),o.jsx("path",{d:"M5 17H3c-.6 0-1-.4-1-1v-3c0-.6.4-1 1-1h2"}),o.jsx("rect",{width:"14",height:"8",x:"5",y:"9",rx:"2"}),o.jsx("circle",{cx:"9",cy:"17",r:"2"}),o.jsx("circle",{cx:"15",cy:"17",r:"2"}),o.jsx("path",{d:"M5 9 8 2h8l3 7"})]}),o.jsx("h1",{className:"text-2xl font-bold text-garage-blue",children:"Garage Tracker"})]})}),o.jsx(be,{className:"text-2xl text-center",children:"Create Account"}),o.jsx(ht,{className:"text-center",children:"Enter your details to create a new account"})]}),o.jsx(ye,{children:s?o.jsx(Ws,{className:"mb-4 border-green-500",children:o.jsxs(Hs,{className:"text-center",children:[o.jsx("p",{className:"mb-2",children:"Your account has been created successfully!"}),o.jsxs("p",{className:"mb-4",children:["Please check your email (",a,") to verify your account before signing in."]}),o.jsx(z,{onClick:()=>e("/signin"),className:"bg-garage-blue hover:bg-garage-blue/90",children:"Go to Sign In"})]})}):o.jsx(mu,{...c,children:o.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[o.jsx(st,{control:c.control,name:"name",render:({field:d})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Name"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"John Doe",...d})}),o.jsx(at,{})]})}),o.jsx(st,{control:c.control,name:"email",render:({field:d})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Email"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"your@email.com",...d})}),o.jsx(at,{})]})}),o.jsx(st,{control:c.control,name:"password",render:({field:d})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Password"}),o.jsx(tt,{children:o.jsx(Ee,{type:"password",placeholder:"",...d})}),o.jsx(at,{})]})}),o.jsx(st,{control:c.control,name:"confirmPassword",render:({field:d})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Confirm Password"}),o.jsx(tt,{children:o.jsx(Ee,{type:"password",placeholder:"",...d})}),o.jsx(at,{})]})}),o.jsx(z,{type:"submit",className:"w-full bg-garage-blue hover:bg-garage-blue/90",disabled:n,children:n?"Creating Account...":"Create Account"})]})})}),o.jsx(hu,{className:"flex flex-col space-y-4",children:o.jsxs("div",{className:"text-center text-sm",children:["Already have an account? "," ",o.jsx(w_,{to:"/signin",className:"text-garage-blue hover:underline",children:"Sign in"})]})})]})})})},FX=()=>{const{vehicles:t,insurances:e}=Xe(),n=We(),r=t.map(a=>{const l=e.filter(c=>c.vehicleId===a.id);return{vehicle:a,insurances:l}}),s=new Date,i=new Date;return i.setDate(s.getDate()+30),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-garage-blue",children:"Insurance Policies"}),o.jsxs(z,{onClick:()=>n("/insurance/add"),className:"flex items-center",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add New Policy"]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.map(({vehicle:a,insurances:l})=>o.jsxs(ve,{className:"overflow-hidden",children:[o.jsxs(_e,{className:"bg-garage-blue text-white flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white",children:[a.year," ",a.make," ",a.model]}),o.jsx(ht,{className:"text-garage-silver",children:l.length>0?`${l.length} Insurance ${l.length===1?"Policy":"Policies"}`:"No Insurance Policies"})]}),o.jsx(z,{variant:"outline",size:"sm",className:"bg-white text-garage-blue hover:bg-white/90",onClick:()=>n(`/insurance/add?vehicleId=${a.id}`),children:"Add Policy"})]}),o.jsx(ye,{className:"p-0",children:l.length>0?o.jsx("div",{className:"divide-y",children:l.map(c=>{const u=new Date(c.expiryDate),d=u<s,f=!d&&u<=i;return o.jsxs("div",{className:`p-4 ${d?"bg-red-50":f?"bg-amber-50":""}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-lg flex items-center",children:[c.provider,d?o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-red-700 bg-red-100 rounded-full px-2.5 py-0.5",children:[o.jsx(Er,{className:"w-3 h-3 mr-1"}),"Expired"]}):f?o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-amber-700 bg-amber-100 rounded-full px-2.5 py-0.5",children:[o.jsx(Er,{className:"w-3 h-3 mr-1"}),"Expiring Soon"]}):o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-green-700 bg-green-100 rounded-full px-2.5 py-0.5",children:[o.jsx(rs,{className:"w-3 h-3 mr-1"}),"Active"]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Policy #",c.policyNumber]})]}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(`/insurance/edit/${c.id}`),children:"Edit"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Coverage"}),o.jsx("p",{className:"font-medium",children:c.coverage})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Premium"}),o.jsxs("p",{className:"font-medium",children:["MVR",c.premium.toFixed(2),"/year"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valid Until"}),o.jsx("p",{className:"font-medium",children:new Date(c.expiryDate).toLocaleDateString()})]})]})]},c.id)})}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(rs,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No insurance policies found for this vehicle."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>n(`/insurance/add?vehicleId=${a.id}`),children:"Add Insurance Policy"})]})})]},a.id)),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(rs,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-2",children:"No Vehicles Found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Add vehicles to your garage to manage their insurance policies."}),o.jsx(z,{onClick:()=>n("/vehicles/add"),children:"Add Vehicle"})]})]})]})},$X=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(FX,{})}),o.jsx(jt,{})]})}),_l=p.forwardRef(({className:t,...e},n)=>o.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));_l.displayName="Textarea";function dt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function pn(t,e){const n=dt(t);return isNaN(e)?pr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function vs(t,e){const n=dt(t);if(isNaN(e))return pr(t,NaN);if(!e)return n;const r=n.getDate(),s=pr(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function UX(t,e){const n=+dt(t);return pr(t,n+e)}const Ub=6048e5,BX=864e5,zX=36e5;function Qw(t,e){return UX(t,e*zX)}let WX={};function ef(){return WX}function ti(t,e){var l,c,u,d;const n=ef(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=dt(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function ol(t){return ti(t,{weekStartsOn:1})}function _M(t){const e=dt(t),n=e.getFullYear(),r=pr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ol(r),i=pr(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=ol(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Hc(t){const e=dt(t);return e.setHours(0,0,0,0),e}function Qp(t){const e=dt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Os(t,e){const n=Hc(t),r=Hc(e),s=+n-Qp(n),i=+r-Qp(r);return Math.round((s-i)/BX)}function HX(t){const e=_M(t),n=pr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),ol(n)}function Zw(t,e){const n=e*7;return pn(t,n)}function qX(t,e){return vs(t,e*12)}function KX(t){let e;return t.forEach(function(n){const r=dt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function GX(t){let e;return t.forEach(n=>{const r=dt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function cr(t,e){const n=Hc(t),r=Hc(e);return+n==+r}function Bb(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function YX(t){if(!Bb(t)&&typeof t!="number")return!1;const e=dt(t);return!isNaN(Number(e))}function _h(t,e){const n=dt(t),r=dt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function QX(t,e,n){const r=ti(t,n),s=ti(e,n),i=+r-Qp(r),a=+s-Qp(s);return Math.round((i-a)/Ub)}function zb(t){const e=dt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function mr(t){const e=dt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function bM(t){const e=dt(t),n=pr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Wb(t,e){var l,c,u,d;const n=ef(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=dt(t),i=s.getDay(),a=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}function EM(t){return Wb(t,{weekStartsOn:1})}const ZX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XX=(t,e,n)=>{let r;const s=ZX[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const JX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nJ={date:Yy({formats:JX,defaultWidth:"full"}),time:Yy({formats:eJ,defaultWidth:"full"}),dateTime:Yy({formats:tJ,defaultWidth:"full"})},rJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sJ=(t,e,n,r)=>rJ[t];function $u(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const iJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dJ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hJ={ordinalNumber:dJ,era:$u({values:iJ,defaultWidth:"wide"}),quarter:$u({values:oJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$u({values:aJ,defaultWidth:"wide"}),day:$u({values:lJ,defaultWidth:"wide"}),dayPeriod:$u({values:cJ,defaultWidth:"wide",formattingValues:uJ,defaultFormattingWidth:"wide"})};function Uu(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?mJ(l,f=>f.test(a)):fJ(l,f=>f.test(a));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function fJ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function mJ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function pJ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(s.length);return{value:a,rest:l}}}const gJ=/^(\d+)(th|st|nd|rd)?/i,vJ=/\d+/i,yJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xJ={any:[/^b/i,/^(a|c)/i]},wJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_J={any:[/1/i,/2/i,/3/i,/4/i]},bJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SJ={ordinalNumber:pJ({matchPattern:gJ,parsePattern:vJ,valueCallback:t=>parseInt(t,10)}),era:Uu({matchPatterns:yJ,defaultMatchWidth:"wide",parsePatterns:xJ,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:wJ,defaultMatchWidth:"wide",parsePatterns:_J,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Uu({matchPatterns:bJ,defaultMatchWidth:"wide",parsePatterns:EJ,defaultParseWidth:"any"}),day:Uu({matchPatterns:NJ,defaultMatchWidth:"wide",parsePatterns:jJ,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:TJ,defaultMatchWidth:"any",parsePatterns:CJ,defaultParseWidth:"any"})},NM={code:"en-US",formatDistance:XX,formatLong:nJ,formatRelative:sJ,localize:hJ,match:SJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function IJ(t){const e=dt(t);return Os(e,bM(e))+1}function jM(t){const e=dt(t),n=+ol(e)-+HX(e);return Math.round(n/Ub)+1}function TM(t,e){var d,f,m,g;const n=dt(t),r=n.getFullYear(),s=ef(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=pr(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const l=ti(a,e),c=pr(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=ti(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function kJ(t,e){var l,c,u,d;const n=ef(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=TM(t,e),i=pr(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ti(i,e)}function CM(t,e){const n=dt(t),r=+ti(n,e)-+kJ(n,e);return Math.round(r/Ub)+1}function bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ao={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return bt(s,e.length)}},Pl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iC={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ao.y(t,e)},Y:function(t,e,n,r){const s=TM(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return bt(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):bt(i,e.length)},R:function(t,e){const n=_M(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ao.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=CM(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):bt(s,e.length)},I:function(t,e,n){const r=jM(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ao.d(t,e)},D:function(t,e,n){const r=IJ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return bt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return bt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return bt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Pl.noon:r===0?s=Pl.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Pl.evening:r>=12?s=Pl.afternoon:r>=4?s=Pl.morning:s=Pl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ao.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ao.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ao.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ao.s(t,e)},S:function(t,e){return ao.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return aC(r);case"XXXX":case"XX":return Ia(r);case"XXXXX":case"XXX":default:return Ia(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return aC(r);case"xxxx":case"xx":return Ia(r);case"xxxxx":case"xxx":default:return Ia(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+oC(r,":");case"OOOO":default:return"GMT"+Ia(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+oC(r,":");case"zzzz":default:return"GMT"+Ia(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return bt(r,e.length)},T:function(t,e,n){const r=t.getTime();return bt(r,e.length)}};function oC(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+bt(i,2)}function aC(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):Ia(t,e)}function Ia(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=bt(Math.trunc(r/60),2),i=bt(r%60,2);return n+s+e+i}const lC=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},SM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},RJ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return lC(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",lC(r,e)).replace("{{time}}",SM(s,e))},PJ={p:SM,P:RJ},AJ=/^D+$/,DJ=/^Y+$/,MJ=["D","DD","YY","YYYY"];function OJ(t){return AJ.test(t)}function LJ(t){return DJ.test(t)}function VJ(t,e,n){const r=FJ(t,e,n);if(console.warn(r),MJ.includes(t))throw new RangeError(r)}function FJ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const $J=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,BJ=/^'([^]*?)'?$/,zJ=/''/g,WJ=/[a-zA-Z]/;function Zt(t,e,n){var d,f,m,g,_,v,x,b;const r=ef(),s=(n==null?void 0:n.locale)??r.locale??NM,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((v=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((b=(x=r.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,l=dt(t);if(!YX(l))throw new RangeError("Invalid time value");let c=e.match(UJ).map(w=>{const E=w[0];if(E==="p"||E==="P"){const S=PJ[E];return S(w,s.formatLong)}return w}).join("").match($J).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const E=w[0];if(E==="'")return{isToken:!1,value:HJ(w)};if(iC[E])return{isToken:!0,value:w};if(E.match(WJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const E=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&LJ(E)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&OJ(E))&&VJ(E,e,String(t));const S=iC[E[0]];return S(l,E,s.localize,u)}).join("")}function HJ(t){const e=t.match(BJ);return e?e[1].replace(zJ,"'"):t}function qJ(t){const e=dt(t),n=e.getFullYear(),r=e.getMonth(),s=pr(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function KJ(t){return Math.trunc(+dt(t)/1e3)}function GJ(t){const e=dt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function YJ(t,e){return QX(GJ(t),mr(t),e)+1}function Xw(t,e){const n=dt(t),r=dt(e);return n.getTime()>r.getTime()}function IM(t,e){const n=dt(t),r=dt(e);return+n<+r}function Hb(t,e){const n=dt(t),r=dt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function QJ(t,e){const n=dt(t),r=dt(e);return n.getFullYear()===r.getFullYear()}function Qy(t,e){return pn(t,-e)}function Zy(t,e){const n=dt(t),r=n.getFullYear(),s=n.getDate(),i=pr(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const a=qJ(i);return n.setMonth(e,Math.min(s,a)),n}function cC(t,e){const n=dt(t);return isNaN(+n)?pr(t,NaN):(n.setFullYear(e),n)}var Re=function(){return Re=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Re.apply(this,arguments)};function ZJ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kM(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function tf(t){return t.mode==="multiple"}function nf(t){return t.mode==="range"}function wv(t){return t.mode==="single"}var XJ={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function JJ(t,e){return Zt(t,"LLLL y",e)}function eee(t,e){return Zt(t,"d",e)}function tee(t,e){return Zt(t,"LLLL",e)}function nee(t){return"".concat(t)}function ree(t,e){return Zt(t,"cccccc",e)}function see(t,e){return Zt(t,"yyyy",e)}var iee=Object.freeze({__proto__:null,formatCaption:JJ,formatDay:eee,formatMonthCaption:tee,formatWeekNumber:nee,formatWeekdayName:ree,formatYearCaption:see}),oee=function(t,e,n){return Zt(t,"do MMMM (EEEE)",n)},aee=function(){return"Month: "},lee=function(){return"Go to next month"},cee=function(){return"Go to previous month"},uee=function(t,e){return Zt(t,"cccc",e)},dee=function(t){return"Week n. ".concat(t)},hee=function(){return"Year: "},fee=Object.freeze({__proto__:null,labelDay:oee,labelMonthDropdown:aee,labelNext:lee,labelPrevious:cee,labelWeekNumber:dee,labelWeekday:uee,labelYearDropdown:hee});function mee(){var t="buttons",e=XJ,n=NM,r={},s={},i=1,a={},l=new Date;return{captionLayout:t,classNames:e,formatters:iee,labels:fee,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:a,today:l,mode:"default"}}function pee(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,a=t.toDate;return r?i=mr(r):e&&(i=new Date(e,0,1)),s?a=zb(s):n&&(a=new Date(n,11,31)),{fromDate:i?Hc(i):void 0,toDate:a?Hc(a):void 0}}var RM=p.createContext(void 0);function gee(t){var e,n=t.initialProps,r=mee(),s=pee(n),i=s.fromDate,a=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!i||!a)&&(l="buttons");var c;(wv(n)||tf(n)||nf(n))&&(c=n.onSelect);var u=Re(Re(Re({},r),n),{captionLayout:l,classNames:Re(Re({},r.classNames),n.classNames),components:Re({},n.components),formatters:Re(Re({},r.formatters),n.formatters),fromDate:i,labels:Re(Re({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Re(Re({},r.modifiers),n.modifiers),modifiersClassNames:Re(Re({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Re(Re({},r.styles),n.styles),toDate:a});return o.jsx(RM.Provider,{value:u,children:t.children})}function kt(){var t=p.useContext(RM);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function PM(t){var e=kt(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function vee(t){return o.jsx("svg",Re({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function AM(t){var e,n,r=t.onChange,s=t.value,i=t.children,a=t.caption,l=t.className,c=t.style,u=kt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:vee;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function yee(t){var e,n=kt(),r=n.fromDate,s=n.toDate,i=n.styles,a=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var f=[];if(QJ(r,s))for(var m=mr(r),g=r.getMonth();g<=s.getMonth();g++)f.push(Zy(m,g));else for(var m=mr(new Date),g=0;g<=11;g++)f.push(Zy(m,g));var _=function(x){var b=Number(x.target.value),w=Zy(mr(t.displayMonth),b);t.onChange(w)},v=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:AM;return o.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:_,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:a}),children:f.map(function(x){return o.jsx("option",{value:x.getMonth(),children:l(x,{locale:a})},x.getMonth())})})}function xee(t){var e,n=t.displayMonth,r=kt(),s=r.fromDate,i=r.toDate,a=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!s)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var g=s.getFullYear(),_=i.getFullYear(),v=g;v<=_;v++)m.push(cC(bM(new Date),v));var x=function(w){var E=cC(mr(n),Number(w.target.value));t.onChange(E)},b=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:AM;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:a}),children:m.map(function(w){return o.jsx("option",{value:w.getFullYear(),children:d(w,{locale:a})},w.getFullYear())})})}function wee(t,e){var n=p.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function _ee(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,a=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&_h(i,s)<0){var u=-1*(c-1);s=vs(i,u)}return a&&_h(s,a)<0&&(s=a),mr(s)}function bee(){var t=kt(),e=_ee(t),n=wee(e,t.month),r=n[0],s=n[1],i=function(a){var l;if(!t.disableNavigation){var c=mr(a);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,i]}function Eee(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=mr(t),i=mr(vs(s,r)),a=_h(i,s),l=[],c=0;c<a;c++){var u=vs(s,c);l.push(u)}return n&&(l=l.reverse()),l}function Nee(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=mr(t);if(!n)return vs(l,a);var c=_h(n,t);if(!(c<i))return vs(l,a)}}function jee(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,a=r?i:1,l=mr(t);if(!n)return vs(l,-a);var c=_h(l,n);if(!(c<=0))return vs(l,-a)}}var DM=p.createContext(void 0);function Tee(t){var e=kt(),n=bee(),r=n[0],s=n[1],i=Eee(r,e),a=Nee(r,e),l=jee(r,e),c=function(f){return i.some(function(m){return Hb(f,m)})},u=function(f,m){c(f)||(m&&IM(f,m)?s(vs(f,1+e.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:a,isDateDisplayed:c};return o.jsx(DM.Provider,{value:d,children:t.children})}function rf(){var t=p.useContext(DM);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function uC(t){var e,n=kt(),r=n.classNames,s=n.styles,i=n.components,a=rf().goToMonth,l=function(d){a(vs(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:PM,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(yee,{onChange:l,displayMonth:t.displayMonth}),o.jsx(xee,{onChange:l,displayMonth:t.displayMonth})]})}function Cee(t){return o.jsx("svg",Re({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function See(t){return o.jsx("svg",Re({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Zp=p.forwardRef(function(t,e){var n=kt(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var a=i.join(" "),l=Re(Re({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),o.jsx("button",Re({},t,{ref:e,type:"button",className:a,style:l}))});function Iee(t){var e,n,r=kt(),s=r.dir,i=r.locale,a=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var m=u(t.previousMonth,{locale:i}),g=[a.nav_button,a.nav_button_previous].join(" "),_=d(t.nextMonth,{locale:i}),v=[a.nav_button,a.nav_button_next].join(" "),x=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:See,b=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:Cee;return o.jsxs("div",{className:a.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(Zp,{name:"previous-month","aria-label":m,className:g,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?o.jsx(x,{className:a.nav_icon,style:l.nav_icon}):o.jsx(b,{className:a.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(Zp,{name:"next-month","aria-label":_,className:v,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?o.jsx(b,{className:a.nav_icon,style:l.nav_icon}):o.jsx(x,{className:a.nav_icon,style:l.nav_icon})})]})}function dC(t){var e=kt().numberOfMonths,n=rf(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,a=n.displayMonths,l=a.findIndex(function(_){return Hb(t.displayMonth,_)}),c=l===0,u=l===a.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),m=function(){r&&i(r)},g=function(){s&&i(s)};return o.jsx(Iee,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:g})}function kee(t){var e,n=kt(),r=n.classNames,s=n.disableNavigation,i=n.styles,a=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:PM,u;return s?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=o.jsx(uC,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(uC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(dC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(dC,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:r.caption,style:i.caption,children:u})}function Ree(t){var e=kt(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function Pee(t,e,n){for(var r=n?ol(new Date):ti(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var a=pn(r,i);s.push(a)}return s}function Aee(){var t=kt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,a=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Pee(s,i,a);return o.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},f)})]})}function Dee(){var t,e=kt(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:Aee;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(i,{})})}function Mee(t){var e=kt(),n=e.locale,r=e.formatters.formatDay;return o.jsx(o.Fragment,{children:r(t.date,{locale:n})})}var qb=p.createContext(void 0);function Oee(t){if(!tf(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(qb.Provider,{value:e,children:t.children})}return o.jsx(Lee,{initialProps:t.initialProps,children:t.children})}function Lee(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,a=function(u,d,f){var m,g;(m=e.onDayClick)===null||m===void 0||m.call(e,u,d,f);var _=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!_){var v=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var x=r?kM([],r):[];if(d.selected){var b=x.findIndex(function(w){return cr(u,w)});x.splice(b,1)}else x.push(u);(g=e.onSelect)===null||g===void 0||g.call(e,x,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,f=r.some(function(m){return cr(m,u)});return!!(d&&!f)});var c={selected:r,onDayClick:a,modifiers:l};return o.jsx(qb.Provider,{value:c,children:n})}function Kb(){var t=p.useContext(qb);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Vee(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?cr(s,t)&&cr(r,t)?void 0:cr(s,t)?{from:s,to:void 0}:cr(r,t)?void 0:Xw(r,t)?{from:t,to:s}:{from:r,to:t}:s?Xw(t,s)?{from:s,to:t}:{from:t,to:s}:r?IM(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Gb=p.createContext(void 0);function Fee(t){if(!nf(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(Gb.Provider,{value:e,children:t.children})}return o.jsx($ee,{initialProps:t.initialProps,children:t.children})}function $ee(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,a=s.to,l=e.min,c=e.max,u=function(g,_,v){var x,b;(x=e.onDayClick)===null||x===void 0||x.call(e,g,_,v);var w=Vee(g,r);(b=e.onSelect)===null||b===void 0||b.call(e,w,g,_,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],a?(d.range_end=[a],cr(i,a)||(d.range_middle=[{after:i,before:a}])):d.range_end=[i]):a&&(d.range_start=[a],d.range_end=[a]),l&&(i&&!a&&d.disabled.push({after:Qy(i,l-1),before:pn(i,l-1)}),i&&a&&d.disabled.push({after:i,before:pn(i,l-1)}),!i&&a&&d.disabled.push({after:Qy(a,l-1),before:pn(a,l-1)})),c){if(i&&!a&&(d.disabled.push({before:pn(i,-c+1)}),d.disabled.push({after:pn(i,c-1)})),i&&a){var f=Os(a,i)+1,m=c-f;d.disabled.push({before:Qy(i,m)}),d.disabled.push({after:pn(a,m)})}!i&&a&&(d.disabled.push({before:pn(a,-c+1)}),d.disabled.push({after:pn(a,c-1)}))}return o.jsx(Gb.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Yb(){var t=p.useContext(Gb);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Am(t){return Array.isArray(t)?kM([],t):t!==void 0?[t]:[]}function Uee(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Am(s)}),e}var ys;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ys||(ys={}));var Bee=ys.Selected,mi=ys.Disabled,zee=ys.Hidden,Wee=ys.Today,Xy=ys.RangeEnd,Jy=ys.RangeMiddle,ex=ys.RangeStart,Hee=ys.Outside;function qee(t,e,n){var r,s=(r={},r[Bee]=Am(t.selected),r[mi]=Am(t.disabled),r[zee]=Am(t.hidden),r[Wee]=[t.today],r[Xy]=[],r[Jy]=[],r[ex]=[],r[Hee]=[],r);return t.fromDate&&s[mi].push({before:t.fromDate}),t.toDate&&s[mi].push({after:t.toDate}),tf(t)?s[mi]=s[mi].concat(e.modifiers[mi]):nf(t)&&(s[mi]=s[mi].concat(n.modifiers[mi]),s[ex]=n.modifiers[ex],s[Jy]=n.modifiers[Jy],s[Xy]=n.modifiers[Xy]),s}var MM=p.createContext(void 0);function Kee(t){var e=kt(),n=Kb(),r=Yb(),s=qee(e,n,r),i=Uee(e.modifiers),a=Re(Re({},s),i);return o.jsx(MM.Provider,{value:a,children:t.children})}function OM(){var t=p.useContext(MM);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Gee(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Yee(t){return!!(t&&typeof t=="object"&&"from"in t)}function Qee(t){return!!(t&&typeof t=="object"&&"after"in t)}function Zee(t){return!!(t&&typeof t=="object"&&"before"in t)}function Xee(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Jee(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=Os(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var a=Os(t,r)>=0&&Os(s,t)>=0;return a}return s?cr(s,t):r?cr(r,t):!1}function ete(t){return Bb(t)}function tte(t){return Array.isArray(t)&&t.every(Bb)}function nte(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(ete(n))return cr(t,n);if(tte(n))return n.includes(t);if(Yee(n))return Jee(t,n);if(Xee(n))return n.dayOfWeek.includes(t.getDay());if(Gee(n)){var r=Os(n.before,t),s=Os(n.after,t),i=r>0,a=s<0,l=Xw(n.before,n.after);return l?a&&i:i||a}return Qee(n)?Os(t,n.after)>0:Zee(n)?Os(n.before,t)>0:typeof n=="function"?n(t):!1})}function Qb(t,e,n){var r=Object.keys(e).reduce(function(i,a){var l=e[a];return nte(t,l)&&i.push(a),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Hb(t,n)&&(s.outside=!0),s}function rte(t,e){for(var n=mr(t[0]),r=zb(t[t.length-1]),s,i,a=n;a<=r;){var l=Qb(a,e),c=!l.disabled&&!l.hidden;if(!c){a=pn(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),s||(s=a),a=pn(a,1)}return i||s}var ste=365;function LM(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,a=e.retry,l=a===void 0?{count:0,lastFocused:t}:a,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,m={day:pn,week:Zw,month:vs,year:qX,startOfWeek:function(x){return s.ISOWeek?ol(x):ti(x,{locale:f,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?EM(x):Wb(x,{locale:f,weekStartsOn:c})}},g=m[n](t,r==="after"?1:-1);r==="before"&&u?g=KX([u,g]):r==="after"&&d&&(g=GX([d,g]));var _=!0;if(i){var v=Qb(g,i);_=!v.disabled&&!v.hidden}return _?g:l.count>ste?l.lastFocused:LM(g,{moveBy:n,direction:r,context:s,modifiers:i,retry:Re(Re({},l),{count:l.count+1})})}var VM=p.createContext(void 0);function ite(t){var e=rf(),n=OM(),r=p.useState(),s=r[0],i=r[1],a=p.useState(),l=a[0],c=a[1],u=rte(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(s),i(void 0)},m=function(x){i(x)},g=kt(),_=function(x,b){if(s){var w=LM(s,{moveBy:x,direction:b,context:g,modifiers:n});cr(s,w)||(e.goToDate(w,s),m(w))}},v={focusedDay:s,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return _("day","after")},focusDayBefore:function(){return _("day","before")},focusWeekAfter:function(){return _("week","after")},focusWeekBefore:function(){return _("week","before")},focusMonthBefore:function(){return _("month","before")},focusMonthAfter:function(){return _("month","after")},focusYearBefore:function(){return _("year","before")},focusYearAfter:function(){return _("year","after")},focusStartOfWeek:function(){return _("startOfWeek","before")},focusEndOfWeek:function(){return _("endOfWeek","after")}};return o.jsx(VM.Provider,{value:v,children:t.children})}function Zb(){var t=p.useContext(VM);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function ote(t,e){var n=OM(),r=Qb(t,n,e);return r}var Xb=p.createContext(void 0);function ate(t){if(!wv(t.initialProps)){var e={selected:void 0};return o.jsx(Xb.Provider,{value:e,children:t.children})}return o.jsx(lte,{initialProps:t.initialProps,children:t.children})}function lte(t){var e=t.initialProps,n=t.children,r=function(i,a,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,a,l),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,a,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,a,l)},s={selected:e.selected,onDayClick:r};return o.jsx(Xb.Provider,{value:s,children:n})}function FM(){var t=p.useContext(Xb);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function cte(t,e){var n=kt(),r=FM(),s=Kb(),i=Yb(),a=Zb(),l=a.focusDayAfter,c=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,f=a.blur,m=a.focus,g=a.focusMonthBefore,_=a.focusMonthAfter,v=a.focusYearBefore,x=a.focusYearAfter,b=a.focusStartOfWeek,w=a.focusEndOfWeek,E=function(q){var M,U,re,ee;wv(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,q):tf(n)?(U=s.onDayClick)===null||U===void 0||U.call(s,t,e,q):nf(n)?(re=i.onDayClick)===null||re===void 0||re.call(i,t,e,q):(ee=n.onDayClick)===null||ee===void 0||ee.call(n,t,e,q)},S=function(q){var M;m(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,q)},A=function(q){var M;f(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,q)},V=function(q){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,q)},T=function(q){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,q)},j=function(q){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,q)},C=function(q){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,q)},R=function(q){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,q)},D=function(q){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,q)},P=function(q){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,q)},k=function(q){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,q)},H=function(q){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,q)},le=function(q){var M;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?v():g();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?x():_();break;case"Home":q.preventDefault(),q.stopPropagation(),b();break;case"End":q.preventDefault(),q.stopPropagation(),w();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,q)},ne={onClick:E,onFocus:S,onBlur:A,onKeyDown:le,onKeyUp:H,onMouseEnter:V,onMouseLeave:T,onPointerEnter:j,onPointerLeave:C,onTouchCancel:R,onTouchEnd:D,onTouchMove:P,onTouchStart:k};return ne}function ute(){var t=kt(),e=FM(),n=Kb(),r=Yb(),s=wv(t)?e.selected:tf(t)?n.selected:nf(t)?r.selected:void 0;return s}function dte(t){return Object.values(ys).includes(t)}function hte(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(dte(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function fte(t,e){var n=Re({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Re(Re({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function mte(t,e,n){var r,s,i,a=kt(),l=Zb(),c=ote(t,e),u=cte(t,c),d=ute(),f=!!(a.onDayClick||a.mode!=="default");p.useEffect(function(){var V;c.outside||l.focusedDay&&f&&cr(l.focusedDay,t)&&((V=n.current)===null||V===void 0||V.focus())},[l.focusedDay,t,n,f,c.outside]);var m=hte(a,c).join(" "),g=fte(a,c),_=!!(c.outside&&!a.showOutsideDays||c.hidden),v=(i=(s=a.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:Mee,x=o.jsx(v,{date:t,displayMonth:e,activeModifiers:c}),b={style:g,className:m,children:x,role:"gridcell"},w=l.focusTarget&&cr(l.focusTarget,t)&&!c.outside,E=l.focusedDay&&cr(l.focusedDay,t),S=Re(Re(Re({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=E||w?0:-1,r)),u),A={isButton:f,isHidden:_,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:b};return A}function pte(t){var e=p.useRef(null),n=mte(t.date,t.displayMonth,e);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(Zp,Re({name:"day",ref:e},n.buttonProps)):o.jsx("div",Re({},n.divProps))}function gte(t){var e=t.number,n=t.dates,r=kt(),s=r.onWeekNumberClick,i=r.styles,a=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return o.jsx("span",{className:a.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),m=function(g){s(e,n,g)};return o.jsx(Zp,{name:"week-number","aria-label":f,className:a.weeknumber,style:i.weeknumber,onClick:m,children:d})}function vte(t){var e,n,r=kt(),s=r.styles,i=r.classNames,a=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:pte,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:gte,d;return a&&(d=o.jsx("td",{className:i.cell,style:s.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},KJ(f))})]})}function hC(t,e,n){for(var r=n!=null&&n.ISOWeek?EM(e):Wb(e,n),s=n!=null&&n.ISOWeek?ol(t):ti(t,n),i=Os(r,s),a=[],l=0;l<=i;l++)a.push(pn(s,l));var c=a.reduce(function(u,d){var f=n!=null&&n.ISOWeek?jM(d):CM(d,n),m=u.find(function(g){return g.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function yte(t,e){var n=hC(mr(t),zb(t),e);if(e!=null&&e.useFixedWeeks){var r=YJ(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],a=Zw(i,6-r),l=hC(Zw(i,1),a,e);n.push.apply(n,l)}}return n}function xte(t){var e,n,r,s=kt(),i=s.locale,a=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,m=s.firstWeekContainsDate,g=s.ISOWeek,_=yte(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),v=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Dee,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:vte,b=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Ree;return o.jsxs("table",{id:t.id,className:a.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(v,{}),o.jsx("tbody",{className:a.tbody,style:l.tbody,children:_.map(function(w){return o.jsx(x,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),o.jsx(b,{displayMonth:t.displayMonth})]})}function wte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var _te=wte()?p.useLayoutEffect:p.useEffect,tx=!1,bte=0;function fC(){return"react-day-picker-".concat(++bte)}function Ete(t){var e,n=t??(tx?fC():null),r=p.useState(n),s=r[0],i=r[1];return _te(function(){s===null&&i(fC())},[]),p.useEffect(function(){tx===!1&&(tx=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function Nte(t){var e,n,r=kt(),s=r.dir,i=r.classNames,a=r.styles,l=r.components,c=rf().displayMonths,u=Ete(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],m=a.month,g=t.displayIndex===0,_=t.displayIndex===c.length-1,v=!g&&!_;s==="rtl"&&(e=[g,_],_=e[0],g=e[1]),g&&(f.push(i.caption_start),m=Re(Re({},m),a.caption_start)),_&&(f.push(i.caption_end),m=Re(Re({},m),a.caption_end)),v&&(f.push(i.caption_between),m=Re(Re({},m),a.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:kee;return o.jsxs("div",{className:f.join(" "),style:m,children:[o.jsx(x,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(xte,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function jte(t){var e=kt(),n=e.classNames,r=e.styles;return o.jsx("div",{className:n.months,style:r.months,children:t.children})}function Tte(t){var e,n,r=t.initialProps,s=kt(),i=Zb(),a=rf(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Re(Re({},s.styles.root),s.style),m=Object.keys(r).filter(function(_){return _.startsWith("data-")}).reduce(function(_,v){var x;return Re(Re({},_),(x={},x[v]=r[v],x))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:jte;return o.jsx("div",Re({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:o.jsx(g,{children:a.displayMonths.map(function(_,v){return o.jsx(Nte,{displayIndex:v,displayMonth:_},v)})})}))}function Cte(t){var e=t.children,n=ZJ(t,["children"]);return o.jsx(gee,{initialProps:n,children:o.jsx(Tee,{children:o.jsx(ate,{initialProps:n,children:o.jsx(Oee,{initialProps:n,children:o.jsx(Fee,{initialProps:n,children:o.jsx(Kee,{children:o.jsx(ite,{children:e})})})})})})})}function Ste(t){return o.jsx(Cte,Re({},t,{children:o.jsx(Tte,{initialProps:t})}))}function zi({className:t,classNames:e,showOutsideDays:n=!0,...r}){return o.jsx(Ste,{showOutsideDays:n,className:ie("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ie(th({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ie(th({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>o.jsx(F5,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(yk,{className:"h-4 w-4"})},...r})}zi.displayName="Calendar";var Jb="Popover",[$M,Xre]=ni(Jb,[fa]),sf=fa(),[Ite,xa]=$M(Jb),UM=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!1}=t,l=sf(e),c=p.useRef(null),[u,d]=p.useState(!1),[f=!1,m]=Ks({prop:r,defaultProp:s,onChange:i});return o.jsx(jg,{...l,children:o.jsx(Ite,{scope:e,contentId:Fr(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:p.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:n})})};UM.displayName=Jb;var BM="PopoverAnchor",kte=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa(BM,n),i=sf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(Ah,{...i,...r,ref:e})});kte.displayName=BM;var zM="PopoverTrigger",WM=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa(zM,n),i=sf(n),a=ot(e,s.triggerRef),l=o.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":YM(s.open),...r,ref:a,onClick:se(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(Ah,{asChild:!0,...i,children:l})});WM.displayName=zM;var eE="PopoverPortal",[Rte,Pte]=$M(eE,{forceMount:void 0}),HM=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=xa(eE,e);return o.jsx(Rte,{scope:e,forceMount:n,children:o.jsx(gr,{present:n||i.open,children:o.jsx(Qc,{asChild:!0,container:s,children:r})})})};HM.displayName=eE;var qc="PopoverContent",qM=p.forwardRef((t,e)=>{const n=Pte(qc,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=xa(qc,t.__scopePopover);return o.jsx(gr,{present:r||i.open,children:i.modal?o.jsx(Ate,{...s,ref:e}):o.jsx(Dte,{...s,ref:e})})});qM.displayName=qc;var Ate=p.forwardRef((t,e)=>{const n=xa(qc,t.__scopePopover),r=p.useRef(null),s=ot(e,r),i=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return hv(a)},[]),o.jsx(Yh,{as:qs,allowPinchZoom:!0,children:o.jsx(KM,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:se(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dte=p.forwardRef((t,e)=>{const n=xa(qc,t.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(KM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),KM=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=xa(qc,n),g=sf(n);return cv(),o.jsx(Gh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(hl,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(Tg,{"data-state":YM(m.open),role:"dialog",id:m.contentId,...g,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),GM="PopoverClose",Mte=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=xa(GM,n);return o.jsx(ke.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});Mte.displayName=GM;var Ote="PopoverArrow",Lte=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=sf(n);return o.jsx(Cg,{...s,...r,ref:e})});Lte.displayName=Ote;function YM(t){return t?"open":"closed"}var Vte=UM,Fte=WM,$te=HM,QM=qM;const la=Vte,ca=Fte,Wi=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>o.jsx($te,{children:o.jsx(QM,{ref:s,align:e,sideOffset:n,className:ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Wi.displayName=QM.displayName;function mC(t,[e,n]){return Math.min(n,Math.max(e,t))}function ZM(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ute=[" ","Enter","ArrowUp","ArrowDown"],Bte=[" ","Enter"],of="Select",[_v,bv,zte]=yg(of),[pu,Jre]=ni(of,[zte,fa]),Ev=fa(),[Wte,wa]=pu(of),[Hte,qte]=pu(of),XM=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:_}=t,v=Ev(e),[x,b]=p.useState(null),[w,E]=p.useState(null),[S,A]=p.useState(!1),V=lv(u),[T=!1,j]=Ks({prop:r,defaultProp:s,onChange:i}),[C,R]=Ks({prop:a,defaultProp:l,onChange:c}),D=p.useRef(null),P=x?_||!!x.closest("form"):!0,[k,H]=p.useState(new Set),le=Array.from(k).map(ne=>ne.props.value).join(";");return o.jsx(jg,{...v,children:o.jsxs(Wte,{required:g,scope:e,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:E,valueNodeHasChildren:S,onValueNodeHasChildrenChange:A,contentId:Fr(),value:C,onValueChange:R,open:T,onOpenChange:j,dir:V,triggerPointerDownPosRef:D,disabled:m,children:[o.jsx(_v.Provider,{scope:e,children:o.jsx(Hte,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(ne=>{H(q=>new Set(q).add(ne))},[]),onNativeOptionRemove:p.useCallback(ne=>{H(q=>{const M=new Set(q);return M.delete(ne),M})},[]),children:n})}),P?o.jsxs(EO,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:ne=>R(ne.target.value),disabled:m,form:_,children:[C===void 0?o.jsx("option",{value:""}):null,Array.from(k)]},le):null]})})};XM.displayName=of;var JM="SelectTrigger",eO=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ev(n),a=wa(JM,n),l=a.disabled||r,c=ot(e,a.onTriggerChange),u=bv(n),d=p.useRef("touch"),[f,m,g]=NO(v=>{const x=u().filter(E=>!E.disabled),b=x.find(E=>E.value===a.value),w=jO(x,v,b);w!==void 0&&a.onValueChange(w.value)}),_=v=>{l||(a.onOpenChange(!0),g()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(Ah,{asChild:!0,...i,children:o.jsx(ke.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":bO(a.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&_(v)}),onPointerDown:se(s.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(_(v),v.preventDefault())}),onKeyDown:se(s.onKeyDown,v=>{const x=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(x&&v.key===" ")&&Ute.includes(v.key)&&(_(),v.preventDefault())})})})});eO.displayName=JM;var tO="SelectValue",nO=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...l}=t,c=wa(tO,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ot(e,c.onValueNodeChange);return Fn(()=>{u(d)},[u,d]),o.jsx(ke.span,{...l,ref:f,style:{pointerEvents:"none"},children:bO(c.value)?o.jsx(o.Fragment,{children:a}):i})});nO.displayName=tO;var Kte="SelectIcon",rO=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return o.jsx(ke.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});rO.displayName=Kte;var Gte="SelectPortal",sO=t=>o.jsx(Qc,{asChild:!0,...t});sO.displayName=Gte;var al="SelectContent",iO=p.forwardRef((t,e)=>{const n=wa(al,t.__scopeSelect),[r,s]=p.useState();if(Fn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?dl.createPortal(o.jsx(oO,{scope:t.__scopeSelect,children:o.jsx(_v.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(aO,{...t,ref:e})});iO.displayName=al;var Qr=10,[oO,_a]=pu(al),Yte="SelectContentImpl",aO=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:x,...b}=t,w=wa(al,n),[E,S]=p.useState(null),[A,V]=p.useState(null),T=ot(e,de=>S(de)),[j,C]=p.useState(null),[R,D]=p.useState(null),P=bv(n),[k,H]=p.useState(!1),le=p.useRef(!1);p.useEffect(()=>{if(E)return hv(E)},[E]),cv();const ne=p.useCallback(de=>{const[Fe,...Ye]=P().map(qe=>qe.ref.current),[Me]=Ye.slice(-1),He=document.activeElement;for(const qe of de)if(qe===He||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===Fe&&A&&(A.scrollTop=0),qe===Me&&A&&(A.scrollTop=A.scrollHeight),qe==null||qe.focus(),document.activeElement!==He))return},[P,A]),q=p.useCallback(()=>ne([j,E]),[ne,j,E]);p.useEffect(()=>{k&&q()},[k,q]);const{onOpenChange:M,triggerPointerDownPosRef:U}=w;p.useEffect(()=>{if(E){let de={x:0,y:0};const Fe=Me=>{var He,qe;de={x:Math.abs(Math.round(Me.pageX)-(((He=U.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((qe=U.current)==null?void 0:qe.y)??0))}},Ye=Me=>{de.x<=10&&de.y<=10?Me.preventDefault():E.contains(Me.target)||M(!1),document.removeEventListener("pointermove",Fe),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[E,M,U]),p.useEffect(()=>{const de=()=>M(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[M]);const[re,ee]=NO(de=>{const Fe=P().filter(He=>!He.disabled),Ye=Fe.find(He=>He.ref.current===document.activeElement),Me=jO(Fe,de,Ye);Me&&setTimeout(()=>Me.ref.current.focus())}),ce=p.useCallback((de,Fe,Ye)=>{const Me=!le.current&&!Ye;(w.value!==void 0&&w.value===Fe||Me)&&(C(de),Me&&(le.current=!0))},[w.value]),ge=p.useCallback(()=>E==null?void 0:E.focus(),[E]),Ue=p.useCallback((de,Fe,Ye)=>{const Me=!le.current&&!Ye;(w.value!==void 0&&w.value===Fe||Me)&&D(de)},[w.value]),gt=r==="popper"?Jw:lO,je=gt===Jw?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:_,hideWhenDetached:v,avoidCollisions:x}:{};return o.jsx(oO,{scope:n,content:E,viewport:A,onViewportChange:V,itemRefCallback:ce,selectedItem:j,onItemLeave:ge,itemTextRefCallback:Ue,focusSelectedItem:q,selectedItemText:R,position:r,isPositioned:k,searchRef:re,children:o.jsx(Yh,{as:qs,allowPinchZoom:!0,children:o.jsx(Gh,{asChild:!0,trapped:w.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:se(s,de=>{var Fe;(Fe=w.trigger)==null||Fe.focus({preventScroll:!0}),de.preventDefault()}),children:o.jsx(hl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(gt,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:de=>de.preventDefault(),...b,...je,onPlaced:()=>H(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:se(b.onKeyDown,de=>{const Fe=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Fe&&de.key.length===1&&ee(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let Me=P().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(de.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const He=de.target,qe=Me.indexOf(He);Me=Me.slice(qe+1)}setTimeout(()=>ne(Me)),de.preventDefault()}})})})})})})});aO.displayName=Yte;var Qte="SelectItemAlignedPosition",lO=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=wa(al,n),a=_a(al,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=ot(e,T=>d(T)),m=bv(n),g=p.useRef(!1),_=p.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:b,focusSelectedItem:w}=a,E=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&x&&b){const T=i.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),R=b.getBoundingClientRect();if(i.dir!=="rtl"){const He=R.left-j.left,qe=C.left-He,Ot=T.left-qe,Ht=T.width+Ot,Bn=Math.max(Ht,j.width),hn=window.innerWidth-Qr,Rr=mC(qe,[Qr,Math.max(Qr,hn-Bn)]);l.style.minWidth=Ht+"px",l.style.left=Rr+"px"}else{const He=j.right-R.right,qe=window.innerWidth-C.right-He,Ot=window.innerWidth-T.right-qe,Ht=T.width+Ot,Bn=Math.max(Ht,j.width),hn=window.innerWidth-Qr,Rr=mC(qe,[Qr,Math.max(Qr,hn-Bn)]);l.style.minWidth=Ht+"px",l.style.right=Rr+"px"}const D=m(),P=window.innerHeight-Qr*2,k=v.scrollHeight,H=window.getComputedStyle(u),le=parseInt(H.borderTopWidth,10),ne=parseInt(H.paddingTop,10),q=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),U=le+ne+k+M+q,re=Math.min(x.offsetHeight*5,U),ee=window.getComputedStyle(v),ce=parseInt(ee.paddingTop,10),ge=parseInt(ee.paddingBottom,10),Ue=T.top+T.height/2-Qr,gt=P-Ue,je=x.offsetHeight/2,de=x.offsetTop+je,Fe=le+ne+de,Ye=U-Fe;if(Fe<=Ue){const He=D.length>0&&x===D[D.length-1].ref.current;l.style.bottom="0px";const qe=u.clientHeight-v.offsetTop-v.offsetHeight,Ot=Math.max(gt,je+(He?ge:0)+qe+q),Ht=Fe+Ot;l.style.height=Ht+"px"}else{const He=D.length>0&&x===D[0].ref.current;l.style.top="0px";const Ot=Math.max(Ue,le+v.offsetTop+(He?ce:0)+je)+Ye;l.style.height=Ot+"px",v.scrollTop=Fe-Ue+v.offsetTop}l.style.margin=`${Qr}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,l,u,v,x,b,i.dir,r]);Fn(()=>E(),[E]);const[S,A]=p.useState();Fn(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const V=p.useCallback(T=>{T&&_.current===!0&&(E(),w==null||w(),_.current=!1)},[E,w]);return o.jsx(Xte,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:V,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:o.jsx(ke.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});lO.displayName=Qte;var Zte="SelectPopperPosition",Jw=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qr,...i}=t,a=Ev(n);return o.jsx(Tg,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Jw.displayName=Zte;var[Xte,tE]=pu(al,{}),e0="SelectViewport",cO=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=_a(e0,n),a=tE(e0,n),l=ot(e,i.onViewportChange),c=p.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(_v.Slot,{scope:n,children:o.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const _=window.innerHeight-Qr*2,v=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(v,x);if(b<_){const w=b+g,E=Math.min(_,w),S=w-E;f.style.height=E+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});cO.displayName=e0;var uO="SelectGroup",[Jte,ene]=pu(uO),tne=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Fr();return o.jsx(Jte,{scope:n,id:s,children:o.jsx(ke.div,{role:"group","aria-labelledby":s,...r,ref:e})})});tne.displayName=uO;var dO="SelectLabel",hO=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ene(dO,n);return o.jsx(ke.div,{id:s.id,...r,ref:e})});hO.displayName=dO;var Xp="SelectItem",[nne,fO]=pu(Xp),mO=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,l=wa(Xp,n),c=_a(Xp,n),u=l.value===r,[d,f]=p.useState(i??""),[m,g]=p.useState(!1),_=ot(e,w=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,w,r,s)}),v=Fr(),x=p.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(nne,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(w=>{f(E=>E||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(_v.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(ke.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:_,onFocus:se(a.onFocus,()=>g(!0)),onBlur:se(a.onBlur,()=>g(!1)),onClick:se(a.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:se(a.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:se(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:se(a.onPointerMove,w=>{var E;x.current=w.pointerType,s?(E=c.onItemLeave)==null||E.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(a.onPointerLeave,w=>{var E;w.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:se(a.onKeyDown,w=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(Bte.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});mO.displayName=Xp;var nd="SelectItemText",pO=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=wa(nd,n),l=_a(nd,n),c=fO(nd,n),u=qte(nd,n),[d,f]=p.useState(null),m=ot(e,b=>f(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),g=d==null?void 0:d.textContent,_=p.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return Fn(()=>(v(_),()=>x(_)),[v,x,_]),o.jsxs(o.Fragment,{children:[o.jsx(ke.span,{id:c.textId,...i,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?dl.createPortal(i.children,a.valueNode):null]})});pO.displayName=nd;var gO="SelectItemIndicator",vO=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return fO(gO,n).isSelected?o.jsx(ke.span,{"aria-hidden":!0,...r,ref:e}):null});vO.displayName=gO;var t0="SelectScrollUpButton",yO=p.forwardRef((t,e)=>{const n=_a(t0,t.__scopeSelect),r=tE(t0,t.__scopeSelect),[s,i]=p.useState(!1),a=ot(e,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(wO,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yO.displayName=t0;var n0="SelectScrollDownButton",xO=p.forwardRef((t,e)=>{const n=_a(n0,t.__scopeSelect),r=tE(n0,t.__scopeSelect),[s,i]=p.useState(!1),a=ot(e,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(wO,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xO.displayName=n0;var wO=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=_a("SelectScrollButton",n),a=p.useRef(null),l=bv(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Fn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ke.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),rne="SelectSeparator",_O=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return o.jsx(ke.div,{"aria-hidden":!0,...r,ref:e})});_O.displayName=rne;var r0="SelectArrow",sne=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ev(n),i=wa(r0,n),a=_a(r0,n);return i.open&&a.position==="popper"?o.jsx(Cg,{...s,...r,ref:e}):null});sne.displayName=r0;function bO(t){return t===""||t===void 0}var EO=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),i=ot(e,s),a=ZM(n);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[a,n]),o.jsx(Ih,{asChild:!0,children:o.jsx("select",{...r,ref:i,defaultValue:n})})});EO.displayName="BubbleSelect";function NO(t){const e=Vn(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function jO(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=ine(t,Math.max(i,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function ine(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var one=XM,TO=eO,ane=nO,lne=rO,cne=sO,CO=iO,une=cO,SO=hO,IO=mO,dne=pO,hne=vO,kO=yO,RO=xO,PO=_O;const xs=one,ws=ane,Wr=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(TO,{ref:r,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsx(lne,{asChild:!0,children:o.jsx(vk,{className:"h-4 w-4 opacity-50"})})]}));Wr.displayName=TO.displayName;const AO=p.forwardRef(({className:t,...e},n)=>o.jsx(kO,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx($5,{className:"h-4 w-4"})}));AO.displayName=kO.displayName;const DO=p.forwardRef(({className:t,...e},n)=>o.jsx(RO,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(vk,{className:"h-4 w-4"})}));DO.displayName=RO.displayName;const Hr=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>o.jsx(cne,{children:o.jsxs(CO,{ref:s,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[o.jsx(AO,{}),o.jsx(une,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(DO,{})]})}));Hr.displayName=CO.displayName;const fne=p.forwardRef(({className:t,...e},n)=>o.jsx(SO,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));fne.displayName=SO.displayName;const Qt=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(IO,{ref:r,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(hne,{children:o.jsx(s_,{className:"h-4 w-4"})})}),o.jsx(dne,{children:e})]}));Qt.displayName=IO.displayName;const mne=p.forwardRef(({className:t,...e},n)=>o.jsx(PO,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",t),...e}));mne.displayName=PO.displayName;const pne=fu({vehicleId:St().min(1,"Vehicle is required"),provider:St().min(1,"Provider is required"),policyNumber:St().min(1,"Policy number is required"),startDate:il({required_error:"Start date is required"}),expiryDate:il({required_error:"Expiry date is required"}),premium:$b.number().min(0,"Premium must be a positive number"),coverage:St().min(1,"Coverage details are required"),documents:Vb(St()).optional()}),gne=({insurance:t,vehicleId:e,isEditing:n})=>{const{vehicles:r,addInsurance:s,updateInsurance:i}=Xe(),a=We(),[l,c]=p.useState(!1),u=ai({resolver:ya(pne),defaultValues:{vehicleId:e||(t==null?void 0:t.vehicleId)||"",provider:(t==null?void 0:t.provider)||"",policyNumber:(t==null?void 0:t.policyNumber)||"",startDate:t!=null&&t.startDate?new Date(t.startDate):void 0,expiryDate:t!=null&&t.expiryDate?new Date(t.expiryDate):void 0,premium:(t==null?void 0:t.premium)||0,coverage:(t==null?void 0:t.coverage)||"",documents:(t==null?void 0:t.documents)||[]}}),d=async f=>{c(!0);try{const m={vehicleId:f.vehicleId,provider:f.provider,policyNumber:f.policyNumber,startDate:f.startDate.toISOString(),expiryDate:f.expiryDate.toISOString(),premium:f.premium,coverage:f.coverage,documents:f.documents||[]};t?(i(t.id,m),mt.success("Insurance policy updated successfully")):(s(m),mt.success("Insurance policy added successfully")),a("/insurance")}catch(m){console.error("Error saving insurance:",m),mt.error("Failed to save insurance policy")}finally{c(!1)}};return o.jsx(mu,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-6",children:[o.jsx(st,{control:u.control,name:"vehicleId",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Vehicle"}),o.jsxs(xs,{onValueChange:f.onChange,defaultValue:f.value,disabled:!!e,children:[o.jsx(tt,{children:o.jsx(Wr,{children:o.jsx(ws,{placeholder:"Select a vehicle"})})}),o.jsx(Hr,{children:r.map(m=>o.jsxs(Qt,{value:m.id,children:[m.year," ",m.make," ",m.model," (",m.licensePlate,")"]},m.id))})]}),o.jsx(at,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(st,{control:u.control,name:"provider",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Insurance Provider"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"e.g. Allied, Amanatakaful",...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:u.control,name:"policyNumber",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Policy Number"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"e.g. POL-12345678",...f})}),o.jsx(at,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(st,{control:u.control,name:"startDate",render:({field:f})=>o.jsxs(et,{className:"flex flex-col",children:[o.jsx(Je,{children:"Start Date"}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsx(tt,{children:o.jsxs(z,{variant:"outline",className:ie("pl-3 text-left font-normal",!f.value&&"text-muted-foreground"),children:[f.value?Zt(f.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(Gs,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Wi,{className:"w-auto p-0",align:"start",children:o.jsx(zi,{mode:"single",selected:f.value,onSelect:f.onChange,disabled:m=>m>new Date||m<new Date("1900-01-01"),initialFocus:!0})})]}),o.jsx(at,{})]})}),o.jsx(st,{control:u.control,name:"expiryDate",render:({field:f})=>o.jsxs(et,{className:"flex flex-col",children:[o.jsx(Je,{children:"Expiry Date"}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsx(tt,{children:o.jsxs(z,{variant:"outline",className:ie("pl-3 text-left font-normal",!f.value&&"text-muted-foreground"),children:[f.value?Zt(f.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(Gs,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Wi,{className:"w-auto p-0",align:"start",children:o.jsx(zi,{mode:"single",selected:f.value,onSelect:f.onChange,disabled:m=>m<new Date("1900-01-01"),initialFocus:!0})})]}),o.jsx(at,{})]})})]}),o.jsx(st,{control:u.control,name:"premium",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Premium Amount (MVR)"}),o.jsx(tt,{children:o.jsx(Ee,{type:"number",min:"0",step:"0.01",...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:u.control,name:"coverage",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Coverage Details"}),o.jsx(tt,{children:o.jsx(_l,{placeholder:"Describe the coverage details, limits, deductibles, etc.",className:"min-h-[100px]",...f})}),o.jsx(at,{})]})}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx(z,{type:"button",variant:"outline",onClick:()=>a("/insurance"),disabled:l,children:"Cancel"}),o.jsx(z,{type:"submit",disabled:l,children:l?"Saving...":t?"Update Insurance":"Add Insurance"})]})]})})},vne=()=>{const t=We(),{id:e}=qr(),{insurances:n}=Xe(),r=!!e,s=r?n.find(i=>i.id===e):void 0;return r&&!s?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-4",children:"Insurance Policy Not Found"}),o.jsx("p",{className:"mb-6",children:"The insurance policy you're trying to edit doesn't exist or has been removed."}),o.jsx(z,{onClick:()=>t("/insurance"),children:"Back to Insurance"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsxs(z,{variant:"ghost",onClick:()=>t("/insurance"),className:"mr-4",children:[o.jsx(bn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-garage-blue flex items-center",children:[o.jsx(rs,{className:"h-6 w-6 mr-2"}),r?"Edit Insurance Policy":"Add Insurance Policy"]})]}),o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{children:r?"Edit Policy Details":"New Insurance Policy"})}),o.jsx(ye,{children:o.jsx(gne,{insurance:s,isEditing:r})})]})]})},pC=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(vne,{})}),o.jsx(jt,{})]})}),yne=()=>{const{vehicles:t,registrations:e}=Xe(),n=We(),r=t.map(a=>{const l=e.filter(c=>c.vehicleId===a.id);return{vehicle:a,registrations:l}}),s=new Date,i=new Date;return i.setDate(s.getDate()+30),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-garage-blue",children:"Vehicle Registrations"}),o.jsxs(z,{onClick:()=>n("/registration/add"),className:"flex items-center",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add Registration"]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.map(({vehicle:a,registrations:l})=>o.jsxs(ve,{className:"overflow-hidden",children:[o.jsxs(_e,{className:"bg-garage-blue text-white flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white",children:[a.year," ",a.make," ",a.model]}),o.jsx(ht,{className:"text-garage-silver",children:l.length>0?`${l.length} Registration ${l.length===1?"Record":"Records"}`:"No Registration Records"})]}),o.jsx(z,{variant:"outline",size:"sm",className:"bg-white text-garage-blue hover:bg-white/90",onClick:()=>n(`/registration/add?vehicleId=${a.id}`),children:"Add Registration"})]}),o.jsx(ye,{className:"p-0",children:l.length>0?o.jsx("div",{className:"divide-y",children:l.map(c=>{const u=new Date(c.expiryDate),d=u<s,f=!d&&u<=i;return o.jsxs("div",{className:`p-4 ${d?"bg-red-50":f?"bg-amber-50":""}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{children:o.jsxs("h3",{className:"font-medium text-lg flex items-center",children:[c.state," Registration",d?o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-red-700 bg-red-100 rounded-full px-2.5 py-0.5",children:[o.jsx(Er,{className:"w-3 h-3 mr-1"}),"Expired"]}):f?o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-amber-700 bg-amber-100 rounded-full px-2.5 py-0.5",children:[o.jsx(Er,{className:"w-3 h-3 mr-1"}),"Expiring Soon"]}):o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-green-700 bg-green-100 rounded-full px-2.5 py-0.5",children:[o.jsx(bi,{className:"w-3 h-3 mr-1"}),"Active"]})]})}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(`/registration/edit/${c.id}`),children:"Edit"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiry Date"}),o.jsx("p",{className:"font-medium",children:new Date(c.expiryDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Fee"}),o.jsxs("p",{className:"font-medium",children:["$",c.fee.toFixed(2)]})]}),c.renewalUrl&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Renewal URL"}),o.jsx("a",{href:c.renewalUrl,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline",children:"Renew Online"})]})]})]},c.id)})}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(bi,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No registration records found for this vehicle."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>n(`/registration/add?vehicleId=${a.id}`),children:"Add Registration"})]})})]},a.id)),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(bi,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-2",children:"No Vehicles Found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Add vehicles to your garage to manage their registrations."}),o.jsx(z,{onClick:()=>n("/vehicles/add"),children:"Add Vehicle"})]})]})]})},xne=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(yne,{})}),o.jsx(jt,{})]})}),wne=Dn.object({vehicleId:Dn.string({required_error:"Please select a vehicle"}),expiryDate:Dn.date({required_error:"Please select an expiry date"}),fee:Dn.coerce.number().min(0,{message:"Fee must be a positive number"}),state:Dn.string().min(2,{message:"State must be at least 2 characters"}),renewalUrl:Dn.string().url({message:"Please enter a valid URL"}).optional().or(Dn.literal("")),notes:Dn.string().optional()}),_ne=({registration:t,onSubmit:e,isEditing:n})=>{const{vehicles:r,addRegistration:s,updateRegistration:i}=Xe(),a=We(),[l,c]=p.useState([]),u=ai({resolver:ya(wne),defaultValues:{vehicleId:(t==null?void 0:t.vehicleId)||"",expiryDate:t!=null&&t.expiryDate?new Date(t.expiryDate):void 0,fee:(t==null?void 0:t.fee)||0,state:(t==null?void 0:t.state)||"",renewalUrl:(t==null?void 0:t.renewalUrl)||"",notes:""}});p.useEffect(()=>{c(r)},[r,t]);const d=f=>{e?e({...f,expiryDate:f.expiryDate}):t&&t.id?(i(t.id,{vehicleId:f.vehicleId,expiryDate:f.expiryDate.toISOString(),fee:f.fee,state:f.state,renewalUrl:f.renewalUrl||""}),a("/registration")):(s({vehicleId:f.vehicleId,expiryDate:f.expiryDate.toISOString(),fee:f.fee,state:f.state,renewalUrl:f.renewalUrl||""}),a("/registration"))};return o.jsx(mu,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-6",children:[o.jsx(st,{control:u.control,name:"vehicleId",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Vehicle"}),o.jsxs(xs,{onValueChange:f.onChange,defaultValue:f.value,disabled:!!t,children:[o.jsx(tt,{children:o.jsx(Wr,{children:o.jsx(ws,{placeholder:"Select a vehicle"})})}),o.jsx(Hr,{children:l.map(m=>o.jsxs(Qt,{value:m.id,children:[m.year," ",m.make," ",m.model," (",m.licensePlate,")"]},m.id))})]}),o.jsx(at,{})]})}),o.jsx(st,{control:u.control,name:"expiryDate",render:({field:f})=>o.jsxs(et,{className:"flex flex-col",children:[o.jsx(Je,{children:"Expiry Date"}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsx(tt,{children:o.jsxs(z,{variant:"outline",className:ie("w-full pl-3 text-left font-normal",!f.value&&"text-muted-foreground"),children:[f.value?Zt(f.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(Gs,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Wi,{className:"w-auto p-0",align:"start",children:o.jsx(zi,{mode:"single",selected:f.value,onSelect:f.onChange,disabled:m=>m<new Date,initialFocus:!0})})]}),o.jsx(at,{})]})}),o.jsx(st,{control:u.control,name:"fee",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Registration Fee (MVR)"}),o.jsx(tt,{children:o.jsx(Ee,{type:"number",step:"0.01",...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:u.control,name:"state",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"State"}),o.jsx(tt,{children:o.jsx(Ee,{...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:u.control,name:"renewalUrl",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Renewal URL (Optional)"}),o.jsx(tt,{children:o.jsx(Ee,{...f})}),o.jsx(at,{})]})}),o.jsx(st,{control:u.control,name:"notes",render:({field:f})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Notes (Optional)"}),o.jsx(tt,{children:o.jsx(_l,{...f})}),o.jsx(at,{})]})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(z,{type:"button",variant:"outline",onClick:()=>a(-1),children:"Cancel"}),o.jsx(z,{type:"submit",children:t?"Update Registration":"Add Registration"})]})]})})},bne=()=>{const t=We(),{id:e}=qr(),{registrations:n,addRegistration:r,updateRegistration:s}=Xe(),i=!!e,a=i?n.find(c=>c.id===e):void 0;if(i&&!a)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-4",children:"Registration Not Found"}),o.jsx("p",{className:"mb-6",children:"The registration you're trying to edit doesn't exist or has been removed."}),o.jsx(z,{onClick:()=>t("/registration"),children:"Back to Registrations"})]});const l=c=>{i&&a?s(a.id,{...c,expiryDate:c.expiryDate.toISOString()}):r({...c,expiryDate:c.expiryDate.toISOString()}),t("/registration")};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsxs(z,{variant:"ghost",onClick:()=>t("/registration"),className:"mr-4",children:[o.jsx(bn,{className:"h-4 w-4 mr-2"}),"Back"]}),o.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-garage-blue flex items-center",children:[o.jsx(bi,{className:"h-6 w-6 mr-2"}),i?"Edit Vehicle Registration":"Add Vehicle Registration"]})]}),o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{children:i?"Edit Registration Details":"New Vehicle Registration"})}),o.jsx(ye,{children:o.jsx(_ne,{registration:a,isEditing:i,onSubmit:l})})]})]})},gC=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(bne,{})}),o.jsx(jt,{})]})}),Ene=()=>{const{vehicles:t,maintenances:e,refreshSubscriptions:n,isRefreshing:r,lastRefreshed:s}=Xe(),i=We(),a=t.map(f=>{const m=e.filter(g=>g.vehicleId===f.id);return{vehicle:f,maintenances:m}}),l=new Date;new Date().setDate(l.getDate()+30);const u=()=>s?`Last refreshed: ${s.toLocaleTimeString()}`:"Never refreshed",d=()=>{n()};return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsxs("main",{className:"container mx-auto py-8 px-4 flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-garage-blue",children:"Maintenance Records"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(tu,{children:o.jsxs(Dh,{children:[o.jsx(Mh,{asChild:!0,children:o.jsx(z,{variant:"outline",size:"icon",onClick:d,disabled:r,children:o.jsx(Rh,{className:`h-4 w-4 ${r?"animate-spin":""}`})})}),o.jsx(nu,{children:o.jsx("p",{children:u()})})]})}),o.jsxs(z,{onClick:()=>i("/maintenance/add"),className:"flex items-center",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add Maintenance"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.map(({vehicle:f,maintenances:m})=>o.jsxs(ve,{className:"overflow-hidden",children:[o.jsxs(_e,{className:"bg-garage-blue text-white flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white",children:[f.year," ",f.make," ",f.model]}),o.jsx(ht,{className:"text-garage-silver",children:m.length>0?`${m.length} Maintenance ${m.length===1?"Record":"Records"}`:"No Maintenance Records"})]}),o.jsx(z,{variant:"outline",size:"sm",className:"bg-white text-garage-blue hover:bg-white/90",onClick:()=>i(`/maintenance/add?vehicleId=${f.id}`),children:"Add Maintenance"})]}),o.jsx(ye,{className:"p-0",children:m.length>0?o.jsx("div",{className:"divide-y",children:m.sort((g,_)=>new Date(_.date).getTime()-new Date(g.date).getTime()).map(g=>o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{children:o.jsxs("h3",{className:"font-medium text-lg flex items-center",children:[g.type,o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-blue-700 bg-blue-100 rounded-full px-2.5 py-0.5",children:[o.jsx(Ds,{className:"w-3 h-3 mr-1"}),new Date(g.date).toLocaleDateString()]})]})}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>i(`/maintenance/edit/${g.id}`),children:"Edit"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Mileage"}),o.jsxs("p",{className:"font-medium",children:[g.mileage.toLocaleString()," miles"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Cost"}),o.jsxs("p",{className:"font-medium",children:["$",g.cost.toFixed(2)]})]}),g.shop&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Shop"}),o.jsx("p",{className:"font-medium",children:g.shop})]})]}),g.description&&o.jsxs("div",{className:"mt-3 pt-3 border-t",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Description"}),o.jsx("p",{className:"mt-1",children:g.description})]})]},g.id))}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(Ds,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No maintenance records found for this vehicle."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>i(`/maintenance/add?vehicleId=${f.id}`),children:"Add Maintenance Record"})]})})]},f.id)),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ds,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-2",children:"No Vehicles Found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Add vehicles to your garage to manage their maintenance records."}),o.jsx(z,{onClick:()=>i("/vehicles/add"),children:"Add Vehicle"})]})]})]}),o.jsx(jt,{})]})},Nne=fu({vehicleId:St().min(1,{message:"Vehicle is required"}),type:St().min(1,{message:"Type is required"}),date:il({required_error:"Date is required"}),mileage:yh().min(0,{message:"Mileage must be a positive number"}),description:St().min(1,{message:"Description is required"}),cost:yh().min(0,{message:"Cost must be a positive number"}),shop:St().optional()}),MO=({onSubmit:t,initialData:e})=>{const{vehicles:n}=Xe(),[r,s]=p.useState(e!=null&&e.date?new Date(e.date):new Date),{register:i,handleSubmit:a,setValue:l,formState:{errors:c},reset:u}=ai({resolver:ya(Nne),defaultValues:e?{...e,date:new Date(e.date)}:{vehicleId:"",type:"",date:new Date,mileage:0,description:"",cost:0,shop:""}});p.useEffect(()=>{e&&(u({...e,date:new Date(e.date)}),s(new Date(e.date)))},[e,u]);const d=m=>{s(m),m&&l("date",m,{shouldValidate:!0})},f=m=>{const g={vehicleId:m.vehicleId,type:m.type,date:m.date.toISOString(),mileage:m.mileage,description:m.description,cost:m.cost,shop:m.shop,documents:(e==null?void 0:e.documents)||[]};t(g)};return o.jsxs("form",{onSubmit:a(f),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"vehicleId",children:["Vehicle ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(xs,{onValueChange:m=>l("vehicleId",m,{shouldValidate:!0}),defaultValue:(e==null?void 0:e.vehicleId)||"",children:[o.jsx(Wr,{id:"vehicleId",children:o.jsx(ws,{placeholder:"Select a vehicle"})}),o.jsx(Hr,{children:n.map(m=>o.jsxs(Qt,{value:m.id,children:[m.year," ",m.make," ",m.model," (",m.licensePlate,")"]},m.id))})]}),c.vehicleId&&o.jsx("p",{className:"text-red-500 text-sm",children:c.vehicleId.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"type",children:["Maintenance Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Ee,{id:"type",placeholder:"Oil Change, Tire Rotation, Brake Service, etc.",...i("type")}),c.type&&o.jsx("p",{className:"text-red-500 text-sm",children:c.type.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"date",children:["Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",className:ie("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[o.jsx(Gs,{className:"mr-2 h-4 w-4"}),r?Zt(r,"PPP"):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(Wi,{className:"w-auto p-0",children:o.jsx(zi,{mode:"single",selected:r,onSelect:d,initialFocus:!0})})]}),c.date&&o.jsx("p",{className:"text-red-500 text-sm",children:c.date.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"mileage",children:["Mileage ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Ee,{id:"mileage",type:"number",placeholder:"Current vehicle mileage",...i("mileage",{valueAsNumber:!0})}),c.mileage&&o.jsx("p",{className:"text-red-500 text-sm",children:c.mileage.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"cost",children:["Cost ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2",children:"MVR"}),o.jsx(Ee,{id:"cost",type:"number",step:"0.01",className:"pl-12",placeholder:"0.00",...i("cost",{valueAsNumber:!0})})]}),c.cost&&o.jsx("p",{className:"text-red-500 text-sm",children:c.cost.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"shop",children:"Shop/Service Provider"}),o.jsx(Ee,{id:"shop",placeholder:"Name of shop or service provider",...i("shop")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"description",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(_l,{id:"description",placeholder:"Describe the maintenance performed",rows:4,...i("description")}),c.description&&o.jsx("p",{className:"text-red-500 text-sm",children:c.description.message})]}),o.jsx(z,{type:"submit",className:"w-full",children:e?"Update Maintenance Record":"Add Maintenance Record"})]})},jne=()=>{const{addMaintenance:t,vehicles:e}=Xe(),n=We(),r=si(),i=new URLSearchParams(r.search).get("vehicleId"),[a,l]=p.useState(!0);p.useEffect(()=>{console.log("Vehicles in AddMaintenancePage:",e),l(!1)},[e]);const c=u=>{try{const d=i?{...u,vehicleId:i}:u;console.log("Adding maintenance record:",d),t(d),mt.success("Maintenance record added successfully"),n("/maintenance")}catch(d){console.error("Error adding maintenance record:",d),mt.error("Failed to add maintenance record")}};return a?o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx("div",{className:"max-w-2xl mx-auto text-center",children:o.jsx("p",{children:"Loading vehicles..."})})}),o.jsx(jt,{})]}):e.length===0?o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6 text-garage-blue",children:"Add Maintenance Record"}),o.jsx("p",{className:"mb-4",children:"No vehicles found. Please add a vehicle first."}),o.jsx("button",{onClick:()=>n("/vehicles/add"),className:"bg-garage-blue text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add Vehicle"})]})}),o.jsx(jt,{})]}):o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6 text-garage-blue",children:"Add Maintenance Record"}),o.jsx(MO,{onSubmit:c,initialData:void 0})]})}),o.jsx(jt,{})]})},Tne=()=>{const{maintenances:t,updateMaintenance:e}=Xe(),n=We(),{id:r}=qr(),[s,i]=p.useState(void 0),[a,l]=p.useState(!0),[c,u]=p.useState(!1);p.useEffect(()=>{if(r){const f=t.find(m=>m.id===r);f?i(f):u(!0),l(!1)}},[r,t]);const d=f=>{try{if(!r)return;console.log("Updating maintenance record:",f),e(r,f),mt.success("Maintenance record updated successfully"),n("/maintenance")}catch(m){console.error("Error updating maintenance record:",m),mt.error("Failed to update maintenance record")}};return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6 text-garage-blue",children:"Edit Maintenance Record"}),a?o.jsx(ve,{children:o.jsx(ye,{className:"pt-6",children:o.jsx("p",{className:"text-center",children:"Loading maintenance record..."})})}):c?o.jsxs(Ws,{variant:"destructive",children:[o.jsx(xk,{className:"h-4 w-4"}),o.jsx(Ri,{children:"Error"}),o.jsxs(Hs,{children:["Maintenance record not found. ",o.jsx("a",{href:"/maintenance",className:"underline",children:"Return to maintenance records"})]})]}):o.jsx(MO,{onSubmit:d,initialData:s})]})}),o.jsx(jt,{})]})};var nE="Checkbox",[Cne,ese]=ni(nE),[Sne,Ine]=Cne(nE),OO=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,g]=p.useState(null),_=ot(e,S=>g(S)),v=p.useRef(!1),x=m?d||!!m.closest("form"):!0,[b=!1,w]=Ks({prop:s,defaultProp:i,onChange:u}),E=p.useRef(b);return p.useEffect(()=>{const S=m==null?void 0:m.form;if(S){const A=()=>w(E.current);return S.addEventListener("reset",A),()=>S.removeEventListener("reset",A)}},[m,w]),o.jsxs(Sne,{scope:n,state:b,disabled:l,children:[o.jsx(ke.button,{type:"button",role:"checkbox","aria-checked":Ho(b)?"mixed":b,"aria-required":a,"data-state":FO(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:_,onKeyDown:se(t.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:se(t.onClick,S=>{w(A=>Ho(A)?!0:!A),x&&(v.current=S.isPropagationStopped(),v.current||S.stopPropagation())})}),x&&o.jsx(kne,{control:m,bubbles:!v.current,name:r,value:c,checked:b,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ho(i)?!1:i})]})});OO.displayName=nE;var LO="CheckboxIndicator",VO=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Ine(LO,n);return o.jsx(gr,{present:r||Ho(i.state)||i.state===!0,children:o.jsx(ke.span,{"data-state":FO(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});VO.displayName=LO;var kne=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,a=p.useRef(null),l=ZM(n),c=$k(e);p.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&g){const _=new Event("click",{bubbles:r});d.indeterminate=Ho(n),g.call(d,Ho(n)?!1:n),d.dispatchEvent(_)}},[l,n,r]);const u=p.useRef(Ho(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:a,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ho(t){return t==="indeterminate"}function FO(t){return Ho(t)?"indeterminate":t?"checked":"unchecked"}var $O=OO,Rne=VO;const Jp=p.forwardRef(({className:t,...e},n)=>o.jsx($O,{ref:n,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(Rne,{className:ie("flex items-center justify-center text-current"),children:o.jsx(s_,{className:"h-4 w-4"})})}));Jp.displayName=$O.displayName;const Pne=fu({vehicleId:St().min(1,{message:"Vehicle is required"}),type:Fb(["accident","theft","damage","other"],{required_error:"Incident type is required"}),date:il({required_error:"Date is required"}),description:St().min(1,{message:"Description is required"}),location:St().optional(),cost:yh().min(0,{message:"Cost must be a positive number"}).optional(),insuranceClaim:xh().default(!1)}),UO=({onSubmit:t,initialData:e})=>{const{vehicles:n}=Xe(),[r,s]=p.useState(e!=null&&e.date?new Date(e.date):new Date),{register:i,handleSubmit:a,setValue:l,formState:{errors:c},reset:u,watch:d}=ai({resolver:ya(Pne),defaultValues:e?{...e,date:new Date(e.date)}:{vehicleId:"",type:"accident",date:new Date,description:"",location:"",cost:void 0,insuranceClaim:!1}});p.useEffect(()=>{e&&(u({...e,date:new Date(e.date)}),s(new Date(e.date)))},[e,u]);const f=g=>{s(g),g&&l("date",g,{shouldValidate:!0})},m=g=>{const _={vehicleId:g.vehicleId,type:g.type,date:g.date.toISOString(),description:g.description,location:g.location,cost:g.cost,insuranceClaim:g.insuranceClaim,documents:(e==null?void 0:e.documents)||[]};t(_)};return o.jsxs("form",{onSubmit:a(m),className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"vehicleId",children:["Vehicle ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(xs,{onValueChange:g=>l("vehicleId",g,{shouldValidate:!0}),defaultValue:(e==null?void 0:e.vehicleId)||"",children:[o.jsx(Wr,{id:"vehicleId",children:o.jsx(ws,{placeholder:"Select a vehicle"})}),o.jsx(Hr,{children:n.map(g=>o.jsxs(Qt,{value:g.id,children:[g.year," ",g.make," ",g.model," (",g.licensePlate,")"]},g.id))})]}),c.vehicleId&&o.jsx("p",{className:"text-red-500 text-sm",children:c.vehicleId.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"type",children:["Incident Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(xs,{onValueChange:g=>l("type",g,{shouldValidate:!0}),defaultValue:(e==null?void 0:e.type)||"accident",children:[o.jsx(Wr,{id:"type",children:o.jsx(ws,{placeholder:"Select incident type"})}),o.jsxs(Hr,{children:[o.jsx(Qt,{value:"accident",children:"Accident"}),o.jsx(Qt,{value:"theft",children:"Theft"}),o.jsx(Qt,{value:"damage",children:"Damage"}),o.jsx(Qt,{value:"other",children:"Other"})]})]}),c.type&&o.jsx("p",{className:"text-red-500 text-sm",children:c.type.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"date",children:["Date ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",className:ie("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[o.jsx(Gs,{className:"mr-2 h-4 w-4"}),r?Zt(r,"PPP"):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(Wi,{className:"w-auto p-0",children:o.jsx(zi,{mode:"single",selected:r,onSelect:f,initialFocus:!0})})]}),c.date&&o.jsx("p",{className:"text-red-500 text-sm",children:c.date.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"location",children:"Location"}),o.jsx(Ee,{id:"location",placeholder:"Where did the incident occur?",...i("location")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"cost",children:"Cost (if known)"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-3 top-2",children:"$"}),o.jsx(Ee,{id:"cost",type:"number",step:"0.01",className:"pl-7",placeholder:"0.00",...i("cost",{valueAsNumber:!0})})]}),c.cost&&o.jsx("p",{className:"text-red-500 text-sm",children:c.cost.message})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jp,{id:"insuranceClaim",checked:d("insuranceClaim"),onCheckedChange:g=>l("insuranceClaim",g,{shouldValidate:!0})}),o.jsx(ze,{htmlFor:"insuranceClaim",children:"Insurance claim filed"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ze,{htmlFor:"description",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(_l,{id:"description",placeholder:"Describe what happened",rows:4,...i("description")}),c.description&&o.jsx("p",{className:"text-red-500 text-sm",children:c.description.message})]}),o.jsx(z,{type:"submit",className:"w-full",children:e?"Update Incident Report":"Add Incident Report"})]})},Ane=()=>{const{addIncident:t}=Xe(),e=We(),n=si(),s=new URLSearchParams(n.search).get("vehicleId"),i=a=>{try{const l=s?{...a,vehicleId:s}:a;console.log("Adding incident report:",l),t(l),mt.success("Incident report added successfully"),e("/documents")}catch(l){console.error("Error adding incident report:",l),mt.error("Failed to add incident report")}};return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6 text-garage-blue",children:"Add Incident Report"}),o.jsx(UO,{onSubmit:i,initialData:s?{vehicleId:s}:void 0})]})}),o.jsx(jt,{})]})},Dne=()=>{const{incidents:t,updateIncident:e}=Xe(),n=We(),{id:r}=qr(),[s,i]=p.useState(void 0),[a,l]=p.useState(!0),[c,u]=p.useState(!1);p.useEffect(()=>{if(r){const f=t.find(m=>m.id===r);f?i(f):u(!0),l(!1)}},[r,t]);const d=f=>{try{if(!r)return;console.log("Updating incident report:",f),e(r,f),mt.success("Incident report updated successfully"),n("/documents")}catch(m){console.error("Error updating incident report:",m),mt.error("Failed to update incident report")}};return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6 text-garage-blue",children:"Edit Incident Report"}),a?o.jsx(ve,{children:o.jsx(ye,{className:"pt-6",children:o.jsx("p",{className:"text-center",children:"Loading incident report..."})})}):c?o.jsxs(Ws,{variant:"destructive",children:[o.jsx(xk,{className:"h-4 w-4"}),o.jsx(Ri,{children:"Error"}),o.jsxs(Hs,{children:["Incident report not found. ",o.jsx("a",{href:"/documents",className:"underline",children:"Return to documents"})]})]}):o.jsx(UO,{onSubmit:d,initialData:s})]})}),o.jsx(jt,{})]})},Mne=()=>{const{vehicles:t,incidents:e,refreshSubscriptions:n,isRefreshing:r,lastRefreshed:s}=Xe(),i=We(),a=t.map(d=>{const f=e.filter(m=>m.vehicleId===d.id);return{vehicle:d,incidents:f}}),l=()=>s?`Last refreshed: ${s.toLocaleTimeString()}`:"Never refreshed",c=()=>{n()},u=d=>{switch(d){case"accident":return"bg-red-100 text-red-800";case"theft":return"bg-purple-100 text-purple-800";case"damage":return"bg-orange-100 text-orange-800";case"other":default:return"bg-blue-100 text-blue-800"}};return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsxs("main",{className:"container mx-auto py-8 px-4 flex-grow",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-garage-blue",children:"Incident Reports"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(tu,{children:o.jsxs(Dh,{children:[o.jsx(Mh,{asChild:!0,children:o.jsx(z,{variant:"outline",size:"icon",onClick:c,disabled:r,children:o.jsx(Rh,{className:`h-4 w-4 ${r?"animate-spin":""}`})})}),o.jsx(nu,{children:o.jsx("p",{children:l()})})]})}),o.jsxs(z,{onClick:()=>i("/incidents/add"),className:"flex items-center",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add Incident"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.map(({vehicle:d,incidents:f})=>o.jsxs(ve,{className:"overflow-hidden",children:[o.jsxs(_e,{className:"bg-garage-blue text-white flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white",children:[d.year," ",d.make," ",d.model]}),o.jsx(ht,{className:"text-garage-silver",children:f.length>0?`${f.length} Incident ${f.length===1?"Report":"Reports"}`:"No Incident Reports"})]}),o.jsx(z,{variant:"outline",size:"sm",className:"bg-white text-garage-blue hover:bg-white/90",onClick:()=>i(`/incidents/add?vehicleId=${d.id}`),children:"Add Incident"})]}),o.jsx(ye,{className:"p-0",children:f.length>0?o.jsx("div",{className:"divide-y",children:f.sort((m,g)=>new Date(g.date).getTime()-new Date(m.date).getTime()).map(m=>o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("div",{children:o.jsxs("h3",{className:"font-medium text-lg flex items-center",children:[o.jsxs("span",{className:`inline-flex items-center text-xs font-medium ${u(m.type)} rounded-full px-2.5 py-0.5 mr-2 capitalize`,children:[o.jsx(Er,{className:"w-3 h-3 mr-1"}),m.type]}),new Date(m.date).toLocaleDateString()]})}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>i(`/incidents/edit/${m.id}`),children:"Edit"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[m.location&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),o.jsx("p",{className:"font-medium",children:m.location})]}),m.cost!==void 0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Cost"}),o.jsxs("p",{className:"font-medium",children:["$",m.cost.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Insurance Claim"}),o.jsx("p",{className:"font-medium",children:m.insuranceClaim?"Yes":"No"})]})]}),m.description&&o.jsxs("div",{className:"mt-3 pt-3 border-t",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Description"}),o.jsx("p",{className:"mt-1",children:m.description})]})]},m.id))}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(Er,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No incident reports found for this vehicle."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>i(`/incidents/add?vehicleId=${d.id}`),children:"Add Incident Report"})]})})]},d.id)),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(gk,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-2",children:"No Vehicles Found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Add vehicles to your garage to manage their incident reports."}),o.jsx(z,{onClick:()=>i("/vehicles/add"),children:"Add Vehicle"})]})]})]}),o.jsx(jt,{})]})},One=()=>{const{vehicles:t,insurances:e,registrations:n,maintenances:r,incidents:s,refreshSubscriptions:i,isRefreshing:a,lastRefreshed:l}=Xe(),c=We(),[u,d]=p.useState(""),f=(E,S)=>{if(!u)return E;const A=u.toLowerCase();return E.filter(V=>{const T=t.find(C=>C.id===V.vehicleId),j=T?`${T.year} ${T.make} ${T.model}`.toLowerCase():"";switch(S){case"insurance":return j.includes(A)||V.provider.toLowerCase().includes(A)||V.policyNumber.toLowerCase().includes(A);case"registration":return j.includes(A)||V.state.toLowerCase().includes(A);case"maintenance":return j.includes(A)||V.type.toLowerCase().includes(A)||V.description&&V.description.toLowerCase().includes(A)||V.shop&&V.shop.toLowerCase().includes(A);case"incident":return j.includes(A)||V.type.toLowerCase().includes(A)||V.description.toLowerCase().includes(A)||V.location&&V.location.toLowerCase().includes(A);default:return!1}})},m=f(e,"insurance"),g=f(n,"registration"),_=f(r,"maintenance"),v=f(s,"incident"),x=E=>{const S=t.find(A=>A.id===E);return S?`${S.year} ${S.make} ${S.model}`:"Unknown Vehicle"},b=()=>l?`Last refreshed: ${l.toLocaleTimeString()}`:"Never refreshed",w=()=>{i()};return o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsxs("main",{className:"container mx-auto py-8 px-4 flex-grow",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-garage-blue",children:"Vehicle Documents"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tu,{children:o.jsxs(Dh,{children:[o.jsx(Mh,{asChild:!0,children:o.jsx(z,{variant:"outline",size:"icon",onClick:w,disabled:a,children:o.jsx(Rh,{className:`h-4 w-4 ${a?"animate-spin":""}`})})}),o.jsx(nu,{children:o.jsx("p",{children:b()})})]})}),o.jsx("div",{className:"w-full md:w-64",children:o.jsx("div",{className:"relative",children:o.jsx(Ee,{type:"text",placeholder:"Search documents...",value:u,onChange:E=>d(E.target.value),className:"w-full"})})})]})]}),o.jsxs(wl,{defaultValue:"all",className:"w-full",children:[o.jsxs(va,{className:"grid grid-cols-5 mb-6",children:[o.jsxs(Dt,{value:"all",className:"flex flex-col py-2",children:[o.jsx(sp,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"All"})]}),o.jsxs(Dt,{value:"insurance",className:"flex flex-col py-2",children:[o.jsx(rs,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Insurance"})]}),o.jsxs(Dt,{value:"registration",className:"flex flex-col py-2",children:[o.jsx(bi,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Registration"})]}),o.jsxs(Dt,{value:"maintenance",className:"flex flex-col py-2",children:[o.jsx(Ds,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Maintenance"})]}),o.jsxs(Dt,{value:"incidents",className:"flex flex-col py-2",children:[o.jsx(Er,{className:"h-4 w-4 mb-1"}),o.jsx("span",{children:"Incidents"})]})]}),o.jsx(ln,{value:"all",children:o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[m.length>0&&o.jsxs(ve,{children:[o.jsxs(_e,{className:"bg-garage-blue text-white",children:[o.jsxs(be,{className:"text-white flex items-center",children:[o.jsx(rs,{className:"mr-2 h-5 w-5"}),"Insurance Documents"]}),o.jsx(ht,{className:"text-garage-silver",children:"Policy records and coverage information"})]}),o.jsx(ye,{className:"p-0",children:o.jsx("div",{className:"divide-y",children:m.map(E=>o.jsxs("div",{className:"p-4 flex flex-col md:flex-row justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium",children:[E.provider," - Policy #",E.policyNumber]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x(E.vehicleId)}),o.jsxs("p",{className:"text-sm",children:["Valid: ",new Date(E.startDate).toLocaleDateString()," - ",new Date(E.expiryDate).toLocaleDateString()]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",onClick:()=>c(`/insurance/edit/${E.id}`),children:"View Details"})]},E.id))})})]}),g.length>0&&o.jsxs(ve,{children:[o.jsxs(_e,{className:"bg-garage-blue text-white",children:[o.jsxs(be,{className:"text-white flex items-center",children:[o.jsx(bi,{className:"mr-2 h-5 w-5"}),"Registration Documents"]}),o.jsx(ht,{className:"text-garage-silver",children:"Vehicle registration records"})]}),o.jsx(ye,{className:"p-0",children:o.jsx("div",{className:"divide-y",children:g.map(E=>o.jsxs("div",{className:"p-4 flex flex-col md:flex-row justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium",children:[E.state," Registration"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x(E.vehicleId)}),o.jsxs("p",{className:"text-sm",children:["Expires: ",new Date(E.expiryDate).toLocaleDateString()]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",onClick:()=>c(`/registration/edit/${E.id}`),children:"View Details"})]},E.id))})})]}),_.length>0&&o.jsxs(ve,{children:[o.jsxs(_e,{className:"bg-garage-blue text-white",children:[o.jsxs(be,{className:"text-white flex items-center",children:[o.jsx(Ds,{className:"mr-2 h-5 w-5"}),"Maintenance Records"]}),o.jsx(ht,{className:"text-garage-silver",children:"Service and repair documentation"})]}),o.jsx(ye,{className:"p-0",children:o.jsx("div",{className:"divide-y",children:_.map(E=>o.jsxs("div",{className:"p-4 flex flex-col md:flex-row justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:E.type}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x(E.vehicleId)}),o.jsxs("p",{className:"text-sm",children:["Date: ",new Date(E.date).toLocaleDateString()," | Mileage: ",E.mileage.toLocaleString()]}),E.shop&&o.jsxs("p",{className:"text-sm",children:["Shop: ",E.shop]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",onClick:()=>c(`/maintenance/edit/${E.id}`),children:"View Details"})]},E.id))})})]}),v.length>0&&o.jsxs(ve,{children:[o.jsxs(_e,{className:"bg-garage-blue text-white",children:[o.jsxs(be,{className:"text-white flex items-center",children:[o.jsx(Er,{className:"mr-2 h-5 w-5"}),"Incident Reports"]}),o.jsx(ht,{className:"text-garage-silver",children:"Accident and damage records"})]}),o.jsx(ye,{className:"p-0",children:o.jsx("div",{className:"divide-y",children:v.map(E=>o.jsxs("div",{className:"p-4 flex flex-col md:flex-row justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium capitalize",children:E.type}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x(E.vehicleId)}),o.jsxs("p",{className:"text-sm",children:["Date: ",new Date(E.date).toLocaleDateString(),E.location&&` | Location: ${E.location}`]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",onClick:()=>c(`/incidents/edit/${E.id}`),children:"View Details"})]},E.id))})})]}),m.length===0&&g.length===0&&_.length===0&&v.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(sp,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-2",children:"No Documents Found"}),u?o.jsx("p",{className:"text-muted-foreground mb-6",children:"No documents match your search criteria. Try different keywords."}):o.jsx("p",{className:"text-muted-foreground mb-6",children:"Add vehicles and their related documents to start tracking them."})]})]})}),o.jsx(ln,{value:"insurance",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2 bg-garage-blue text-white",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white flex items-center",children:[o.jsx(rs,{className:"mr-2 h-5 w-5"}),"Insurance Documents"]}),o.jsxs(ht,{className:"text-garage-silver",children:[m.length," ",m.length===1?"policy":"policies"," found"]})]}),o.jsxs(z,{size:"sm",onClick:()=>c("/insurance/add"),className:"bg-white text-garage-blue hover:bg-white/90",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add Policy"]})]}),o.jsx(ye,{className:"p-0",children:m.length>0?o.jsx("div",{className:"divide-y",children:m.map(E=>o.jsxs("div",{className:"p-4 flex flex-col md:flex-row justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium",children:[E.provider," - Policy #",E.policyNumber]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x(E.vehicleId)}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsx("span",{className:`rounded px-2 py-0.5 text-xs ${new Date(E.expiryDate)<new Date?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:new Date(E.expiryDate)<new Date?"Expired":"Active"}),o.jsxs("span",{className:"ml-2",children:["Valid until ",new Date(E.expiryDate).toLocaleDateString()]})]}),o.jsxs("p",{className:"text-sm mt-1",children:["Coverage: ",E.coverage]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",onClick:()=>c(`/insurance/edit/${E.id}`),children:"View Details"})]},E.id))}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(rs,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No insurance policies found."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>c("/insurance/add"),children:"Add Insurance Policy"})]})})]})}),o.jsx(ln,{value:"registration",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2 bg-garage-blue text-white",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white flex items-center",children:[o.jsx(bi,{className:"mr-2 h-5 w-5"}),"Registration Documents"]}),o.jsxs(ht,{className:"text-garage-silver",children:[g.length," ",g.length===1?"registration":"registrations"," found"]})]}),o.jsxs(z,{size:"sm",onClick:()=>c("/registration/add"),className:"bg-white text-garage-blue hover:bg-white/90",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add Registration"]})]}),o.jsx(ye,{className:"p-0",children:g.length>0?o.jsx("div",{className:"divide-y",children:g.map(E=>o.jsxs("div",{className:"p-4 flex flex-col md:flex-row justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium",children:[E.state," Registration"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x(E.vehicleId)}),o.jsxs("div",{className:"text-sm mt-1",children:[o.jsx("span",{className:`rounded px-2 py-0.5 text-xs ${new Date(E.expiryDate)<new Date?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:new Date(E.expiryDate)<new Date?"Expired":"Active"}),o.jsxs("span",{className:"ml-2",children:["Expires on ",new Date(E.expiryDate).toLocaleDateString()]})]}),o.jsxs("p",{className:"text-sm mt-1",children:["Fee: $",E.fee.toFixed(2)]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",onClick:()=>c(`/registration/edit/${E.id}`),children:"View Details"})]},E.id))}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(bi,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No vehicle registrations found."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>c("/registration/add"),children:"Add Registration"})]})})]})}),o.jsx(ln,{value:"maintenance",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2 bg-garage-blue text-white",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white flex items-center",children:[o.jsx(Ds,{className:"mr-2 h-5 w-5"}),"Maintenance Records"]}),o.jsxs(ht,{className:"text-garage-silver",children:[_.length," ",_.length===1?"record":"records"," found"]})]}),o.jsxs(z,{size:"sm",onClick:()=>c("/maintenance/add"),className:"bg-white text-garage-blue hover:bg-white/90",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add Record"]})]}),o.jsx(ye,{className:"p-0",children:_.length>0?o.jsx("div",{className:"divide-y",children:_.sort((E,S)=>new Date(S.date).getTime()-new Date(E.date).getTime()).map(E=>o.jsxs("div",{className:"p-4 flex flex-col md:flex-row justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:E.type}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x(E.vehicleId)}),o.jsxs("p",{className:"text-sm mt-1",children:["Date: ",new Date(E.date).toLocaleDateString()," | Mileage: ",E.mileage.toLocaleString()," miles"]}),E.shop&&o.jsxs("p",{className:"text-sm mt-1",children:["Shop: ",E.shop]}),o.jsxs("p",{className:"text-sm mt-1",children:["Cost: $",E.cost.toFixed(2)]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",onClick:()=>c(`/maintenance/edit/${E.id}`),children:"View Details"})]},E.id))}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(Ds,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No maintenance records found."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>c("/maintenance/add"),children:"Add Maintenance Record"})]})})]})}),o.jsx(ln,{value:"incidents",children:o.jsxs(ve,{children:[o.jsxs(_e,{className:"flex flex-row items-center justify-between pb-2 bg-garage-blue text-white",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white flex items-center",children:[o.jsx(Er,{className:"mr-2 h-5 w-5"}),"Incident Reports"]}),o.jsxs(ht,{className:"text-garage-silver",children:[v.length," ",v.length===1?"report":"reports"," found"]})]}),o.jsxs(z,{size:"sm",onClick:()=>c("/incidents/add"),className:"bg-white text-garage-blue hover:bg-white/90",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add Report"]})]}),o.jsx(ye,{className:"p-0",children:v.length>0?o.jsx("div",{className:"divide-y",children:v.sort((E,S)=>new Date(S.date).getTime()-new Date(E.date).getTime()).map(E=>o.jsxs("div",{className:"p-4 flex flex-col md:flex-row justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium capitalize",children:E.type}),o.jsx("p",{className:"text-sm text-muted-foreground",children:x(E.vehicleId)}),o.jsxs("p",{className:"text-sm mt-1",children:["Date: ",new Date(E.date).toLocaleDateString()]}),E.location&&o.jsxs("p",{className:"text-sm mt-1",children:["Location: ",E.location]}),E.cost!==void 0&&o.jsxs("p",{className:"text-sm mt-1",children:["Cost: $",E.cost.toFixed(2)]}),o.jsxs("p",{className:"text-sm mt-1",children:["Insurance Claim: ",E.insuranceClaim?"Yes":"No"]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"mt-2 md:mt-0",onClick:()=>c(`/incidents/edit/${E.id}`),children:"View Details"})]},E.id))}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(Er,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No incident reports found."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>c("/incidents/add"),children:"Add Incident Report"})]})})]})})]})]}),o.jsx(jt,{})]})},Lne=kh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rd({className:t,variant:e,...n}){return o.jsx("div",{className:ie(Lne({variant:e}),t),...n})}const rm=t=>{switch(t){case"tax":return{label:"Tax",variant:"destructive"};case"permit":return{label:"Permit",variant:"outline"};case"subscription":return{label:"Subscription",variant:"secondary"};default:return{label:"Other",variant:"default"}}},Vne=()=>{const{vehicles:t,annualFees:e}=Xe(),n=We(),[r,s]=p.useState("all"),i=t.map(f=>{const m=e.filter(g=>g.vehicleId===f.id);return{vehicle:f,fees:m}}),a=new Date,l=new Date;l.setDate(a.getDate()+30);const c=e.filter(f=>f.isPaid?!1:new Date(f.dueDate)<=l),u=e.filter(f=>f.isPaid?!1:new Date(f.dueDate)<a),d=e.filter(f=>f.isPaid);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-garage-blue",children:"Annual Fees"}),o.jsxs(z,{onClick:()=>n("/annualfees/add"),className:"flex items-center",children:[o.jsx(Ei,{className:"mr-2 h-4 w-4"}),"Add New Fee"]})]}),o.jsxs(wl,{defaultValue:"all",value:r,onValueChange:s,className:"mb-6",children:[o.jsxs(va,{className:"grid w-full grid-cols-4",children:[o.jsx(Dt,{value:"all",children:"All Fees"}),o.jsxs(Dt,{value:"overdue",className:"flex items-center",children:["Overdue",u.length>0&&o.jsx("span",{className:"ml-1 rounded-full bg-red-100 text-red-800 text-xs px-2",children:u.length})]}),o.jsxs(Dt,{value:"upcoming",className:"flex items-center",children:["Upcoming",c.length>0&&o.jsx("span",{className:"ml-1 rounded-full bg-amber-100 text-amber-800 text-xs px-2",children:c.length})]}),o.jsx(Dt,{value:"paid",children:"Paid"})]}),o.jsx(ln,{value:"all",className:"mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.map(({vehicle:f,fees:m})=>o.jsxs(ve,{className:"overflow-hidden",children:[o.jsxs(_e,{className:"bg-garage-blue text-white flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"text-white",children:[f.year," ",f.make," ",f.model]}),o.jsx(ht,{className:"text-garage-silver",children:m.length>0?`${m.length} Annual ${m.length===1?"Fee":"Fees"}`:"No Annual Fees"})]}),o.jsx(z,{variant:"outline",size:"sm",className:"bg-white text-garage-blue hover:bg-white/90",onClick:()=>n(`/annualfees/add?vehicleId=${f.id}`),children:"Add Fee"})]}),o.jsx(ye,{className:"p-0",children:m.length>0?o.jsx("div",{className:"divide-y",children:m.map(g=>{const _=new Date(g.dueDate),v=!g.isPaid&&_<a,x=!g.isPaid&&!v&&_<=l,b=rm(g.category);return o.jsxs("div",{className:`p-4 ${v?"bg-red-50":x?"bg-amber-50":g.isPaid?"bg-green-50":""}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-medium text-lg flex items-center",children:[g.name,v?o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-red-700 bg-red-100 rounded-full px-2.5 py-0.5",children:[o.jsx(yN,{className:"w-3 h-3 mr-1"}),"Overdue"]}):x?o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-amber-700 bg-amber-100 rounded-full px-2.5 py-0.5",children:[o.jsx(Er,{className:"w-3 h-3 mr-1"}),"Due Soon"]}):g.isPaid?o.jsxs("span",{className:"ml-2 inline-flex items-center text-xs font-medium text-green-700 bg-green-100 rounded-full px-2.5 py-0.5",children:[o.jsx(Bf,{className:"w-3 h-3 mr-1"}),"Paid"]}):null]}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx(rd,{variant:b.variant,className:"mr-2",children:b.label}),g.recurring&&o.jsx("span",{className:"text-xs text-muted-foreground bg-gray-100 px-2 py-0.5 rounded",children:"Recurring"})]})]}),o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(`/annualfees/edit/${g.id}`),children:"Edit"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount"}),o.jsxs("p",{className:"font-medium",children:["$",g.amount.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),o.jsx("p",{className:"font-medium",children:new Date(g.dueDate).toLocaleDateString()})]}),g.isPaid&&g.paidDate&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid On"}),o.jsx("p",{className:"font-medium",children:new Date(g.paidDate).toLocaleDateString()})]})]}),g.description&&o.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:o.jsx("p",{children:g.description})})]},g.id)})}):o.jsxs("div",{className:"p-6 text-center",children:[o.jsx(md,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),o.jsx("p",{className:"text-muted-foreground",children:"No annual fees found for this vehicle."}),o.jsx(z,{variant:"outline",className:"mt-4",onClick:()=>n(`/annualfees/add?vehicleId=${f.id}`),children:"Add Annual Fee"})]})})]},f.id)),t.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(md,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-garage-blue mb-2",children:"No Vehicles Found"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Add vehicles to your garage to manage their annual fees."}),o.jsx(z,{onClick:()=>n("/vehicles/add"),children:"Add Vehicle"})]})]})}),o.jsx(ln,{value:"overdue",className:"mt-4",children:u.length>0?o.jsx("div",{className:"space-y-4",children:u.map(f=>{const m=t.find(_=>_.id===f.vehicleId),g=rm(f.category);return o.jsxs(ve,{className:"overflow-hidden border-red-200",children:[o.jsxs(_e,{className:"bg-red-50 flex flex-row items-center justify-between py-3",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"flex items-center text-base",children:[o.jsx(yN,{className:"w-4 h-4 mr-2 text-red-600"}),o.jsx("span",{className:"text-red-800",children:f.name})]}),o.jsx(ht,{children:m?`${m.year} ${m.make} ${m.model}`:"Unknown Vehicle"})]}),o.jsx(rd,{variant:g.variant,children:g.label})]}),o.jsx(ye,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),o.jsx("p",{className:"font-medium text-red-700",children:new Date(f.dueDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount"}),o.jsxs("p",{className:"font-medium",children:["$",f.amount.toFixed(2)]})]}),o.jsx("div",{className:"md:text-right",children:o.jsx(z,{size:"sm",onClick:()=>n(`/annualfees/edit/${f.id}`),children:"Mark as Paid"})})]})})]},f.id)})}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(Bf,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),o.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Overdue Fees"}),o.jsx("p",{className:"text-muted-foreground",children:"All your annual fees are up to date."})]})}),o.jsx(ln,{value:"upcoming",className:"mt-4",children:c.length>0?o.jsx("div",{className:"space-y-4",children:c.map(f=>{const m=t.find(x=>x.id===f.vehicleId),g=new Date(f.dueDate),_=Math.ceil((g.getTime()-a.getTime())/(1e3*60*60*24)),v=rm(f.category);return o.jsxs(ve,{className:"overflow-hidden border-amber-200",children:[o.jsxs(_e,{className:"bg-amber-50 flex flex-row items-center justify-between py-3",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"flex items-center text-base",children:[o.jsx(Er,{className:"w-4 h-4 mr-2 text-amber-600"}),o.jsx("span",{className:"text-amber-800",children:f.name})]}),o.jsx(ht,{children:m?`${m.year} ${m.make} ${m.model}`:"Unknown Vehicle"})]}),o.jsx(rd,{variant:v.variant,children:v.label})]}),o.jsx(ye,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),o.jsxs("p",{className:"font-medium text-amber-700",children:[new Date(f.dueDate).toLocaleDateString(),o.jsxs("span",{className:"ml-2 text-xs",children:["(",_," ",_===1?"day":"days"," left)"]})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount"}),o.jsxs("p",{className:"font-medium",children:["$",f.amount.toFixed(2)]})]}),o.jsx("div",{className:"md:text-right",children:o.jsx(z,{size:"sm",onClick:()=>n(`/annualfees/edit/${f.id}`),children:"Mark as Paid"})})]})})]},f.id)})}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(Bf,{className:"mx-auto h-16 w-16 text-green-500 mb-4"}),o.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Upcoming Dues"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have any annual fees due in the next 30 days."})]})}),o.jsx(ln,{value:"paid",className:"mt-4",children:d.length>0?o.jsx("div",{className:"space-y-4",children:d.map(f=>{const m=t.find(_=>_.id===f.vehicleId),g=rm(f.category);return o.jsxs(ve,{className:"overflow-hidden border-green-200",children:[o.jsxs(_e,{className:"bg-green-50 flex flex-row items-center justify-between py-3",children:[o.jsxs("div",{children:[o.jsxs(be,{className:"flex items-center text-base",children:[o.jsx(Bf,{className:"w-4 h-4 mr-2 text-green-600"}),o.jsx("span",{className:"text-green-800",children:f.name})]}),o.jsx(ht,{children:m?`${m.year} ${m.make} ${m.model}`:"Unknown Vehicle"})]}),o.jsx(rd,{variant:g.variant,children:g.label})]}),o.jsx(ye,{className:"p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),o.jsx("p",{className:"font-medium",children:new Date(f.dueDate).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Paid On"}),o.jsx("p",{className:"font-medium text-green-700",children:f.paidDate?new Date(f.paidDate).toLocaleDateString():"Unknown"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount"}),o.jsxs("p",{className:"font-medium",children:["$",f.amount.toFixed(2)]})]})]})})]},f.id)})}):o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(md,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),o.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Paid Fees"}),o.jsx("p",{className:"text-muted-foreground",children:"You haven't marked any annual fees as paid yet."})]})})]})]})},Fne=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(Vne,{})}),o.jsx(jt,{})]})}),$ne=fu({vehicleId:St({required_error:"Please select a vehicle"}),name:St().min(2,{message:"Fee name must be at least 2 characters"}),amount:$b.number().min(0,{message:"Amount must be a positive number"}),dueDate:il({required_error:"Due date is required"}),description:St().optional(),isPaid:xh().default(!1),paidDate:il().optional().nullable(),category:Fb(["tax","permit","subscription","other"],{required_error:"Please select a category"}),recurring:xh().default(!0),documents:Vb(St()).optional()}),Une=({onSubmit:t,initialData:e,buttonText:n="Add Annual Fee"})=>{const{vehicles:r}=Xe(),s=ai({resolver:ya($ne),defaultValues:e?{...e,dueDate:e.dueDate?new Date(e.dueDate):void 0,paidDate:e.paidDate?new Date(e.paidDate):null}:{isPaid:!1,recurring:!0,documents:[],category:"other"}}),i=s.watch("isPaid");function a(l){const c={vehicleId:l.vehicleId,name:l.name,amount:l.amount,dueDate:l.dueDate.toISOString().split("T")[0],isPaid:l.isPaid,category:l.category,recurring:l.recurring??!0,description:l.description||"",paidDate:l.paidDate?l.paidDate.toISOString().split("T")[0]:void 0,documents:l.documents||[]};t(c)}return o.jsx(mu,{...s,children:o.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-6",children:[o.jsx(st,{control:s.control,name:"vehicleId",render:({field:l})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Vehicle"}),o.jsxs(xs,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(tt,{children:o.jsx(Wr,{children:o.jsx(ws,{placeholder:"Select vehicle"})})}),o.jsx(Hr,{children:r.map(c=>o.jsxs(Qt,{value:c.id,children:[c.year," ",c.make," ",c.model," (",c.licensePlate,")"]},c.id))})]}),o.jsx(at,{})]})}),o.jsx(st,{control:s.control,name:"name",render:({field:l})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Fee Name"}),o.jsx(tt,{children:o.jsx(Ee,{placeholder:"e.g., Annual Fee, Road Worthiness",...l})}),o.jsx(at,{})]})}),o.jsx(st,{control:s.control,name:"category",render:({field:l})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Category"}),o.jsxs(xs,{onValueChange:l.onChange,defaultValue:l.value,children:[o.jsx(tt,{children:o.jsx(Wr,{children:o.jsx(ws,{placeholder:"Select a category"})})}),o.jsxs(Hr,{children:[o.jsx(Qt,{value:"tax",children:"Tax"}),o.jsx(Qt,{value:"permit",children:"Permit"}),o.jsx(Qt,{value:"subscription",children:"Subscription"}),o.jsx(Qt,{value:"other",children:"Other"})]})]}),o.jsx(at,{})]})}),o.jsx(st,{control:s.control,name:"amount",render:({field:l})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Amount"}),o.jsx(tt,{children:o.jsx(Ee,{type:"number",placeholder:"0.00",...l})}),o.jsx(at,{})]})}),o.jsx(st,{control:s.control,name:"dueDate",render:({field:l})=>o.jsxs(et,{className:"flex flex-col",children:[o.jsx(Je,{children:"Due Date"}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsx(tt,{children:o.jsxs(z,{variant:"outline",className:`w-full pl-3 text-left font-normal ${!l.value&&"text-muted-foreground"}`,children:[l.value?Zt(l.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(Gs,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Wi,{className:"w-auto p-0",align:"start",children:o.jsx(zi,{mode:"single",selected:l.value,onSelect:l.onChange,initialFocus:!0})})]}),o.jsx(at,{})]})}),o.jsx(st,{control:s.control,name:"recurring",render:({field:l})=>o.jsxs(et,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[o.jsx(tt,{children:o.jsx(Jp,{checked:l.value,onCheckedChange:l.onChange})}),o.jsxs("div",{className:"space-y-1 leading-none",children:[o.jsx(Je,{children:"Recurring Fee"}),o.jsx(wh,{children:"This fee repeats annually"})]})]})}),o.jsx(st,{control:s.control,name:"isPaid",render:({field:l})=>o.jsxs(et,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[o.jsx(tt,{children:o.jsx(Jp,{checked:l.value,onCheckedChange:l.onChange})}),o.jsxs("div",{className:"space-y-1 leading-none",children:[o.jsx(Je,{children:"Paid"}),o.jsx(wh,{children:"Mark this fee as paid"})]})]})}),i&&o.jsx(st,{control:s.control,name:"paidDate",render:({field:l})=>o.jsxs(et,{className:"flex flex-col",children:[o.jsx(Je,{children:"Payment Date"}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsx(tt,{children:o.jsxs(z,{variant:"outline",className:`w-full pl-3 text-left font-normal ${!l.value&&"text-muted-foreground"}`,children:[l.value?Zt(l.value,"PPP"):o.jsx("span",{children:"Pick a date"}),o.jsx(Gs,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Wi,{className:"w-auto p-0",align:"start",children:o.jsx(zi,{mode:"single",selected:l.value||void 0,onSelect:l.onChange,initialFocus:!0})})]}),o.jsx(at,{})]})}),o.jsx(st,{control:s.control,name:"description",render:({field:l})=>o.jsxs(et,{children:[o.jsx(Je,{children:"Description (Optional)"}),o.jsx(tt,{children:o.jsx(_l,{placeholder:"Additional details about this fee",className:"resize-none",...l,value:l.value||""})}),o.jsx(at,{})]})}),o.jsx(z,{type:"submit",children:n})]})})},Bne=()=>{const t=We(),[e]=i9(),{id:n}=qr(),{addAnnualFee:r,updateAnnualFee:s,annualFees:i,vehicles:a}=Xe(),l=e.get("vehicleId"),c=!!n,u=c?i.find(_=>_.id===n):void 0,d=_=>{if(!_.name||!_.vehicleId||_.amount===void 0||!_.dueDate||_.isPaid===void 0||!_.category||_.recurring===void 0){console.error("Missing required fields in annual fee data:",_);return}c&&n?s(n,_):r(_),t("/annualfees")},f=(u==null?void 0:u.vehicleId)||l||"",m=a.find(_=>_.id===f),g=()=>{t("/annualfees")};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-4",children:o.jsxs(z,{variant:"ghost",className:"flex items-center text-muted-foreground mb-4",onClick:g,children:[o.jsx(bn,{className:"w-4 h-4 mr-1"}),"Back to Annual Fees"]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:c?"Edit Annual Fee":"Add Annual Fee"}),o.jsx("p",{className:"text-muted-foreground",children:m?`${c?"Edit":"Add"} annual fee for your ${m.year} ${m.make} ${m.model}`:`${c?"Edit":"Add"} a new annual fee for your vehicle`})]}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:o.jsx(Une,{onSubmit:d,initialData:u,buttonText:c?"Save Changes":"Add Annual Fee"})})]})},vC=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(Bne,{})}),o.jsx(jt,{})]})});var rE="Dialog",[BO,zO]=ni(rE),[zne,bs]=BO(rE),WO=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=Ks({prop:r,defaultProp:s,onChange:i});return o.jsx(zne,{scope:e,triggerRef:l,contentRef:c,contentId:Fr(),titleId:Fr(),descriptionId:Fr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};WO.displayName=rE;var HO="DialogTrigger",qO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(HO,n),i=ot(e,s.triggerRef);return o.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":oE(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)})});qO.displayName=HO;var sE="DialogPortal",[Wne,KO]=BO(sE,{forceMount:void 0}),GO=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=bs(sE,e);return o.jsx(Wne,{scope:e,forceMount:n,children:p.Children.map(r,a=>o.jsx(gr,{present:n||i.open,children:o.jsx(Qc,{asChild:!0,container:s,children:a})}))})};GO.displayName=sE;var eg="DialogOverlay",YO=p.forwardRef((t,e)=>{const n=KO(eg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bs(eg,t.__scopeDialog);return i.modal?o.jsx(gr,{present:r||i.open,children:o.jsx(Hne,{...s,ref:e})}):null});YO.displayName=eg;var Hne=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(eg,n);return o.jsx(Yh,{as:qs,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ke.div,{"data-state":oE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ll="DialogContent",QO=p.forwardRef((t,e)=>{const n=KO(ll,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=bs(ll,t.__scopeDialog);return o.jsx(gr,{present:r||i.open,children:i.modal?o.jsx(qne,{...s,ref:e}):o.jsx(Kne,{...s,ref:e})})});QO.displayName=ll;var qne=p.forwardRef((t,e)=>{const n=bs(ll,t.__scopeDialog),r=p.useRef(null),s=ot(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return hv(i)},[]),o.jsx(ZO,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),Kne=p.forwardRef((t,e)=>{const n=bs(ll,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return o.jsx(ZO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ZO=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,l=bs(ll,n),c=p.useRef(null),u=ot(e,c);return cv(),o.jsxs(o.Fragment,{children:[o.jsx(Gh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:o.jsx(hl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oE(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Yne,{titleId:l.titleId}),o.jsx(Zne,{contentRef:c,descriptionId:l.descriptionId})]})]})}),iE="DialogTitle",XO=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(iE,n);return o.jsx(ke.h2,{id:s.titleId,...r,ref:e})});XO.displayName=iE;var JO="DialogDescription",e4=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(JO,n);return o.jsx(ke.p,{id:s.descriptionId,...r,ref:e})});e4.displayName=JO;var t4="DialogClose",n4=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=bs(t4,n);return o.jsx(ke.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});n4.displayName=t4;function oE(t){return t?"open":"closed"}var r4="DialogTitleWarning",[Gne,s4]=JF(r4,{contentName:ll,titleName:iE,docsSlug:"dialog"}),Yne=({titleId:t})=>{const e=s4(r4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Qne="DialogDescriptionWarning",Zne=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s4(Qne).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},i4=WO,o4=qO,a4=GO,aE=YO,lE=QO,cE=XO,uE=e4,dE=n4;const Xne=i4,Jne=o4,ere=a4,l4=p.forwardRef(({className:t,...e},n)=>o.jsx(aE,{ref:n,className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));l4.displayName=aE.displayName;const c4=p.forwardRef(({className:t,children:e,...n},r)=>o.jsxs(ere,{children:[o.jsx(l4,{}),o.jsxs(lE,{ref:r,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(dE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(i_,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));c4.displayName=lE.displayName;const u4=({className:t,...e})=>o.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});u4.displayName="DialogHeader";const d4=({className:t,...e})=>o.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});d4.displayName="DialogFooter";const h4=p.forwardRef(({className:t,...e},n)=>o.jsx(cE,{ref:n,className:ie("text-lg font-semibold leading-none tracking-tight",t),...e}));h4.displayName=cE.displayName;const f4=p.forwardRef(({className:t,...e},n)=>o.jsx(uE,{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));f4.displayName=uE.displayName;const yC=[{value:"24",label:"24 hours",multiplier:.9},{value:"48",label:"2 days (48 hours)",multiplier:1.7},{value:"72",label:"3 days (72 hours)",multiplier:2.4},{value:"168",label:"1 week (7 days)",multiplier:5}],m4=({rental:t,vehicle:e})=>{const{completeRental:n,getRentalTimeRemaining:r,extendRental:s}=Xe(),[i,a]=p.useState(""),[l,c]=p.useState("24"),[u,d]=p.useState(Math.round(t.rentalFee*.9)),[f,m]=p.useState(!1);p.useEffect(()=>{g();const b=setInterval(g,6e4);return()=>clearInterval(b)},[t.id]),p.useEffect(()=>{const b=yC.find(w=>w.value===l);if(b){const w=t.rentalFee/24,E=Math.round(w*parseInt(l)*b.multiplier);d(E)}},[l,t.rentalFee]);const g=()=>{const b=r(t.id);if(b<=0){a("Expired");return}const w=Math.floor(b/(1e3*60*60)),E=Math.floor(b%(1e3*60*60)/(1e3*60));a(`${w}h ${E}m`)},_=()=>{n(t.id),mt.success("Vehicle marked as returned successfully")},v=()=>{const b=parseInt(l),w=new Date(t.endTime),E=b<=72?Qw(w,b):pn(w,7);s(t.id,{endTime:E.toISOString(),additionalFee:u}),m(!1),mt.success(`Rental extended by ${l} hours`)},x=b=>new Date(b).toLocaleString();return o.jsxs(ve,{className:t.status==="active"?"border-green-500 border-2":"",children:[o.jsx(_e,{className:"pb-3",children:o.jsxs(be,{className:"flex justify-between items-center",children:[o.jsxs("span",{children:[e.year," ",e.make," ",e.model]}),o.jsx("span",{className:`text-sm px-2 py-1 rounded ${t.status==="active"?"bg-green-100 text-green-800":t.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]})}),o.jsx(ye,{className:"pb-2",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Renter"}),o.jsx("p",{className:"text-sm",children:t.renter.fullName}),o.jsxs("p",{className:"text-sm text-gray-500",children:[t.renter.email," | ",t.renter.phone]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Start"}),o.jsx("p",{className:"text-sm",children:x(t.startTime)})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"End"}),o.jsx("p",{className:"text-sm",children:x(t.endTime)})]})]}),t.status==="active"&&o.jsxs("div",{className:"bg-green-50 p-2 rounded text-center",children:[o.jsx("span",{className:"text-sm font-medium",children:"Time remaining: "}),o.jsx("span",{className:"text-sm font-bold",children:i})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:"Fee"}),o.jsxs("p",{className:"text-sm",children:["MVR",t.rentalFee.toFixed(2)]})]})]})}),t.status==="active"&&o.jsxs(hu,{className:"pt-0 flex gap-2",children:[o.jsxs(Xne,{open:f,onOpenChange:m,children:[o.jsx(Jne,{asChild:!0,children:o.jsx(z,{variant:"outline",size:"sm",className:"flex-1",children:"Extend Rental"})}),o.jsxs(c4,{children:[o.jsxs(u4,{children:[o.jsx(h4,{children:"Extend Rental Period"}),o.jsxs(f4,{children:["Add more time to the current rental period for ",e.year," ",e.make," ",e.model,"."]})]}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"Current End Time"}),o.jsx(Ee,{value:x(t.endTime),disabled:!0,className:"bg-gray-50"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"extensionHours",children:"Add Time"}),o.jsxs(xs,{value:l,onValueChange:c,children:[o.jsx(Wr,{children:o.jsx(ws,{placeholder:"Select extension period"})}),o.jsx(Hr,{children:yC.map(b=>o.jsx(Qt,{value:b.value,children:b.label},b.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{children:"New End Time"}),o.jsx(Ee,{value:x(parseInt(l)<=72?Qw(new Date(t.endTime),parseInt(l)).toISOString():pn(new Date(t.endTime),7).toISOString()),disabled:!0,className:"bg-gray-50"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ze,{htmlFor:"extensionFee",children:"Extension Fee (MVR)"}),o.jsx(Ee,{id:"extensionFee",type:"number",min:"0",step:"0.01",value:u,onChange:b=>d(parseFloat(b.target.value))})]})]}),o.jsxs(d4,{children:[o.jsx(z,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),o.jsx(z,{onClick:v,children:"Confirm Extension"})]})]})]}),o.jsx(z,{variant:"outline",size:"sm",className:"flex-1",onClick:_,children:"Mark as Returned"})]})]})},tre=()=>{const{rentals:t,vehicles:e}=Xe(),n=We(),[r,s]=p.useState(""),[i,a]=p.useState("active"),l=t.filter(c=>{if(i==="active"&&c.status!=="active"||i==="completed"&&c.status!=="completed"||i==="cancelled"&&c.status!=="cancelled")return!1;const u=e.find(f=>f.id===c.vehicleId);if(!u)return!1;if(r==="")return!0;const d=r.toLowerCase();return c.renter.fullName.toLowerCase().includes(d)||c.renter.email.toLowerCase().includes(d)||u.make.toLowerCase().includes(d)||u.model.toLowerCase().includes(d)||u.licensePlate.toLowerCase().includes(d)});return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 space-y-4 md:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Vehicle Rentals"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your vehicle rentals."})]}),o.jsxs(z,{className:"bg-garage-blue hover:bg-garage-blue/90",onClick:()=>n("/vehicles"),children:[o.jsx(_g,{className:"mr-2 h-4 w-4"}),"Rent a Vehicle"]})]}),o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ee,{placeholder:"Search by renter name, email, vehicle...",value:r,onChange:c=>s(c.target.value),className:"pl-10"})]}),o.jsx(wl,{value:i,onValueChange:a,className:"mb-6",children:o.jsxs(va,{className:"w-full md:w-auto",children:[o.jsx(Dt,{value:"active",className:"flex-1",children:"Active Rentals"}),o.jsx(Dt,{value:"completed",className:"flex-1",children:"Completed"}),o.jsx(Dt,{value:"cancelled",className:"flex-1",children:"Cancelled"})]})}),l.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>{const u=e.find(d=>d.id===c.vehicleId);return u?o.jsx(m4,{rental:c,vehicle:u},c.id):null})}):o.jsx("div",{className:"text-center py-12",children:t.some(c=>c.status===i)?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg mb-2",children:"No rentals match your search."}),o.jsx("p",{className:"text-muted-foreground",children:"Try a different search term."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{className:"text-lg mb-2",children:["No ",i," rentals found."]}),i==="active"&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by renting out a vehicle."}),o.jsx(z,{onClick:()=>n("/vehicles"),children:"Rent a Vehicle"})]})]})})]})},nre=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(tre,{})}),o.jsx(jt,{})]}),p4=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:ie("w-full caption-bottom text-sm",t),...e})}));p4.displayName="Table";const g4=p.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:ie("[&_tr]:border-b",t),...e}));g4.displayName="TableHeader";const v4=p.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:ie("[&_tr:last-child]:border-0",t),...e}));v4.displayName="TableBody";const rre=p.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));rre.displayName="TableFooter";const s0=p.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));s0.displayName="TableRow";const uo=p.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));uo.displayName="TableHead";const ho=p.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ho.displayName="TableCell";const sre=p.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:ie("mt-4 text-sm text-muted-foreground",t),...e}));sre.displayName="TableCaption";const sm=t=>new Intl.NumberFormat("en-MV",{style:"currency",currency:"MVR"}).format(t),ire=t=>Zt(t,"MMMM yyyy"),ore=t=>{const e=new Set;return t.forEach(n=>{const r=new Date(n.startTime),s=Zt(r,"yyyy-MM");e.add(s)}),Array.from(e).map(n=>{const[r,s]=n.split("-"),i=new Date(parseInt(r),parseInt(s)-1);return{value:n,label:ire(i)}}).sort((n,r)=>r.value.localeCompare(n.value))},are=()=>{var _;const{rentals:t,vehicles:e,customers:n}=Xe(),r=We(),[s,i]=p.useState(""),[a,l]=p.useState("all"),[c,u]=p.useState("all"),d=p.useMemo(()=>ore(t),[t]);p.useEffect(()=>{d.length>0&&a==="all"&&l(d[0].value)},[d]);const f=p.useMemo(()=>t.filter(v=>{if(c!=="all"&&v.status!==c)return!1;if(a!=="all"){const x=new Date(v.startTime);if(Zt(x,"yyyy-MM")!==a)return!1}if(s){const x=e.find(V=>V.id===v.vehicleId),b=n.find(V=>V.id===v.customerId),w=s.toLowerCase(),E=x&&(x.make.toLowerCase().includes(w)||x.model.toLowerCase().includes(w)||x.licensePlate.toLowerCase().includes(w)),S=b&&(b.fullName.toLowerCase().includes(w)||b.email.toLowerCase().includes(w)),A=v.renter.fullName.toLowerCase().includes(w)||v.renter.email.toLowerCase().includes(w);return E||S||A}return!0}),[t,a,c,s,e,n]),m=p.useMemo(()=>f.reduce((v,x)=>v+x.rentalFee,0),[f]),g=p.useMemo(()=>{const v={active:0,completed:0,cancelled:0};return f.forEach(x=>{x.status in v&&v[x.status]++}),v},[f]);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 space-y-4 md:space-y-0",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Rental Records"}),o.jsx("p",{className:"text-muted-foreground",children:"Track and analyze your rental history and revenue."})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Time Period"}),o.jsxs(xs,{value:a,onValueChange:v=>l(v),children:[o.jsx(Wr,{children:o.jsx(ws,{placeholder:"Select period"})}),o.jsxs(Hr,{children:[o.jsx(Qt,{value:"all",children:"All Time"}),d.map(v=>o.jsx(Qt,{value:v.value,children:v.label},v.value))]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),o.jsxs(xs,{value:c,onValueChange:v=>u(v),children:[o.jsx(Wr,{children:o.jsx(ws,{placeholder:"Filter by status"})}),o.jsxs(Hr,{children:[o.jsx(Qt,{value:"all",children:"All Status"}),o.jsx(Qt,{value:"active",children:"Active"}),o.jsx(Qt,{value:"completed",children:"Completed"}),o.jsx(Qt,{value:"cancelled",children:"Cancelled"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Search"}),o.jsxs("div",{className:"relative",children:[o.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ee,{placeholder:"Search vehicles, customers...",value:s,onChange:v=>i(v.target.value),className:"pl-10"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsxs(ve,{className:"bg-white",children:[o.jsx(_e,{className:"pb-2",children:o.jsx(be,{className:"text-lg",children:"Total Revenue"})}),o.jsxs(ye,{children:[o.jsx("div",{className:"text-3xl font-bold text-garage-blue",children:sm(m)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:a==="all"?"All time":`For ${(_=d.find(v=>v.value===a))==null?void 0:_.label}`})]})]}),o.jsxs(ve,{className:"bg-white",children:[o.jsx(_e,{className:"pb-2",children:o.jsx(be,{className:"text-lg",children:"Total Rentals"})}),o.jsxs(ye,{children:[o.jsx("div",{className:"text-3xl font-bold text-garage-blue",children:f.length}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Active: ",g.active," | Completed: ",g.completed," | Cancelled: ",g.cancelled]})]})]}),o.jsxs(ve,{className:"bg-white",children:[o.jsx(_e,{className:"pb-2",children:o.jsx(be,{className:"text-lg",children:"Average Rental Fee"})}),o.jsxs(ye,{children:[o.jsx("div",{className:"text-3xl font-bold text-garage-blue",children:f.length>0?sm(m/f.length):sm(0)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Per rental transaction"})]})]})]}),o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{children:"Rental Records"})}),o.jsx(ye,{children:f.length>0?o.jsxs(p4,{children:[o.jsx(g4,{children:o.jsxs(s0,{children:[o.jsx(uo,{children:"Vehicle"}),o.jsx(uo,{children:"Renter"}),o.jsx(uo,{children:"Start Date"}),o.jsx(uo,{children:"End Date"}),o.jsx(uo,{children:"Status"}),o.jsx(uo,{children:"Rental Fee"}),o.jsx(uo,{children:"Actions"})]})}),o.jsx(v4,{children:f.map(v=>{const x=e.find(b=>b.id===v.vehicleId);return o.jsxs(s0,{children:[o.jsx(ho,{className:"font-medium",children:x?`${x.year} ${x.make} ${x.model}`:"Unknown Vehicle"}),o.jsx(ho,{children:v.renter.fullName}),o.jsx(ho,{children:Zt(new Date(v.startTime),"MMM d, yyyy")}),o.jsx(ho,{children:Zt(new Date(v.endTime),"MMM d, yyyy")}),o.jsx(ho,{children:o.jsx(rd,{className:v.status==="active"?"bg-green-100 text-green-800 hover:bg-green-200":v.status==="completed"?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-red-100 text-red-800 hover:bg-red-200",children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})}),o.jsx(ho,{children:sm(v.rentalFee)}),o.jsx(ho,{children:o.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(`/rentals/${v.id}`),children:"View Details"})})]},v.id)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-lg mb-2",children:"No rental records found."}),o.jsx("p",{className:"text-muted-foreground",children:s?"Try a different search term or filter.":"Start by renting out a vehicle."})]})})]})]})},lre=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(are,{})}),o.jsx(jt,{})]})}),xC=[{value:"24",label:"24 hours",baseFee:100,multiplier:1},{value:"48",label:"2 days (48 hours)",baseFee:100,multiplier:1.9},{value:"72",label:"3 days (72 hours)",baseFee:100,multiplier:2.7},{value:"168",label:"1 week (7 days)",baseFee:100,multiplier:5.5}],y4=({vehicle:t,onSubmit:e,customerData:n})=>{const[r,s]=p.useState(new Date),[i,a]=p.useState(null),[l,c]=p.useState(void 0),[u,d]=p.useState("24"),[f,m]=p.useState(100),{register:g,handleSubmit:_,formState:{errors:v},setValue:x,watch:b,reset:w}=ai();p.useEffect(()=>{n&&(x("fullName",n.fullName),x("email",n.email),x("phone",n.phone),x("address",n.address),x("licenseNumber",n.licenseNumber),n.idImageUrl&&c(n.idImageUrl))},[n,x]),p.useEffect(()=>{const T=xC.find(j=>j.value===u);if(T){const j=Math.round(T.baseFee*T.multiplier);m(j),x("rentalFee",j)}},[u,x]);const E=T=>{if(T.target.files&&T.target.files[0]){const j=T.target.files[0];a(j);const C=new FileReader;C.onload=R=>{var D;c((D=R.target)==null?void 0:D.result)},C.readAsDataURL(j)}},S=()=>{const T=parseInt(u);return T<=72?Qw(r,T):pn(r,7)},A=T=>{d(T)},V=T=>{const j=S(),C=()=>{if(i){const D=new FileReader;D.onload=P=>{var H;const k=(H=P.target)==null?void 0:H.result;R(k)},D.readAsDataURL(i)}else R(l)},R=D=>{e({startTime:r.toISOString(),endTime:j.toISOString(),renter:{fullName:T.fullName,email:T.email,phone:T.phone,address:T.address,licenseNumber:T.licenseNumber,idImageUrl:D,customerId:n==null?void 0:n.id},rentalFee:parseFloat(T.rentalFee),customerId:n==null?void 0:n.id})};C()};return o.jsxs("form",{onSubmit:_(V),className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Vehicle Information"}),o.jsxs("div",{className:"bg-gray-50 rounded p-3 space-y-2",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Vehicle"}),o.jsxs("p",{className:"font-medium",children:[t.year," ",t.make," ",t.model]})]}),o.jsxs("div",{children:[o.jsx(ze,{children:"License Plate"}),o.jsx("p",{className:"font-medium",children:t.licensePlate})]}),o.jsxs("div",{children:[o.jsx(ze,{children:"Color"}),o.jsx("p",{className:"font-medium",children:t.color})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"startTime",children:"Rental Start Time"}),o.jsxs(la,{children:[o.jsx(ca,{asChild:!0,children:o.jsxs(z,{variant:"outline",className:ie("w-full justify-start text-left font-normal",!r&&"text-muted-foreground"),children:[o.jsx(Gs,{className:"mr-2 h-4 w-4"}),r?Zt(r,"PPP HH:mm"):o.jsx("span",{children:"Pick a date"})]})}),o.jsxs(Wi,{className:"w-auto p-0",children:[o.jsx(zi,{mode:"single",selected:r,onSelect:T=>T&&s(T),initialFocus:!0}),o.jsxs("div",{className:"p-3 border-t border-border",children:[o.jsx(ze,{htmlFor:"startTime",children:"Time"}),o.jsx(Ee,{id:"startTime",type:"time",value:Zt(r,"HH:mm"),onChange:T=>{const[j,C]=T.target.value.split(":").map(Number),R=new Date(r);R.setHours(j,C),s(R)},className:"mt-1"})]})]})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"rentalDuration",children:"Rental Duration"}),o.jsxs(xs,{value:u,onValueChange:A,children:[o.jsx(Wr,{className:"w-full",children:o.jsx(ws,{placeholder:"Select duration"})}),o.jsx(Hr,{children:xC.map(T=>o.jsx(Qt,{value:T.value,children:T.label},T.value))})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"endTime",children:"Rental End Time"}),o.jsx(Ee,{id:"endTime",value:Zt(S(),"PPP HH:mm"),disabled:!0,className:"bg-gray-50"})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"rentalFee",children:"Rental Fee ($)"}),o.jsx(Ee,{id:"rentalFee",type:"number",step:"0.01",...g("rentalFee",{required:"Rental fee is required",min:{value:0,message:"Rental fee must be positive"}}),value:f,onChange:T=>m(parseFloat(T.target.value)),className:v.rentalFee?"border-red-500":""}),v.rentalFee&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:v.rentalFee.message})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-medium",children:["Renter Information ",n&&"(Pre-filled)"]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"fullName",children:"Full Name*"}),o.jsx(Ee,{id:"fullName",...g("fullName",{required:"Full name is required"}),disabled:!!n,className:ie(v.fullName?"border-red-500":"",n?"bg-gray-50":"")}),v.fullName&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:v.fullName.message})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"email",children:"Email*"}),o.jsx(Ee,{id:"email",type:"email",...g("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),disabled:!!n,className:ie(v.email?"border-red-500":"",n?"bg-gray-50":"")}),v.email&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:v.email.message})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"phone",children:"Phone*"}),o.jsx(Ee,{id:"phone",...g("phone",{required:"Phone is required"}),disabled:!!n,className:ie(v.phone?"border-red-500":"",n?"bg-gray-50":"")}),v.phone&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:v.phone.message})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"address",children:"Address*"}),o.jsx(Ee,{id:"address",...g("address",{required:"Address is required"}),disabled:!!n,className:ie(v.address?"border-red-500":"",n?"bg-gray-50":"")}),v.address&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:v.address.message})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"licenseNumber",children:"Driver's License Number*"}),o.jsx(Ee,{id:"licenseNumber",...g("licenseNumber",{required:"Driver's license number is required"}),disabled:!!n,className:ie(v.licenseNumber?"border-red-500":"",n?"bg-gray-50":"")}),v.licenseNumber&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:v.licenseNumber.message})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"idImage",children:"ID Document / Driver's License"}),n&&l?o.jsxs("div",{className:"mt-2 border rounded-md p-2",children:[o.jsx("img",{src:l,alt:"ID Preview",className:"max-h-32 object-contain mx-auto"}),o.jsx("p",{className:"text-xs text-center mt-1 text-muted-foreground",children:"Using existing ID document from customer records"})]}):o.jsx(ve,{className:"mt-1",children:o.jsx(ye,{className:"p-4",children:o.jsxs("label",{htmlFor:"idImage",className:"flex flex-col items-center gap-2 cursor-pointer",children:[l?o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:l,alt:"ID Preview",className:"max-h-32 object-contain"})}):o.jsxs("div",{className:"flex flex-col items-center gap-2 p-4",children:[o.jsx(wk,{className:"h-8 w-8 text-muted-foreground"}),o.jsx("p",{className:"text-sm text-center",children:"Upload ID or driver's license"}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Click to browse"})]}),o.jsx("input",{id:"idImage",type:"file",accept:"image/*",className:"hidden",onChange:E,disabled:!!n&&!!l})]})})})]})]})]}),o.jsx(z,{type:"submit",className:"w-full bg-garage-blue hover:bg-garage-blue/90",children:"Complete Rental"})]})},cre=()=>{const{vehicleId:t}=qr(),{vehicles:e,customers:n,rentVehicle:r}=Xe(),s=We(),[i,a]=p.useState(""),[l,c]=p.useState(null),[u,d]=p.useState("existing"),f=e.find(x=>x.id===t),m=l?n.find(x=>x.id===l):void 0;p.useEffect(()=>{f!=null&&f.isRented&&s("/vehicles")},[f,s]);const g=n.filter(x=>{if(i==="")return!0;const b=i.toLowerCase();return x.fullName.toLowerCase().includes(b)||x.email.toLowerCase().includes(b)||x.phone.toLowerCase().includes(b)||x.licenseNumber.toLowerCase().includes(b)});if(!f)return o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>s("/vehicles"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Vehicles"]}),o.jsxs(Ws,{variant:"destructive",children:[o.jsx(Ri,{children:"Error"}),o.jsx(Hs,{children:"Vehicle not found."})]})]});if(f.isRented)return o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>s("/vehicles"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Vehicles"]}),o.jsxs(Ws,{variant:"destructive",children:[o.jsx(Ri,{children:"Vehicle Unavailable"}),o.jsx(Hs,{children:"This vehicle is currently rented and unavailable."})]})]});const _=x=>{c(x)},v=x=>{const b=e.find(w=>w.id===f.id);if(b!=null&&b.isRented){alert("This vehicle has just been rented by someone else."),s("/vehicles");return}r(f.id,x),s("/rentals")};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>s("/vehicles"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Vehicles"]}),o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Rent a Vehicle"}),o.jsx("p",{className:"text-muted-foreground",children:"Complete the form below to rent this vehicle."})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsxs(wl,{value:u,onValueChange:d,children:[o.jsx("div",{className:"border-b",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs(va,{className:"border-b-0 -mb-px",children:[o.jsx(Dt,{value:"existing",children:"Existing Customer"}),o.jsx(Dt,{value:"new",children:"New Customer"}),m&&o.jsx(Dt,{value:"details",children:"Rental Details"})]})})}),o.jsxs("div",{className:"p-6",children:[o.jsxs(ln,{value:"existing",className:"space-y-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ee,{placeholder:"Search customers by name, email, phone...",value:i,onChange:x=>a(x.target.value),className:"pl-10"})]}),n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(kc,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"text-lg mb-2",children:"No customers in database"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to add a customer before renting a vehicle."}),o.jsxs(z,{onClick:()=>s("/customers/add"),children:[o.jsx(bN,{className:"mr-2 h-4 w-4"}),"Add Customer"]})]}):g.length===0?o.jsx("div",{className:"text-center py-6",children:o.jsx("p",{className:"text-muted-foreground",children:"No customers match your search."})}):o.jsx("div",{className:"grid grid-cols-1 gap-4 mt-4",children:g.map(x=>o.jsx(ve,{className:`cursor-pointer transition-all ${l===x.id?"border-2 border-blue-500":"hover:shadow-md"}`,onClick:()=>_(x.id),children:o.jsxs(ye,{className:"p-4 flex items-center gap-4",children:[o.jsx("div",{className:"bg-gray-100 rounded-full p-3",children:o.jsx(kc,{className:"h-8 w-8 text-gray-500"})}),o.jsxs("div",{className:"flex-grow",children:[o.jsx("h3",{className:"font-medium",children:x.fullName}),o.jsxs("p",{className:"text-sm text-gray-600",children:[x.email,"  ",x.phone]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["License: ",x.licenseNumber]})]}),o.jsx(z,{variant:l===x.id?"default":"outline",size:"sm",children:l===x.id?"Selected":"Select"})]})},x.id))}),l&&o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx(z,{onClick:()=>d("details"),children:"Continue to Rental Details"})})]}),o.jsx(ln,{value:"new",children:o.jsxs("div",{className:"text-center py-4",children:[o.jsx("p",{className:"mb-6",children:"Add a new customer to the database before renting."}),o.jsxs(z,{onClick:()=>s("/customers/add"),children:[o.jsx(bN,{className:"mr-2 h-4 w-4"}),"Add New Customer"]})]})}),o.jsx(ln,{value:"details",children:m&&o.jsx(y4,{vehicle:f,onSubmit:v,customerData:m})})]})]})})]})},ure=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(cre,{})}),o.jsx(jt,{})]}),dre=()=>{const{rentalId:t}=qr(),{getRentalById:e,vehicles:n,completeRental:r,cancelRental:s,getRentalTimeRemaining:i}=Xe(),a=We(),[l,c]=p.useState(""),u=t?e(t):void 0,d=u?n.find(_=>_.id===u.vehicleId):void 0;p.useEffect(()=>{if(u&&u.status==="active"){f();const _=setInterval(f,6e4);return()=>clearInterval(_)}},[u]);const f=()=>{if(!u)return;const _=i(u.id);if(_<=0){c("Expired");return}const v=Math.floor(_/(1e3*60*60)),x=Math.floor(_%(1e3*60*60)/(1e3*60));c(`${v} hours, ${x} minutes`)};if(!u||!d)return o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>a("/rentals"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Rentals"]}),o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{className:"text-garage-red",children:"Rental Not Found"})}),o.jsx(ye,{children:o.jsx("p",{children:"The rental you're looking for doesn't exist or has been deleted."})})]})]});const m=()=>{r(u.id),a("/rentals")},g=()=>{s(u.id),a("/rentals")};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>a("/rentals"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Rentals"]}),o.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Rental Details"}),o.jsxs("p",{className:"text-muted-foreground",children:["Vehicle: ",d.year," ",d.make," ",d.model]})]}),o.jsx("div",{className:`px-4 py-1 rounded-full text-white ${u.status==="active"?"bg-green-500":u.status==="completed"?"bg-blue-500":"bg-red-500"}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsxs(be,{className:"flex items-center",children:[o.jsx(Y5,{className:"mr-2 h-5 w-5"})," Renter Information"]})}),o.jsxs(ye,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),o.jsx("p",{className:"font-medium",children:u.renter.fullName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:u.renter.email})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:u.renter.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Driver's License"}),o.jsx("p",{className:"font-medium",children:u.renter.licenseNumber})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),o.jsx("p",{className:"font-medium",children:u.renter.address})]}),u.renter.idImageUrl&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"ID Document"}),o.jsx("div",{className:"border rounded-md p-1 inline-block",children:o.jsx("img",{src:u.renter.idImageUrl,alt:"ID Document",className:"max-h-40 object-contain"})})]})]})]}),o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsxs(be,{className:"flex items-center",children:[o.jsx(Gs,{className:"mr-2 h-5 w-5"})," Rental Details"]})}),o.jsxs(ye,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Start Date & Time"}),o.jsx("p",{className:"font-medium",children:new Date(u.startTime).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"End Date & Time"}),o.jsx("p",{className:"font-medium",children:new Date(u.endTime).toLocaleString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Rental Fee"}),o.jsxs("p",{className:"font-medium",children:["$",u.rentalFee.toFixed(2)]})]}),u.status==="active"&&o.jsxs("div",{className:"bg-green-50 p-3 rounded-md",children:[o.jsxs("div",{className:"flex items-center text-green-700 mb-1",children:[o.jsx(W5,{className:"mr-2 h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Time Remaining"})]}),o.jsx("p",{className:"font-bold text-green-800",children:l})]})]})]})]}),o.jsxs("div",{children:[o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{children:"Vehicle Information"})}),o.jsxs(ye,{className:"space-y-4",children:[d.imageUrl&&o.jsx("div",{className:"mb-4",children:o.jsx("img",{src:d.imageUrl,alt:`${d.make} ${d.model}`,className:"w-full h-40 object-cover rounded-md"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Vehicle"}),o.jsxs("p",{className:"font-medium",children:[d.year," ",d.make," ",d.model]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Color"}),o.jsx("p",{className:"font-medium",children:d.color})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"License Plate"}),o.jsx("p",{className:"font-medium",children:d.licensePlate})]}),d.vin&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"VIN"}),o.jsx("p",{className:"font-medium",children:d.vin})]})]})]}),u.status==="active"&&o.jsxs("div",{className:"mt-6 space-y-4",children:[o.jsx(z,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:m,children:"Mark as Returned"}),o.jsx(z,{variant:"outline",className:"w-full text-red-600 border-red-300 hover:bg-red-50",onClick:g,children:"Cancel Rental"})]})]})]})]})},hre=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(dre,{})}),o.jsx(jt,{})]}),fre=({customer:t})=>{const e=We(),{getRentalsByCustomerId:n}=Xe(),r=n(t.id),s=r.length,i=r.find(l=>l.status==="active"),a=new Date(t.createdAt).toLocaleDateString();return o.jsxs(ve,{className:"hover:shadow-md transition-shadow",children:[o.jsx(_e,{className:"pb-2",children:o.jsxs(be,{className:"flex justify-between items-center",children:[o.jsx("span",{children:t.fullName}),i&&o.jsx("span",{className:"text-sm px-2 py-1 rounded bg-green-100 text-green-800",children:"Active Rental"})]})}),o.jsx(ye,{className:"pb-3",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"bg-gray-100 rounded-full p-3 flex-shrink-0",children:o.jsx(kc,{className:"h-8 w-8 text-gray-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:t.email}),o.jsx("p",{className:"text-sm text-gray-500",children:t.phone}),o.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:t.address})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"License #"}),o.jsx("p",{className:"font-medium",children:t.licenseNumber})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Customer since"}),o.jsx("p",{className:"font-medium",children:a})]})]}),s>0&&o.jsx("div",{className:"bg-blue-50 p-2 rounded text-center",children:o.jsxs("span",{className:"text-sm font-medium text-blue-700",children:[s," rental",s!==1?"s":""," to date"]})})]})}),o.jsxs(hu,{className:"pt-0 flex gap-2",children:[o.jsx(z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>e(`/customers/${t.id}`),children:"View Details"}),o.jsx(z,{variant:"default",size:"sm",className:"flex-1",onClick:()=>e(`/customers/${t.id}/rent`),children:"Rent Vehicle"})]})]})},mre=()=>{const{customers:t,refreshSubscriptions:e,isRefreshing:n,lastRefreshed:r}=Xe(),s=We(),[i,a]=p.useState("");console.log("CustomersPage - customers from context:",t);const l=()=>r?new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r):"Never",c=()=>{console.log("Manual refresh triggered"),e()},u=t.filter(d=>{if(i==="")return!0;const f=i.toLowerCase();return d.fullName.toLowerCase().includes(f)||d.email.toLowerCase().includes(f)||d.phone.toLowerCase().includes(f)||d.licenseNumber.toLowerCase().includes(f)});return console.log("CustomersPage - filtered customers:",u),o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 space-y-4 md:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Customer Database"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your rental customers."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(tu,{children:o.jsxs(Dh,{children:[o.jsx(Mh,{asChild:!0,children:o.jsxs(z,{variant:"outline",size:"icon",onClick:c,disabled:n,className:"h-10 w-10",children:[o.jsx(Rh,{className:`h-4 w-4 ${n?"animate-spin":""}`}),o.jsx("span",{className:"sr-only",children:"Refresh data"})]})}),o.jsxs(nu,{children:[o.jsx("p",{children:"Refresh data"}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last refreshed: ",l()]})]})]})}),o.jsxs(z,{className:"bg-garage-blue hover:bg-garage-blue/90",onClick:()=>s("/customers/add"),children:[o.jsx(_g,{className:"mr-2 h-4 w-4"}),"Add Customer"]})]})]}),o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ee,{placeholder:"Search by name, email, phone, or license...",value:i,onChange:d=>a(d.target.value),className:"pl-10"})]}),u.length>0?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(d=>o.jsx(fre,{customer:d},d.id))}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(kc,{className:"mx-auto h-12 w-12 text-muted-foreground opacity-50 mb-4"}),t.length>0?o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg mb-2",children:"No customers match your search."}),o.jsx("p",{className:"text-muted-foreground",children:"Try a different search term."})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-lg mb-2",children:"No customers found."}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Start by adding your first customer."}),o.jsx(z,{onClick:()=>s("/customers/add"),children:"Add Customer"})]})]})]})},pre=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(mre,{})}),o.jsx(jt,{})]}),x4=({customer:t,onSubmit:e})=>{const[n,r]=p.useState(null),[s,i]=p.useState(t==null?void 0:t.idImageUrl),{register:a,handleSubmit:l,formState:{errors:c,isSubmitting:u}}=ai({defaultValues:t?{fullName:t.fullName,email:t.email,phone:t.phone,address:t.address,licenseNumber:t.licenseNumber,notes:t.notes||""}:{}}),d=m=>{if(m.target.files&&m.target.files[0]){const g=m.target.files[0];r(g);const _=new FileReader;_.onload=v=>{var x;i((x=v.target)==null?void 0:x.result)},_.readAsDataURL(g)}},f=m=>{if(console.log("Form data before processing:",m),n){console.log("Processing ID image...");const g=new FileReader;g.onload=_=>{var b;const v=(b=_.target)==null?void 0:b.result;console.log("ID image processed, submitting with image URL");const x={...m,idImageUrl:v};console.log("Final form data with image:",x),e(x)},g.readAsDataURL(n)}else{console.log("No new ID image, submitting with existing or no image");const g={...m,idImageUrl:s};console.log("Final form data:",g),e(g)}};return o.jsxs("form",{onSubmit:m=>{console.log("Form submitted"),l(f)(m)},className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"fullName",children:"Full Name*"}),o.jsx(Ee,{id:"fullName",...a("fullName",{required:"Full name is required"}),placeholder:"Ahmed Mohamed",className:c.fullName?"border-red-500":""}),c.fullName&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.fullName.message})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"email",children:"Email*"}),o.jsx(Ee,{id:"email",type:"email",...a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),placeholder:"ahmed.mohamed@example.com",className:c.email?"border-red-500":""}),c.email&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.email.message})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"phone",children:"Phone Number*"}),o.jsx(Ee,{id:"phone",...a("phone",{required:"Phone number is required"}),placeholder:"7xxxxxx , 9xxxxxx",className:c.phone?"border-red-500":""}),c.phone&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.phone.message})]})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"address",children:"Address*"}),o.jsx(Ee,{id:"address",...a("address",{required:"Address is required"}),placeholder:"address / island name",className:c.address?"border-red-500":""}),c.address&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.address.message})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"licenseNumber",children:"Driver's License Number*"}),o.jsx(Ee,{id:"licenseNumber",...a("licenseNumber",{required:"Driver's license number is required"}),placeholder:"Axxxxxx",className:c.licenseNumber?"border-red-500":""}),c.licenseNumber&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.licenseNumber.message})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"idImage",children:"ID Document (Driver's License)"}),o.jsx(ve,{className:"mt-1 cursor-pointer",children:o.jsx(ye,{className:"p-4",children:o.jsxs("label",{htmlFor:"idImage",className:"flex flex-col items-center gap-2 cursor-pointer",children:[s?o.jsx("div",{className:"mt-2",children:o.jsx("img",{src:s,alt:"ID Preview",className:"max-h-40 object-contain"})}):o.jsxs("div",{className:"flex flex-col items-center gap-2 p-4",children:[o.jsx(wk,{className:"h-8 w-8 text-muted-foreground"}),o.jsx("p",{className:"text-sm",children:"Upload ID or driver's license"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to browse"})]}),o.jsx("input",{id:"idImage",type:"file",accept:"image/*",className:"hidden",onChange:d})]})})})]}),o.jsxs("div",{children:[o.jsx(ze,{htmlFor:"notes",children:"Notes"}),o.jsx(_l,{id:"notes",...a("notes"),placeholder:"Any additional information about the customer...",rows:3})]})]}),o.jsx(z,{type:"submit",className:"w-full bg-garage-blue hover:bg-garage-blue/90",disabled:u,children:t?"Update Customer":"Add Customer"})]})},gre=()=>{const{addCustomer:t}=Xe(),e=We(),n=r=>{console.log("AddCustomerPage received form data:",r),console.log("Calling addCustomer with data..."),t(r),console.log("Customer added, navigating to /customers"),e("/customers")};return o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>e("/customers"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Customers"]}),o.jsx("h1",{className:"text-3xl font-bold text-garage-blue mb-2",children:"Add New Customer"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Create a new customer profile in your database."}),o.jsx(ve,{className:"p-6",children:o.jsx(x4,{onSubmit:n})})]})},vre=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(gre,{})}),o.jsx(jt,{})]}),yre=()=>{const{customerId:t}=qr(),{getCustomerById:e,updateCustomer:n}=Xe(),r=We(),s=t?e(t):void 0,i=a=>{s&&t&&(n(t,a),r(`/customers/${s.id}`))};return s?o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>r(`/customers/${s.id}`),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Customer Details"]}),o.jsx("h1",{className:"text-3xl font-bold text-garage-blue mb-2",children:"Edit Customer"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["Update information for ",s.fullName]}),o.jsx(ve,{className:"p-6",children:o.jsx(x4,{customer:s,onSubmit:i})})]}):o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>r("/customers"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Customers"]}),o.jsxs(Ws,{variant:"destructive",children:[o.jsx(Ri,{children:"Error"}),o.jsx(Hs,{children:"Customer not found."})]})]})},xre=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(yre,{})}),o.jsx(jt,{})]})});var w4="AlertDialog",[wre,tse]=ni(w4,[zO]),Zi=zO(),_4=t=>{const{__scopeAlertDialog:e,...n}=t,r=Zi(e);return o.jsx(i4,{...r,...n,modal:!0})};_4.displayName=w4;var _re="AlertDialogTrigger",b4=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Zi(n);return o.jsx(o4,{...s,...r,ref:e})});b4.displayName=_re;var bre="AlertDialogPortal",E4=t=>{const{__scopeAlertDialog:e,...n}=t,r=Zi(e);return o.jsx(a4,{...r,...n})};E4.displayName=bre;var Ere="AlertDialogOverlay",N4=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Zi(n);return o.jsx(aE,{...s,...r,ref:e})});N4.displayName=Ere;var fc="AlertDialogContent",[Nre,jre]=wre(fc),j4=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Zi(n),a=p.useRef(null),l=ot(e,a),c=p.useRef(null);return o.jsx(Gne,{contentName:fc,titleName:T4,docsSlug:"alert-dialog",children:o.jsx(Nre,{scope:n,cancelRef:c,children:o.jsxs(lE,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:se(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(J0,{children:r}),o.jsx(Cre,{contentRef:a})]})})})});j4.displayName=fc;var T4="AlertDialogTitle",C4=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Zi(n);return o.jsx(cE,{...s,...r,ref:e})});C4.displayName=T4;var S4="AlertDialogDescription",I4=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Zi(n);return o.jsx(uE,{...s,...r,ref:e})});I4.displayName=S4;var Tre="AlertDialogAction",k4=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Zi(n);return o.jsx(dE,{...s,...r,ref:e})});k4.displayName=Tre;var R4="AlertDialogCancel",P4=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=jre(R4,n),i=Zi(n),a=ot(e,s);return o.jsx(dE,{...i,...r,ref:a})});P4.displayName=R4;var Cre=({contentRef:t})=>{const e=`\`${fc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${fc}\` by passing a \`${S4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Sre=_4,Ire=b4,kre=E4,A4=N4,D4=j4,M4=k4,O4=P4,L4=C4,V4=I4;const Rre=Sre,Pre=Ire,Are=kre,F4=p.forwardRef(({className:t,...e},n)=>o.jsx(A4,{className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));F4.displayName=A4.displayName;const $4=p.forwardRef(({className:t,...e},n)=>o.jsxs(Are,{children:[o.jsx(F4,{}),o.jsx(D4,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));$4.displayName=D4.displayName;const U4=({className:t,...e})=>o.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",t),...e});U4.displayName="AlertDialogHeader";const B4=({className:t,...e})=>o.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});B4.displayName="AlertDialogFooter";const z4=p.forwardRef(({className:t,...e},n)=>o.jsx(L4,{ref:n,className:ie("text-lg font-semibold",t),...e}));z4.displayName=L4.displayName;const W4=p.forwardRef(({className:t,...e},n)=>o.jsx(V4,{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));W4.displayName=V4.displayName;const H4=p.forwardRef(({className:t,...e},n)=>o.jsx(M4,{ref:n,className:ie(th(),t),...e}));H4.displayName=M4.displayName;const q4=p.forwardRef(({className:t,...e},n)=>o.jsx(O4,{ref:n,className:ie(th({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));q4.displayName=O4.displayName;const Dre=()=>{const{customerId:t}=qr(),{getCustomerById:e,deleteCustomer:n,getRentalsByCustomerId:r,vehicles:s}=Xe(),i=We(),a=t?e(t):void 0,l=t?r(t):[];if(!a)return o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>i("/customers"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Customers"]}),o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{className:"text-garage-red",children:"Customer Not Found"})}),o.jsx(ye,{children:o.jsx("p",{children:"The customer you're looking for doesn't exist or has been deleted."})})]})]});const c=()=>{n(a.id),i("/customers")};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>i("/customers"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Customers"]}),o.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:a.fullName}),o.jsxs("p",{className:"text-muted-foreground",children:["Customer since ",new Date(a.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(z,{variant:"outline",className:"flex items-center",onClick:()=>i(`/customers/edit/${a.id}`),children:[o.jsx(_N,{className:"mr-2 h-4 w-4"}),"Edit"]}),o.jsxs(Rre,{children:[o.jsx(Pre,{asChild:!0,children:o.jsxs(z,{variant:"destructive",className:"flex items-center",children:[o.jsx(K5,{className:"mr-2 h-4 w-4"}),"Delete"]})}),o.jsxs($4,{children:[o.jsxs(U4,{children:[o.jsx(z4,{children:"Are you absolutely sure?"}),o.jsxs(W4,{children:['This will permanently delete the customer "',a.fullName,'" and cannot be undone.',l.length>0&&o.jsxs("span",{className:"text-red-500 block mt-2",children:["Warning: This customer has ",l.length," rental records associated with them."]})]})]}),o.jsxs(B4,{children:[o.jsx(q4,{children:"Cancel"}),o.jsx(H4,{onClick:c,children:"Delete Customer"})]})]})]}),o.jsxs(z,{className:"bg-garage-blue hover:bg-garage-blue/90",onClick:()=>i(`/customers/${a.id}/rent`),children:[o.jsx(Jx,{className:"mr-2 h-4 w-4"}),"Rent Vehicle"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"md:col-span-2 space-y-6",children:[o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsxs(be,{className:"flex items-center",children:[o.jsx(kc,{className:"mr-2 h-5 w-5"})," Customer Information"]})}),o.jsxs(ye,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:a.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:a.phone})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),o.jsx("p",{className:"font-medium",children:a.address})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Driver's License"}),o.jsx("p",{className:"font-medium",children:a.licenseNumber})]}),a.notes&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Notes"}),o.jsx("p",{children:a.notes})]}),a.idImageUrl&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"ID Document"}),o.jsx("div",{className:"border rounded-md p-1 inline-block",children:o.jsx("img",{src:a.idImageUrl,alt:"ID Document",className:"max-h-40 object-contain"})})]})]})]}),o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsxs(be,{className:"flex items-center",children:[o.jsx(Gs,{className:"mr-2 h-5 w-5"})," Rental History"]})}),o.jsx(ye,{children:l.length>0?o.jsx("div",{className:"space-y-4",children:l.map(u=>{const d=s.find(f=>f.id===u.vehicleId);return d?o.jsx(m4,{rental:u,vehicle:d},u.id):null})}):o.jsxs("div",{className:"text-center py-6",children:[o.jsx("p",{className:"text-muted-foreground",children:"No rental history yet."}),o.jsx(z,{className:"mt-4",onClick:()=>i(`/customers/${a.id}/rent`),children:"Create First Rental"})]})})]})]}),o.jsx("div",{children:o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{children:"Actions"})}),o.jsxs(ye,{className:"space-y-4",children:[o.jsxs(z,{className:"w-full bg-garage-blue hover:bg-garage-blue/90",onClick:()=>i(`/customers/${a.id}/rent`),children:[o.jsx(Jx,{className:"mr-2 h-4 w-4"}),"Rent Vehicle"]}),o.jsxs(z,{variant:"outline",className:"w-full",onClick:()=>i(`/customers/edit/${a.id}`),children:[o.jsx(_N,{className:"mr-2 h-4 w-4"}),"Edit Customer"]})]})]})})]})]})},Mre=()=>o.jsx(_s,{children:o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(Dre,{})}),o.jsx(jt,{})]})}),Ore=()=>{const{customerId:t}=qr(),{getCustomerById:e,vehicles:n,rentVehicle:r}=Xe(),s=We(),[i,a]=p.useState(""),[l,c]=p.useState(null),[u,d]=p.useState("vehicles"),f=t?e(t):void 0,m=n.filter(x=>!x.isRented);p.useEffect(()=>{l&&(m.some(b=>b.id===l)||(c(null),d("vehicles")))},[m,l]);const g=m.filter(x=>{if(i==="")return!0;const b=i.toLowerCase();return x.make.toLowerCase().includes(b)||x.model.toLowerCase().includes(b)||x.licensePlate.toLowerCase().includes(b)||x.year.toString().includes(b)||x.color.toLowerCase().includes(b)});if(!f)return o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>s("/customers"),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Customers"]}),o.jsxs(Ws,{variant:"destructive",children:[o.jsx(Ri,{children:"Error"}),o.jsx(Hs,{children:"Customer not found."})]})]});const _=x=>{m.some(w=>w.id===x)?c(x):alert("This vehicle is no longer available for rent.")},v=x=>{if(l){if(!m.some(E=>E.id===l)){alert("This vehicle has just been rented by someone else."),c(null),d("vehicles");return}const w={...x,customerId:f.id,renter:{...x.renter,customerId:f.id}};r(l,w),s("/rentals")}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs(z,{className:"mb-4",variant:"outline",onClick:()=>s(`/customers/${f.id}`),children:[o.jsx(bn,{className:"mr-2 h-4 w-4"})," Back to Customer"]}),o.jsx("h1",{className:"text-3xl font-bold text-garage-blue",children:"Rent a Vehicle"}),o.jsxs("p",{className:"text-muted-foreground",children:["Creating a rental for ",f.fullName]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1 space-y-6",children:o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{children:"Customer Information"})}),o.jsx(ye,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),o.jsx("p",{className:"font-medium",children:f.fullName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:f.email})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:f.phone})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"License Number"}),o.jsx("p",{className:"font-medium",children:f.licenseNumber})]})]})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(wl,{value:u,onValueChange:d,children:[o.jsxs(va,{className:"mb-4",children:[o.jsx(Dt,{value:"vehicles",children:"Select Vehicle"}),o.jsx(Dt,{value:"details",disabled:!l,children:"Rental Details"})]}),o.jsxs(ln,{value:"vehicles",className:"space-y-6",children:[o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Zc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(Ee,{placeholder:"Search vehicles...",value:i,onChange:x=>a(x.target.value),className:"pl-10"})]}),g.length===0?o.jsxs(Ws,{children:[o.jsx(Ri,{children:"No vehicles available"}),o.jsx(Hs,{children:"No available vehicles found. All vehicles are currently rented or no vehicles match your search."})]}):o.jsx("div",{className:"grid grid-cols-1 gap-4",children:g.map(x=>o.jsx(ve,{className:`cursor-pointer transition-all ${l===x.id?"border-2 border-blue-500":"hover:shadow-md"}`,onClick:()=>_(x.id),children:o.jsxs(ye,{className:"p-4 flex items-center gap-4",children:[x.imageUrl?o.jsx("img",{src:x.imageUrl,alt:`${x.make} ${x.model}`,className:"w-24 h-24 object-cover rounded"}):o.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500",children:"No image"})}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("h3",{className:"font-medium",children:[x.year," ",x.make," ",x.model]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[x.color,"  ",x.licensePlate]})]}),o.jsx("div",{children:o.jsx(z,{variant:l===x.id?"default":"outline",size:"sm",children:l===x.id?"Selected":"Select"})})]})},x.id))}),l&&o.jsx("div",{className:"flex justify-end",children:o.jsx(z,{onClick:()=>d("details"),children:"Continue to Rental Details"})})]}),o.jsx(ln,{value:"details",children:l&&o.jsxs(ve,{children:[o.jsx(_e,{children:o.jsx(be,{children:"Rental Details"})}),o.jsx(ye,{children:m.some(x=>x.id===l)?o.jsx(y4,{vehicle:n.find(x=>x.id===l),onSubmit:v,customerData:f}):o.jsxs(Ws,{variant:"destructive",children:[o.jsx(Ri,{children:"Vehicle No Longer Available"}),o.jsxs(Hs,{children:["This vehicle has been rented by someone else. Please select another vehicle.",o.jsx("div",{className:"mt-4",children:o.jsx(z,{onClick:()=>d("vehicles"),children:"Select Another Vehicle"})})]})]})})]})})]})})]})]})},Lre=()=>o.jsxs("div",{className:"flex flex-col min-h-screen",children:[o.jsx(Nt,{}),o.jsx("main",{className:"container mx-auto py-8 px-4 flex-grow",children:o.jsx(Ore,{})}),o.jsx(jt,{})]}),Vre=new tU,Fre=()=>o.jsx(Y.StrictMode,{children:o.jsx(rU,{client:Vre,children:o.jsx(OW,{children:o.jsx(_s,{children:o.jsxs(tu,{children:[o.jsx(R3,{}),o.jsx(o$,{}),o.jsx(e9,{children:o.jsxs(HU,{children:[o.jsx(ct,{path:"/signin",element:o.jsx(MX,{})}),o.jsx(ct,{path:"/signup",element:o.jsx(VX,{})}),o.jsx(ct,{path:"/",element:o.jsx(yt,{children:o.jsx(JQ,{})})}),o.jsx(ct,{path:"/vehicles",element:o.jsx(yt,{children:o.jsx(oZ,{})})}),o.jsx(ct,{path:"/vehicles/add",element:o.jsx(yt,{children:o.jsx(IX,{})})}),o.jsx(ct,{path:"/vehicles/:id",element:o.jsx(yt,{children:o.jsx(AX,{})})}),o.jsx(ct,{path:"/vehicles/edit/:id",element:o.jsx(yt,{children:o.jsx(RX,{})})}),o.jsx(ct,{path:"/customers",element:o.jsx(yt,{children:o.jsx(pre,{})})}),o.jsx(ct,{path:"/customers/add",element:o.jsx(yt,{children:o.jsx(vre,{})})}),o.jsx(ct,{path:"/customers/:customerId",element:o.jsx(yt,{children:o.jsx(Mre,{})})}),o.jsx(ct,{path:"/customers/edit/:customerId",element:o.jsx(yt,{children:o.jsx(xre,{})})}),o.jsx(ct,{path:"/customers/:customerId/rent",element:o.jsx(yt,{children:o.jsx(Lre,{})})}),o.jsx(ct,{path:"/insurance",element:o.jsx(yt,{children:o.jsx($X,{})})}),o.jsx(ct,{path:"/insurance/add",element:o.jsx(yt,{children:o.jsx(pC,{})})}),o.jsx(ct,{path:"/insurance/edit/:id",element:o.jsx(yt,{children:o.jsx(pC,{})})}),o.jsx(ct,{path:"/registration",element:o.jsx(yt,{children:o.jsx(xne,{})})}),o.jsx(ct,{path:"/registration/add",element:o.jsx(yt,{children:o.jsx(gC,{})})}),o.jsx(ct,{path:"/registration/edit/:id",element:o.jsx(yt,{children:o.jsx(gC,{})})}),o.jsx(ct,{path:"/annualfees",element:o.jsx(yt,{children:o.jsx(Fne,{})})}),o.jsx(ct,{path:"/annualfees/add",element:o.jsx(yt,{children:o.jsx(vC,{})})}),o.jsx(ct,{path:"/annualfees/edit/:id",element:o.jsx(yt,{children:o.jsx(vC,{})})}),o.jsx(ct,{path:"/rentals",element:o.jsx(yt,{children:o.jsx(nre,{})})}),o.jsx(ct,{path:"/rental-records",element:o.jsx(yt,{children:o.jsx(lre,{})})}),o.jsx(ct,{path:"/rentals/:rentalId",element:o.jsx(yt,{children:o.jsx(hre,{})})}),o.jsx(ct,{path:"/vehicles/:vehicleId/rent",element:o.jsx(yt,{children:o.jsx(ure,{})})}),o.jsx(ct,{path:"/maintenance",element:o.jsx(yt,{children:o.jsx(Ene,{})})}),o.jsx(ct,{path:"/maintenance/add",element:o.jsx(yt,{children:o.jsx(jne,{})})}),o.jsx(ct,{path:"/maintenance/edit/:id",element:o.jsx(yt,{children:o.jsx(Tne,{})})}),o.jsx(ct,{path:"/documents",element:o.jsx(yt,{children:o.jsx(One,{})})}),o.jsx(ct,{path:"/incidents",element:o.jsx(yt,{children:o.jsx(Mne,{})})}),o.jsx(ct,{path:"/incidents/add",element:o.jsx(yt,{children:o.jsx(Ane,{})})}),o.jsx(ct,{path:"/incidents/edit/:id",element:o.jsx(yt,{children:o.jsx(Dne,{})})}),o.jsx(ct,{path:"*",element:o.jsx(eZ,{})})]})})]})})})})});zI(document.getElementById("root")).render(o.jsx(Fre,{}));
